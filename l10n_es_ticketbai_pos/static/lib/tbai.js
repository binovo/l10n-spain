(function(){/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <http://feross.org>
 @license  MIT
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(R){var H=0;return function(){return H<R.length?{done:!1,value:R[H++]}:{done:!0}}};$jscomp.arrayIterator=function(R){return{next:$jscomp.arrayIteratorImpl(R)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(R,H,E){if(R==Array.prototype||R==Object.prototype)return R;R[H]=E.value;return R};$jscomp.getGlobal=function(R){R=["object"==typeof globalThis&&globalThis,R,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var H=0;H<R.length;++H){var E=R[H];if(E&&E.Math==Math)return E}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(R,H){var E=$jscomp.propertyToPolyfillSymbol[H];if(null==E)return R[H];E=R[E];return void 0!==E?E:R[H]};
$jscomp.polyfill=function(R,H,E,u){H&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(R,H,E,u):$jscomp.polyfillUnisolated(R,H,E,u))};$jscomp.polyfillUnisolated=function(R,H,E,u){E=$jscomp.global;R=R.split(".");for(u=0;u<R.length-1;u++){var K=R[u];if(!(K in E))return;E=E[K]}R=R[R.length-1];u=E[R];H=H(u);H!=u&&null!=H&&$jscomp.defineProperty(E,R,{configurable:!0,writable:!0,value:H})};
$jscomp.polyfillIsolated=function(R,H,E,u){var K=R.split(".");R=1===K.length;u=K[0];u=!R&&u in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var V=0;V<K.length-1;V++){var l=K[V];if(!(l in u))return;u=u[l]}K=K[K.length-1];E=$jscomp.IS_SYMBOL_NATIVE&&"es6"===E?u[K]:null;H=H(E);null!=H&&(R?$jscomp.defineProperty($jscomp.polyfills,K,{configurable:!0,writable:!0,value:H}):H!==E&&(void 0===$jscomp.propertyToPolyfillSymbol[K]&&($jscomp.propertyToPolyfillSymbol[K]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(K):
$jscomp.POLYFILL_PREFIX+K),$jscomp.defineProperty(u,$jscomp.propertyToPolyfillSymbol[K],{configurable:!0,writable:!0,value:H})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(R){if(R)return R;var H=function(K,V){this.$jscomp$symbol$id_=K;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:V})};H.prototype.toString=function(){return this.$jscomp$symbol$id_};var E=0,u=function(K){if(this instanceof u)throw new TypeError("Symbol is not a constructor");return new H("jscomp_symbol_"+(K||"")+"_"+E++,K)};return u},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(R){if(R)return R;R=Symbol("Symbol.iterator");for(var H="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),E=0;E<H.length;E++){var u=$jscomp.global[H[E]];"function"===typeof u&&"function"!=typeof u.prototype[R]&&$jscomp.defineProperty(u.prototype,R,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return R},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(R){return R?R:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(R){R={next:R};R[Symbol.iterator]=function(){return this};return R};$jscomp.createTemplateTagFirstArg=function(R){return R.raw=R};$jscomp.createTemplateTagFirstArgWithRaw=function(R,H){R.raw=H;return R};$jscomp.makeIterator=function(R){var H="undefined"!=typeof Symbol&&Symbol.iterator&&R[Symbol.iterator];return H?H.call(R):$jscomp.arrayIterator(R)};
$jscomp.arrayFromIterator=function(R){for(var H,E=[];!(H=R.next()).done;)E.push(H.value);return E};$jscomp.arrayFromIterable=function(R){return R instanceof Array?R:$jscomp.arrayFromIterator($jscomp.makeIterator(R))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(R){var H=function(){};H.prototype=R;return new H};
$jscomp.getConstructImplementation=function(){function R(){function E(){}new E;Reflect.construct(E,[],function(){});return new E instanceof E}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(R())return Reflect.construct;var H=Reflect.construct;return function(E,u,K){E=H(E,u);K&&Reflect.setPrototypeOf(E,K.prototype);return E}}return function(E,u,K){void 0===K&&(K=E);K=$jscomp.objectCreate(K.prototype||Object.prototype);return Function.prototype.apply.call(E,K,u)||
K}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var R={a:!0},H={};try{return H.__proto__=R,H.a}catch(E){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(R,H){R.__proto__=H;if(R.__proto__!==H)throw new TypeError(R+" is not extensible");return R}:null;
$jscomp.inherits=function(R,H){R.prototype=$jscomp.objectCreate(H.prototype);R.prototype.constructor=R;if($jscomp.setPrototypeOf){var E=$jscomp.setPrototypeOf;E(R,H)}else for(E in H)if("prototype"!=E)if(Object.defineProperties){var u=Object.getOwnPropertyDescriptor(H,E);u&&Object.defineProperty(R,E,u)}else R[E]=H[E];R.superClass_=H.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(R){if(!(R instanceof Object))throw new TypeError("Iterator result "+R+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(R){this.yieldResult=R};
$jscomp.generator.Context.prototype.throw_=function(R){this.abruptCompletion_={exception:R,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(R){this.abruptCompletion_={return:R};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(R){this.abruptCompletion_={jumpTo:R};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(R,H){this.nextAddress=H;return{value:R}};
$jscomp.generator.Context.prototype.yieldAll=function(R,H){R=$jscomp.makeIterator(R);var E=R.next();$jscomp.generator.ensureIteratorResultIsObject_(E);if(E.done)this.yieldResult=E.value,this.nextAddress=H;else return this.yieldAllIterator_=R,this.yield(E.value,H)};$jscomp.generator.Context.prototype.jumpTo=function(R){this.nextAddress=R};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(R,H){this.catchAddress_=R;void 0!=H&&(this.finallyAddress_=H)};$jscomp.generator.Context.prototype.setFinallyBlock=function(R){this.catchAddress_=0;this.finallyAddress_=R||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(R,H){this.nextAddress=R;this.catchAddress_=H||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(R){this.catchAddress_=R||0;R=this.abruptCompletion_.exception;this.abruptCompletion_=null;return R};$jscomp.generator.Context.prototype.enterFinallyBlock=function(R,H,E){E?this.finallyContexts_[E]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=R||0;this.finallyAddress_=H||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(R,H){H=this.finallyContexts_.splice(H||0)[0];if(H=this.abruptCompletion_=this.abruptCompletion_||H){if(H.isException)return this.jumpToErrorHandler_();void 0!=H.jumpTo&&this.finallyAddress_<H.jumpTo?(this.nextAddress=H.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=R};$jscomp.generator.Context.prototype.forIn=function(R){return new $jscomp.generator.Context.PropertyIterator(R)};
$jscomp.generator.Context.PropertyIterator=function(R){this.object_=R;this.properties_=[];for(var H in R)this.properties_.push(H);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var R=this.properties_.pop();if(R in this.object_)return R}return null};$jscomp.generator.Engine_=function(R){this.context_=new $jscomp.generator.Context;this.program_=R};
$jscomp.generator.Engine_.prototype.next_=function(R){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,R,this.context_.next_);this.context_.next_(R);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(R){this.context_.start_();var H=this.context_.yieldAllIterator_;if(H)return this.yieldAllStep_("return"in H?H["return"]:function(E){return{value:E,done:!0}},R,this.context_.return);this.context_.return(R);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(R){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],R,this.context_.next_);this.context_.throw_(R);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(R,H,E){try{var u=R.call(this.context_.yieldAllIterator_,H);$jscomp.generator.ensureIteratorResultIsObject_(u);if(!u.done)return this.context_.stop_(),u;var K=u.value}catch(V){return this.context_.yieldAllIterator_=null,this.context_.throw_(V),this.nextStep_()}this.context_.yieldAllIterator_=null;E.call(this.context_,K);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var R=this.program_(this.context_);if(R)return this.context_.stop_(),{value:R.value,done:!1}}catch(H){this.context_.yieldResult=void 0,this.context_.throw_(H)}this.context_.stop_();if(this.context_.abruptCompletion_){R=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(R.isException)throw R.exception;return{value:R.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(R){this.next=function(H){return R.next_(H)};this.throw=function(H){return R.throw_(H)};this.return=function(H){return R.return_(H)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(R,H){H=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(H));$jscomp.setPrototypeOf&&R.prototype&&$jscomp.setPrototypeOf(H,R.prototype);return H};
$jscomp.asyncExecutePromiseGenerator=function(R){function H(u){return R.next(u)}function E(u){return R.throw(u)}return new Promise(function(u,K){function V(l){l.done?u(l.value):Promise.resolve(l.value).then(H,E).then(V,K)}V(R.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(R){return $jscomp.asyncExecutePromiseGenerator(R())};$jscomp.asyncExecutePromiseGeneratorProgram=function(R){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(R)))};
$jscomp.polyfill("Reflect",function(R){return R?R:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(R){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Reflect.setPrototypeOf",function(R){if(R)return R;if($jscomp.setPrototypeOf){var H=$jscomp.setPrototypeOf;return function(E,u){try{return H(E,u),!0}catch(K){return!1}}}return null},"es6","es5");
$jscomp.polyfill("Promise",function(R){function H(){this.batch_=null}function E(l){return l instanceof K?l:new K(function(h,r){h(l)})}if(R&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return R;H.prototype.asyncExecute=function(l){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(l)};
var u=$jscomp.global.setTimeout;H.prototype.asyncExecuteFunction=function(l){u(l,0)};H.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var l=this.batch_;this.batch_=[];for(var h=0;h<l.length;++h){var r=l[h];l[h]=null;try{r()}catch(b){this.asyncThrow_(b)}}}this.batch_=null};H.prototype.asyncThrow_=function(l){this.asyncExecuteFunction(function(){throw l;})};var K=function(l){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var h=this.createResolveAndReject_();
try{l(h.resolve,h.reject)}catch(r){h.reject(r)}};K.prototype.createResolveAndReject_=function(){function l(b){return function(f){r||(r=!0,b.call(h,f))}}var h=this,r=!1;return{resolve:l(this.resolveTo_),reject:l(this.reject_)}};K.prototype.resolveTo_=function(l){if(l===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof K)this.settleSameAsPromise_(l);else{a:switch(typeof l){case "object":var h=null!=l;break a;case "function":h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(l):
this.fulfill_(l)}};K.prototype.resolveToNonPromiseObj_=function(l){var h=void 0;try{h=l.then}catch(r){this.reject_(r);return}"function"==typeof h?this.settleSameAsThenable_(h,l):this.fulfill_(l)};K.prototype.reject_=function(l){this.settle_(2,l)};K.prototype.fulfill_=function(l){this.settle_(1,l)};K.prototype.settle_=function(l,h){if(0!=this.state_)throw Error("Cannot settle("+l+", "+h+"): Promise already settled in state"+this.state_);this.state_=l;this.result_=h;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};K.prototype.scheduleUnhandledRejectionCheck_=function(){var l=this;u(function(){if(l.notifyUnhandledRejection_()){var h=$jscomp.global.console;"undefined"!==typeof h&&h.error(l.result_)}},1)};K.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var l=$jscomp.global.CustomEvent,h=$jscomp.global.Event,r=$jscomp.global.dispatchEvent;if("undefined"===typeof r)return!0;"function"===typeof l?l=new l("unhandledrejection",{cancelable:!0}):
"function"===typeof h?l=new h("unhandledrejection",{cancelable:!0}):(l=$jscomp.global.document.createEvent("CustomEvent"),l.initCustomEvent("unhandledrejection",!1,!0,l));l.promise=this;l.reason=this.result_;return r(l)};K.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var l=0;l<this.onSettledCallbacks_.length;++l)V.asyncExecute(this.onSettledCallbacks_[l]);this.onSettledCallbacks_=null}};var V=new H;K.prototype.settleSameAsPromise_=function(l){var h=this.createResolveAndReject_();
l.callWhenSettled_(h.resolve,h.reject)};K.prototype.settleSameAsThenable_=function(l,h){var r=this.createResolveAndReject_();try{l.call(h,r.resolve,r.reject)}catch(b){r.reject(b)}};K.prototype.then=function(l,h){function r(z,N){return"function"==typeof z?function(B){try{b(z(B))}catch(G){f(G)}}:N}var b,f,p=new K(function(z,N){b=z;f=N});this.callWhenSettled_(r(l,b),r(h,f));return p};K.prototype.catch=function(l){return this.then(void 0,l)};K.prototype.callWhenSettled_=function(l,h){function r(){switch(b.state_){case 1:l(b.result_);
break;case 2:h(b.result_);break;default:throw Error("Unexpected state: "+b.state_);}}var b=this;null==this.onSettledCallbacks_?V.asyncExecute(r):this.onSettledCallbacks_.push(r);this.isRejectionHandled_=!0};K.resolve=E;K.reject=function(l){return new K(function(h,r){r(l)})};K.race=function(l){return new K(function(h,r){for(var b=$jscomp.makeIterator(l),f=b.next();!f.done;f=b.next())E(f.value).callWhenSettled_(h,r)})};K.all=function(l){var h=$jscomp.makeIterator(l),r=h.next();return r.done?E([]):new K(function(b,
f){function p(B){return function(G){z[B]=G;N--;0==N&&b(z)}}var z=[],N=0;do z.push(void 0),N++,E(r.value).callWhenSettled_(p(z.length-1),f),r=h.next();while(!r.done)})};return K},"es6","es3");$jscomp.owns=function(R,H){return Object.prototype.hasOwnProperty.call(R,H)};$jscomp.polyfill("Object.entries",function(R){return R?R:function(H){var E=[],u;for(u in H)$jscomp.owns(H,u)&&E.push([u,H[u]]);return E}},"es8","es3");
$jscomp.polyfill("Array.prototype.fill",function(R){return R?R:function(H,E,u){var K=this.length||0;0>E&&(E=Math.max(0,K+E));if(null==u||u>K)u=K;u=Number(u);0>u&&(u=Math.max(0,K+u));for(E=Number(E||0);E<u;E++)this[E]=H;return this}},"es6","es3");$jscomp.typedArrayFill=function(R){return R?R:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.iteratorFromArray=function(R,H){R instanceof String&&(R+="");var E=0,u=!1,K={next:function(){if(!u&&E<R.length){var V=E++;return{value:H(V,R[V]),done:!1}}u=!0;return{done:!0,value:void 0}}};K[Symbol.iterator]=function(){return K};return K};$jscomp.polyfill("Array.prototype.values",function(R){return R?R:function(){return $jscomp.iteratorFromArray(this,function(H,E){return E})}},"es8","es3");
$jscomp.polyfill("Array.from",function(R){return R?R:function(H,E,u){E=null!=E?E:function(h){return h};var K=[],V="undefined"!=typeof Symbol&&Symbol.iterator&&H[Symbol.iterator];if("function"==typeof V){H=V.call(H);for(var l=0;!(V=H.next()).done;)K.push(E.call(u,V.value,l++))}else for(V=H.length,l=0;l<V;l++)K.push(E.call(u,H[l],l));return K}},"es6","es3");
$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(R,H){for(var E=1;E<arguments.length;E++){var u=arguments[E];if(u)for(var K in u)$jscomp.owns(u,K)&&(R[K]=u[K])}return R};$jscomp.polyfill("Object.assign",function(R){return R||$jscomp.assign},"es6","es3");$jscomp.polyfill("Array.prototype.keys",function(R){return R?R:function(){return $jscomp.iteratorFromArray(this,function(H){return H})}},"es6","es3");
$jscomp.polyfill("Array.prototype.entries",function(R){return R?R:function(){return $jscomp.iteratorFromArray(this,function(H,E){return[H,E]})}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var R={},H=Object.create(new $jscomp.global.Proxy(R,{get:function(E,u,K){return E==R&&"q"==u&&K==H}}));return!0===H.q}catch(E){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(R){function H(){if(!R||!Object.seal)return!1;try{var b=Object.seal({}),f=Object.seal({}),p=new R([[b,2],[f,3]]);if(2!=p.get(b)||3!=p.get(f))return!1;p.delete(b);p.set(f,4);return!p.has(b)&&4==p.get(f)}catch(z){return!1}}function E(){}function u(b){var f=typeof b;return"object"===f&&null!==b||"function"===f}function K(b){if(!$jscomp.owns(b,l)){var f=new E;$jscomp.defineProperty(b,l,{value:f})}}function V(b){if(!$jscomp.ISOLATE_POLYFILLS){var f=Object[b];f&&(Object[b]=
function(p){if(p instanceof E)return p;Object.isExtensible(p)&&K(p);return f(p)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(R&&$jscomp.ES6_CONFORMANCE)return R}else if(H())return R;var l="$jscomp_hidden_"+Math.random();V("freeze");V("preventExtensions");V("seal");var h=0,r=function(b){this.id_=(h+=Math.random()+1).toString();if(b){b=$jscomp.makeIterator(b);for(var f;!(f=b.next()).done;)f=f.value,this.set(f[0],f[1])}};r.prototype.set=function(b,f){if(!u(b))throw Error("Invalid WeakMap key");
K(b);if(!$jscomp.owns(b,l))throw Error("WeakMap key fail: "+b);b[l][this.id_]=f;return this};r.prototype.get=function(b){return u(b)&&$jscomp.owns(b,l)?b[l][this.id_]:void 0};r.prototype.has=function(b){return u(b)&&$jscomp.owns(b,l)&&$jscomp.owns(b[l],this.id_)};r.prototype.delete=function(b){return u(b)&&$jscomp.owns(b,l)&&$jscomp.owns(b[l],this.id_)?delete b[l][this.id_]:!1};return r},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(R){function H(){if($jscomp.ASSUME_NO_NATIVE_MAP||!R||"function"!=typeof R||!R.prototype.entries||"function"!=typeof Object.seal)return!1;try{var r=Object.seal({x:4}),b=new R($jscomp.makeIterator([[r,"s"]]));if("s"!=b.get(r)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var f=b.entries(),p=f.next();if(p.done||p.value[0]!=r||"s"!=p.value[1])return!1;p=f.next();return p.done||4!=p.value[0].x||"t"!=p.value[1]||!f.next().done?!1:!0}catch(z){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(R&&$jscomp.ES6_CONFORMANCE)return R}else if(H())return R;var E=new WeakMap,u=function(r){this.data_={};this.head_=l();this.size=0;if(r){r=$jscomp.makeIterator(r);for(var b;!(b=r.next()).done;)b=b.value,this.set(b[0],b[1])}};u.prototype.set=function(r,b){r=0===r?0:r;var f=K(this,r);f.list||(f.list=this.data_[f.id]=[]);f.entry?f.entry.value=b:(f.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:r,value:b},f.list.push(f.entry),
this.head_.previous.next=f.entry,this.head_.previous=f.entry,this.size++);return this};u.prototype.delete=function(r){r=K(this,r);return r.entry&&r.list?(r.list.splice(r.index,1),r.list.length||delete this.data_[r.id],r.entry.previous.next=r.entry.next,r.entry.next.previous=r.entry.previous,r.entry.head=null,this.size--,!0):!1};u.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=l();this.size=0};u.prototype.has=function(r){return!!K(this,r).entry};u.prototype.get=function(r){return(r=
K(this,r).entry)&&r.value};u.prototype.entries=function(){return V(this,function(r){return[r.key,r.value]})};u.prototype.keys=function(){return V(this,function(r){return r.key})};u.prototype.values=function(){return V(this,function(r){return r.value})};u.prototype.forEach=function(r,b){for(var f=this.entries(),p;!(p=f.next()).done;)p=p.value,r.call(b,p[1],p[0],this)};u.prototype[Symbol.iterator]=u.prototype.entries;var K=function(r,b){var f=b&&typeof b;"object"==f||"function"==f?E.has(b)?f=E.get(b):
(f=""+ ++h,E.set(b,f)):f="p_"+b;var p=r.data_[f];if(p&&$jscomp.owns(r.data_,f))for(r=0;r<p.length;r++){var z=p[r];if(b!==b&&z.key!==z.key||b===z.key)return{id:f,list:p,index:r,entry:z}}return{id:f,list:p,index:-1,entry:void 0}},V=function(r,b){var f=r.head_;return $jscomp.iteratorPrototype(function(){if(f){for(;f.head!=r.head_;)f=f.previous;for(;f.next!=f.head;)return f=f.next,{done:!1,value:b(f)};f=null}return{done:!0,value:void 0}})},l=function(){var r={};return r.previous=r.next=r.head=r},h=0;
return u},"es6","es3");$jscomp.polyfill("Object.setPrototypeOf",function(R){return R||$jscomp.setPrototypeOf},"es6","es5");$jscomp.checkStringArgs=function(R,H,E){if(null==R)throw new TypeError("The 'this' value for String.prototype."+E+" must not be null or undefined");if(H instanceof RegExp)throw new TypeError("First argument to String.prototype."+E+" must not be a regular expression");return R+""};
$jscomp.polyfill("String.prototype.startsWith",function(R){return R?R:function(H,E){var u=$jscomp.checkStringArgs(this,H,"startsWith");H+="";var K=u.length,V=H.length;E=Math.max(0,Math.min(E|0,u.length));for(var l=0;l<V&&E<K;)if(u[E++]!=H[l++])return!1;return l>=V}},"es6","es3");$jscomp.findInternal=function(R,H,E){R instanceof String&&(R=String(R));for(var u=R.length,K=0;K<u;K++){var V=R[K];if(H.call(E,V,K,R))return{i:K,v:V}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(R){return R?R:function(H,E){return $jscomp.findInternal(this,H,E).v}},"es6","es3");$jscomp.polyfill("Object.is",function(R){return R?R:function(H,E){return H===E?0!==H||1/H===1/E:H!==H&&E!==E}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(R){return R?R:function(H,E){var u=this;u instanceof String&&(u=String(u));var K=u.length;E=E||0;for(0>E&&(E=Math.max(E+K,0));E<K;E++){var V=u[E];if(V===H||Object.is(V,H))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(R){return R?R:function(H,E){return-1!==$jscomp.checkStringArgs(this,H,"includes").indexOf(H,E||0)}},"es6","es3");
$jscomp.polyfill("Object.values",function(R){return R?R:function(H){var E=[],u;for(u in H)$jscomp.owns(H,u)&&E.push(H[u]);return E}},"es8","es3");
(function(R,H){"object"===typeof exports&&"object"===typeof module?module.exports=H():"function"===typeof define&&define.amd?define([],H):"object"===typeof exports?exports.tbai=H():R.tbai=H()})(window,function(){return function(R){function H(u){if(E[u])return E[u].exports;var K=E[u]={i:u,l:!1,exports:{}};R[u].call(K.exports,K,K.exports,H);K.l=!0;return K.exports}var E={};H.m=R;H.c=E;H.d=function(u,K,V){H.o(u,K)||Object.defineProperty(u,K,{enumerable:!0,get:V})};H.r=function(u){"undefined"!==typeof Symbol&&
Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})};H.t=function(u,K){K&1&&(u=H(u));if(K&8||K&4&&"object"===typeof u&&u&&u.__esModule)return u;var V=Object.create(null);H.r(V);Object.defineProperty(V,"default",{enumerable:!0,value:u});if(K&2&&"string"!=typeof u)for(var l in u)H.d(V,l,function(h){return u[h]}.bind(null,l));return V};H.n=function(u){var K=u&&u.__esModule?function(){return u["default"]}:function(){return u};
H.d(K,"a",K);return K};H.o=function(u,K){return Object.prototype.hasOwnProperty.call(u,K)};H.p="";return H(H.s=84)}([function(R,H,E){function u(m,T,ba){var ra=T,wa=new N({},Object),Fa=new r;if(!1===(0,l.checkBufferParams)(Fa,m,T,ba))return wa.error=Fa.error,{offset:-1,result:wa};if(0===(new Uint8Array(m,T,ba)).length)return this.error="Zero buffer length",{offset:-1,result:wa};T=wa.idBlock.fromBER(m,T,ba);wa.warnings.concat(wa.idBlock.warnings);if(-1===T)return wa.error=wa.idBlock.error,{offset:-1,
result:wa};ba-=wa.idBlock.blockLength;T=wa.lenBlock.fromBER(m,T,ba);wa.warnings.concat(wa.lenBlock.warnings);if(-1===T)return wa.error=wa.lenBlock.error,{offset:-1,result:wa};ba-=wa.lenBlock.blockLength;if(!1===wa.idBlock.isConstructed&&!0===wa.lenBlock.isIndefiniteForm)return wa.error="Indefinite length form used for primitive encoding form",{offset:-1,result:wa};Fa=N;switch(wa.idBlock.tagClass){case 1:if(37<=wa.idBlock.tagNumber&&!1===wa.idBlock.isHexOnly)return wa.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",
{offset:-1,result:wa};switch(wa.idBlock.tagNumber){case 0:if(!0===wa.idBlock.isConstructed&&0<wa.lenBlock.length)return wa.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:wa};Fa=S;break;case 1:Fa=e;break;case 2:Fa=pa;break;case 3:Fa=ca;break;case 4:Fa=Q;break;case 5:Fa=g;break;case 6:Fa=W;break;case 10:Fa=x;break;case 12:Fa=L;break;case 13:Fa=Ea;break;case 14:Fa=U;break;case 15:return wa.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:wa};case 16:Fa=q;break;case 17:Fa=
I;break;case 18:Fa=ab;break;case 19:Fa=Na;break;case 20:Fa=cb;break;case 21:Fa=da;break;case 22:Fa=la;break;case 23:Fa=fb;break;case 24:Fa=Qa;break;case 25:Fa=va;break;case 26:Fa=Da;break;case 27:Fa=Wa;break;case 28:Fa=na;break;case 29:Fa=ib;break;case 30:Fa=X;break;case 31:Fa=Ka;break;case 32:Fa=db;break;case 33:Fa=Xa;break;case 34:Fa=d;break;default:var $a=!0===wa.idBlock.isConstructed?new C:new G;$a.idBlock=wa.idBlock;$a.lenBlock=wa.lenBlock;$a.warnings=wa.warnings;wa=$a;wa.fromBER(m,T,ba)}break;
default:Fa=!0===wa.idBlock.isConstructed?C:G}wa instanceof Fa||(Fa=new Fa,Fa.idBlock=wa.idBlock,Fa.lenBlock=wa.lenBlock,Fa.warnings=wa.warnings,Fa.valueBeforeDecode=wa.valueBeforeDecode.slice(0),wa=Fa);T=wa.fromBER(m,T,!0===wa.lenBlock.isIndefiniteForm?ba:wa.lenBlock.length);wa.valueBeforeDecode=m.slice(ra,ra+wa.blockLength);return{offset:T,result:wa}}function K(m){return 0===m.byteLength?(m=new N({},Object),m.error="Input buffer has zero length",{offset:-1,result:m}):u(m,0,m.byteLength)}function V(m,
T,ba){if(ba instanceof ea){for(var ra=0;ra<ba.value.length;ra++)if(!0===V(m,T,ba.value[ra]).verified)return{verified:!0,result:m};m={verified:!1,result:{error:"Wrong values for Choice type"}};ba.hasOwnProperty("name")&&(m.name=ba.name);return m}if(ba instanceof ua)return ba.hasOwnProperty("name")&&(m[ba.name]=T),{verified:!0,result:m};if(!1===m instanceof Object)return{verified:!1,result:{error:"Wrong root object"}};if(!1===T instanceof Object)return{verified:!1,result:{error:"Wrong ASN.1 data"}};
if(!1===ba instanceof Object||!1==="idBlock"in ba||!1==="fromBER"in ba.idBlock||!1==="toBER"in ba.idBlock)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};ra=ba.idBlock.toBER(!1);if(0===ra.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===ba.idBlock.fromBER(ra,0,ra.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===ba.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};
if(ba.idBlock.tagClass!==T.idBlock.tagClass)return{verified:!1,result:m};if(!1===ba.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(ba.idBlock.tagNumber!==T.idBlock.tagNumber)return{verified:!1,result:m};if(!1===ba.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(ba.idBlock.isConstructed!==T.idBlock.isConstructed)return{verified:!1,result:m};if(!1==="isHexOnly"in ba.idBlock)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};
if(ba.idBlock.isHexOnly!==T.idBlock.isHexOnly)return{verified:!1,result:m};if(!0===ba.idBlock.isHexOnly){if(!1==="valueHex"in ba.idBlock)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};ra=new Uint8Array(ba.idBlock.valueHex);var wa=new Uint8Array(T.idBlock.valueHex);if(ra.length!==wa.length)return{verified:!1,result:m};for(var Fa=0;Fa<ra.length;Fa++)if(ra[Fa]!==wa[1])return{verified:!1,result:m}}ba.hasOwnProperty("name")&&(ba.name=ba.name.replace(/^\s+|\s+$/g,""),""!==ba.name&&(m[ba.name]=
T));if(!0===ba.idBlock.isConstructed){ra=0;wa={verified:!1};Fa=ba.valueBlock.value.length;0<Fa&&ba.valueBlock.value[0]instanceof qa&&(Fa=T.valueBlock.value.length);if(0===Fa)return{verified:!0,result:m};if(0===T.valueBlock.value.length&&0!==ba.valueBlock.value.length){T=!0;for(ra=0;ra<ba.valueBlock.value.length;ra++)T=T&&(ba.valueBlock.value[ra].optional||!1);if(!0===T)return{verified:!0,result:m};ba.hasOwnProperty("name")&&(ba.name=ba.name.replace(/^\s+|\s+$/g,""),""!==ba.name&&delete m[ba.name]);
m.error="Inconsistent object length";return{verified:!1,result:m}}for(var $a=0;$a<Fa;$a++)if($a-ra>=T.valueBlock.value.length){if(!1===ba.valueBlock.value[$a].optional)return T={verified:!1,result:m},m.error="Inconsistent length between ASN.1 data and schema",ba.hasOwnProperty("name")&&(ba.name=ba.name.replace(/^\s+|\s+$/g,""),""!==ba.name&&(delete m[ba.name],T.name=ba.name)),T}else if(ba.valueBlock.value[0]instanceof qa){wa=V(m,T.valueBlock.value[$a],ba.valueBlock.value[0].value);if(!1===wa.verified)if(!0===
ba.valueBlock.value[0].optional)ra++;else return ba.hasOwnProperty("name")&&(ba.name=ba.name.replace(/^\s+|\s+$/g,""),""!==ba.name&&delete m[ba.name]),wa;if("name"in ba.valueBlock.value[0]&&0<ba.valueBlock.value[0].name.length){var lb="local"in ba.valueBlock.value[0]&&!0===ba.valueBlock.value[0].local?T:m;"undefined"===typeof lb[ba.valueBlock.value[0].name]&&(lb[ba.valueBlock.value[0].name]=[]);lb[ba.valueBlock.value[0].name].push(T.valueBlock.value[$a])}}else if(wa=V(m,T.valueBlock.value[$a-ra],
ba.valueBlock.value[$a]),!1===wa.verified)if(!0===ba.valueBlock.value[$a].optional)ra++;else return ba.hasOwnProperty("name")&&(ba.name=ba.name.replace(/^\s+|\s+$/g,""),""!==ba.name&&delete m[ba.name]),wa;return!1===wa.verified?(T={verified:!1,result:m},ba.hasOwnProperty("name")&&(ba.name=ba.name.replace(/^\s+|\s+$/g,""),""!==ba.name&&(delete m[ba.name],T.name=ba.name)),T):{verified:!0,result:m}}return"primitiveSchema"in ba&&"valueHex"in T.valueBlock?(T=K(T.valueBlock.valueHex),-1===T.offset?(T={verified:!1,
result:T.result},ba.hasOwnProperty("name")&&(ba.name=ba.name.replace(/^\s+|\s+$/g,""),""!==ba.name&&(delete m[ba.name],T.name=ba.name)),T):V(m,T.result,ba.primitiveSchema)):{verified:!0,result:m}}Object.defineProperty(H,"__esModule",{value:!0});H.fromBER=K;H.compareSchema=V;H.verifySchema=function(m,T){if(!1===T instanceof Object)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};m=K(m);return-1===m.offset?{verified:!1,result:m.result}:V(m.result,m.result,T)};H.fromJSON=function(m){};H.RawData=
H.Repeated=H.Any=H.Choice=H.TIME=H.Duration=H.DateTime=H.TimeOfDay=H.DATE=H.GeneralizedTime=H.UTCTime=H.CharacterString=H.GeneralString=H.VisibleString=H.GraphicString=H.IA5String=H.VideotexString=H.TeletexString=H.PrintableString=H.NumericString=H.UniversalString=H.BmpString=H.RelativeObjectIdentifier=H.Utf8String=H.ObjectIdentifier=H.Enumerated=H.Integer=H.BitString=H.OctetString=H.Null=H.Set=H.Sequence=H.Boolean=H.EndOfContent=H.Constructed=H.Primitive=H.BaseBlock=H.ValueBlock=H.HexBlock=void 0;
var l=E(71),h=[new Uint8Array([1])],r=function(m){m=void 0===m?{}:m;this.blockLength=(0,l.getParametersValue)(m,"blockLength",0);this.error=(0,l.getParametersValue)(m,"error","");this.warnings=(0,l.getParametersValue)(m,"warnings",[]);this.valueBeforeDecode="valueBeforeDecode"in m?m.valueBeforeDecode.slice(0):new ArrayBuffer(0)};r.blockName=function(){return"baseBlock"};r.prototype.toJSON=function(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,
valueBeforeDecode:(0,l.bufferToHexCodes)(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}};R=function(m){var T=function(ba){ba=void 0===ba?{}:ba;var ra=m.call(this,ba)||this;ra.isHexOnly=(0,l.getParametersValue)(ba,"isHexOnly",!1);ra.valueHex="valueHex"in ba?ba.valueHex.slice(0):new ArrayBuffer(0);return ra};$jscomp.inherits(T,m);T.blockName=function(){return"hexBlock"};T.prototype.fromBER=function(ba,ra,wa){if(!1===(0,l.checkBufferParams)(this,ba,ra,wa))return-1;if(0===(new Uint8Array(ba,
ra,wa)).length)return this.warnings.push("Zero buffer length"),ra;this.valueHex=ba.slice(ra,ra+wa);this.blockLength=wa;return ra+wa};T.prototype.toBER=function(ba){ba=void 0===ba?!1:ba;return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',new ArrayBuffer(0)):!0===ba?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)};T.prototype.toJSON=function(){var ba={};try{ba=m.prototype.toJSON.call(this)}catch(ra){}ba.blockName=this.constructor.blockName();ba.isHexOnly=this.isHexOnly;
ba.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return ba};return T};H.HexBlock=R;var b=R(r),f=function(m){m=void 0===m?{}:m;var T=b.call(this)||this;"idBlock"in m?(T.isHexOnly=(0,l.getParametersValue)(m.idBlock,"isHexOnly",!1),T.valueHex=(0,l.getParametersValue)(m.idBlock,"valueHex",new ArrayBuffer(0)),T.tagClass=(0,l.getParametersValue)(m.idBlock,"tagClass",-1),T.tagNumber=(0,l.getParametersValue)(m.idBlock,"tagNumber",-1),T.isConstructed=(0,l.getParametersValue)(m.idBlock,
"isConstructed",!1)):(T.tagClass=-1,T.tagNumber=-1,T.isConstructed=!1);return T};$jscomp.inherits(f,b);f.blockName=function(){return"identificationBlock"};f.prototype.toBER=function(m){m=void 0===m?!1:m;var T=0;switch(this.tagClass){case 1:T|=0;break;case 2:T|=64;break;case 3:T|=128;break;case 4:T|=192;break;default:return this.error="Unknown tag class",new ArrayBuffer(0)}this.isConstructed&&(T|=32);if(31>this.tagNumber&&!this.isHexOnly){var ba=new ArrayBuffer(1);var ra=new Uint8Array(ba);m||(ra[0]=
T|this.tagNumber&31);return ba}if(!1===this.isHexOnly){ba=(0,l.utilToBase)(this.tagNumber,7);var wa=new Uint8Array(ba),Fa=ba.byteLength;ba=new ArrayBuffer(Fa+1);ra=new Uint8Array(ba);ra[0]=T|31;if(!m){for(m=0;m<Fa-1;m++)ra[m+1]=wa[m]|128;ra[Fa]=wa[Fa-1]}return ba}ba=new ArrayBuffer(this.valueHex.byteLength+1);ra=new Uint8Array(ba);ra[0]=T|31;if(!1===m){wa=new Uint8Array(this.valueHex);for(m=0;m<wa.length-1;m++)ra[m+1]=wa[m]|128;ra[this.valueHex.byteLength]=wa[wa.length-1]}return ba};f.prototype.fromBER=
function(m,T,ba){if(!1===(0,l.checkBufferParams)(this,m,T,ba))return-1;var ra=new Uint8Array(m,T,ba);if(0===ra.length)return this.error="Zero buffer length",-1;switch(ra[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32===(ra[0]&32);this.isHexOnly=!1;m=ra[0]&31;if(31!==m)this.tagNumber=m,this.blockLength=1;else{m=1;this.valueHex=new ArrayBuffer(255);
var wa=255;for(ba=new Uint8Array(this.valueHex);ra[m]&128;){ba[m-1]=ra[m]&127;m++;if(m>=ra.length)return this.error="End of input reached before message was fully decoded",-1;if(m===wa){wa+=255;var Fa=new ArrayBuffer(wa);Fa=new Uint8Array(Fa);for(var $a=0;$a<ba.length;$a++)Fa[$a]=ba[$a];this.valueHex=new ArrayBuffer(wa);ba=new Uint8Array(this.valueHex)}}this.blockLength=m+1;ba[m-1]=ra[m]&127;ra=new ArrayBuffer(m);ra=new Uint8Array(ra);for(wa=0;wa<m;wa++)ra[wa]=ba[wa];this.valueHex=new ArrayBuffer(m);
ba=new Uint8Array(this.valueHex);ba.set(ra);9>=this.blockLength?this.tagNumber=(0,l.utilFromBase)(ba,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return T+this.blockLength};f.prototype.toJSON=function(){var m={};try{m=b.prototype.toJSON.call(this)}catch(T){}m.blockName=
this.constructor.blockName();m.tagClass=this.tagClass;m.tagNumber=this.tagNumber;m.isConstructed=this.isConstructed;return m};var p=function(m){m=void 0===m?{}:m;var T=r.call(this)||this;"lenBlock"in m?(T.isIndefiniteForm=(0,l.getParametersValue)(m.lenBlock,"isIndefiniteForm",!1),T.longFormUsed=(0,l.getParametersValue)(m.lenBlock,"longFormUsed",!1),T.length=(0,l.getParametersValue)(m.lenBlock,"length",0)):(T.isIndefiniteForm=!1,T.longFormUsed=!1,T.length=0);return T};$jscomp.inherits(p,r);p.blockName=
function(){return"lengthBlock"};p.prototype.fromBER=function(m,T,ba){if(!1===(0,l.checkBufferParams)(this,m,T,ba))return-1;m=new Uint8Array(m,T,ba);if(0===m.length)return this.error="Zero buffer length",-1;if(255===m[0])return this.error="Length block 0xFF is reserved by standard",-1;this.isIndefiniteForm=128===m[0];if(!0===this.isIndefiniteForm)return this.blockLength=1,T+this.blockLength;this.longFormUsed=!!(m[0]&128);if(!1===this.longFormUsed)return this.length=m[0],this.blockLength=1,T+this.blockLength;
ba=m[0]&127;if(8<ba)return this.error="Too big integer",-1;if(ba+1>m.length)return this.error="End of input reached before message was fully decoded",-1;for(var ra=new Uint8Array(ba),wa=0;wa<ba;wa++)ra[wa]=m[wa+1];0===ra[ba-1]&&this.warnings.push("Needlessly long encoded length");this.length=(0,l.utilFromBase)(ra,8);this.longFormUsed&&127>=this.length&&this.warnings.push("Unneccesary usage of long length form");this.blockLength=ba+1;return T+this.blockLength};p.prototype.toBER=function(m){m=void 0===
m?!1:m;127<this.length&&(this.longFormUsed=!0);if(this.isIndefiniteForm){var T=new ArrayBuffer(1);!1===m&&(m=new Uint8Array(T),m[0]=128);return T}if(!0===this.longFormUsed){var ba=(0,l.utilToBase)(this.length,8);if(127<ba.byteLength)return this.error="Too big length",new ArrayBuffer(0);T=new ArrayBuffer(ba.byteLength+1);if(!0===m)return T;var ra=new Uint8Array(ba);m=new Uint8Array(T);m[0]=ba.byteLength|128;for(var wa=0;wa<ba.byteLength;wa++)m[wa+1]=ra[wa];return T}T=new ArrayBuffer(1);!1===m&&(m=
new Uint8Array(T),m[0]=this.length);return T};p.prototype.toJSON=function(){var m={};try{m=r.prototype.toJSON.call(this)}catch(T){}m.blockName=this.constructor.blockName();m.isIndefiniteForm=this.isIndefiniteForm;m.longFormUsed=this.longFormUsed;m.length=this.length;return m};var z=function(m){m=void 0===m?{}:m;return r.call(this,m)||this};$jscomp.inherits(z,r);z.blockName=function(){return"valueBlock"};z.prototype.fromBER=function(m,T,ba){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"');
};z.prototype.toBER=function(m){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"');};H.ValueBlock=z;var N=function(m,T){m=void 0===m?{}:m;T=void 0===T?z:T;var ba=r.call(this,m)||this;"name"in m&&(ba.name=m.name);"optional"in m&&(ba.optional=m.optional);"primitiveSchema"in m&&(ba.primitiveSchema=m.primitiveSchema);ba.idBlock=new f(m);ba.lenBlock=new p(m);ba.valueBlock=new T(m);return ba};$jscomp.inherits(N,r);N.blockName=function(){return"BaseBlock"};N.prototype.fromBER=
function(m,T,ba){m=this.valueBlock.fromBER(m,T,!0===this.lenBlock.isIndefiniteForm?ba:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return m};N.prototype.toBER=function(m){m=void 0===m?!1:m;var T=this.idBlock.toBER(m);var ba=this.valueBlock.toBER(!0);
this.lenBlock.length=ba.byteLength;ba=this.lenBlock.toBER(m);T=(0,l.utilConcatBuf)(T,ba);ba=!1===m?this.valueBlock.toBER(m):new ArrayBuffer(this.lenBlock.length);T=(0,l.utilConcatBuf)(T,ba);!0===this.lenBlock.isIndefiniteForm&&(ba=new ArrayBuffer(2),!1===m&&(m=new Uint8Array(ba),m[0]=0,m[1]=0),T=(0,l.utilConcatBuf)(T,ba));return T};N.prototype.toJSON=function(){var m={};try{m=r.prototype.toJSON.call(this)}catch(T){}m.idBlock=this.idBlock.toJSON();m.lenBlock=this.lenBlock.toJSON();m.valueBlock=this.valueBlock.toJSON();
"name"in this&&(m.name=this.name);"optional"in this&&(m.optional=this.optional);"primitiveSchema"in this&&(m.primitiveSchema=this.primitiveSchema.toJSON());return m};H.BaseBlock=N;var B=function(m){m=void 0===m?{}:m;var T=z.call(this,m)||this;T.valueHex="valueHex"in m?m.valueHex.slice(0):new ArrayBuffer(0);T.isHexOnly=(0,l.getParametersValue)(m,"isHexOnly",!0);return T};$jscomp.inherits(B,z);B.prototype.fromBER=function(m,T,ba){if(!1===(0,l.checkBufferParams)(this,m,T,ba))return-1;m=new Uint8Array(m,
T,ba);if(0===m.length)return this.warnings.push("Zero buffer length"),T;this.valueHex=new ArrayBuffer(m.length);for(var ra=new Uint8Array(this.valueHex),wa=0;wa<m.length;wa++)ra[wa]=m[wa];this.blockLength=ba;return T+ba};B.prototype.toBER=function(m){return this.valueHex.slice(0)};B.blockName=function(){return"PrimitiveValueBlock"};B.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(T){}m.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);m.isHexOnly=
this.isHexOnly;return m};var G=function(m){m=void 0===m?{}:m;m=N.call(this,m,B)||this;m.idBlock.isConstructed=!1;return m};$jscomp.inherits(G,N);G.blockName=function(){return"PRIMITIVE"};H.Primitive=G;var v=function(m){m=void 0===m?{}:m;var T=z.call(this,m)||this;T.value=(0,l.getParametersValue)(m,"value",[]);T.isIndefiniteForm=(0,l.getParametersValue)(m,"isIndefiniteForm",!1);return T};$jscomp.inherits(v,z);v.prototype.fromBER=function(m,T,ba){var ra=ba;if(!1===(0,l.checkBufferParams)(this,m,T,ba))return-1;
if(0===(new Uint8Array(m,T,ba)).length)return this.warnings.push("Zero buffer length"),T;for(var wa=T;0<(!0===this.isIndefiniteForm?1:ba);){var Fa=u(m,wa,ba);if(-1===Fa.offset)return this.error=Fa.result.error,this.warnings.concat(Fa.result.warnings),-1;wa=Fa.offset;this.blockLength+=Fa.result.blockLength;ba-=Fa.result.blockLength;this.value.push(Fa.result);if(!0===this.isIndefiniteForm&&Fa.result.constructor.blockName()===S.blockName())break}!0===this.isIndefiniteForm&&(this.value[this.value.length-
1].constructor.blockName()===S.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded"));this.valueBeforeDecode=m.slice(T,T+ra);return wa};v.prototype.toBER=function(m){m=void 0===m?!1:m;for(var T=new ArrayBuffer(0),ba=0;ba<this.value.length;ba++){var ra=this.value[ba].toBER(m);T=(0,l.utilConcatBuf)(T,ra)}return T};v.blockName=function(){return"ConstructedValueBlock"};v.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(ba){}m.isIndefiniteForm=this.isIndefiniteForm;
m.value=[];for(var T=0;T<this.value.length;T++)m.value.push(this.value[T].toJSON());return m};var C=function(m){m=void 0===m?{}:m;m=N.call(this,m,v)||this;m.idBlock.isConstructed=!0;return m};$jscomp.inherits(C,N);C.blockName=function(){return"CONSTRUCTED"};C.prototype.fromBER=function(m,T,ba){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;m=this.valueBlock.fromBER(m,T,!0===this.lenBlock.isIndefiniteForm?ba:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;
0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return m};H.Constructed=C;var t=function(m){m=void 0===m?{}:m;return z.call(this,m)||this};$jscomp.inherits(t,z);t.prototype.fromBER=function(m,T,ba){return T};t.prototype.toBER=function(m){return new ArrayBuffer(0)};t.blockName=function(){return"EndOfContentValueBlock"};
var S=function(m){m=void 0===m?{}:m;m=N.call(this,m,t)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=0;return m};$jscomp.inherits(S,N);S.blockName=function(){return"EndOfContent"};H.EndOfContent=S;var k=function(m){m=void 0===m?{}:m;var T=z.call(this,m)||this;T.value=(0,l.getParametersValue)(m,"value",!1);T.isHexOnly=(0,l.getParametersValue)(m,"isHexOnly",!1);"valueHex"in m?T.valueHex=m.valueHex.slice(0):(T.valueHex=new ArrayBuffer(1),!0===T.value&&((new Uint8Array(T.valueHex))[0]=255));return T};
$jscomp.inherits(k,z);k.prototype.fromBER=function(m,T,ba){if(!1===(0,l.checkBufferParams)(this,m,T,ba))return-1;m=new Uint8Array(m,T,ba);1<ba&&this.warnings.push("Boolean value encoded in more then 1 octet");this.isHexOnly=!0;this.valueHex=new ArrayBuffer(m.length);for(var ra=new Uint8Array(this.valueHex),wa=0;wa<m.length;wa++)ra[wa]=m[wa];0!==l.utilDecodeTC.call(this)?this.value=!0:this.value=!1;this.blockLength=ba;return T+ba};k.prototype.toBER=function(m){return this.valueHex};k.blockName=function(){return"BooleanValueBlock"};
k.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(T){}m.value=this.value;m.isHexOnly=this.isHexOnly;m.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return m};var e=function(m){m=void 0===m?{}:m;m=N.call(this,m,k)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=1;return m};$jscomp.inherits(e,N);e.blockName=function(){return"Boolean"};H.Boolean=e;var q=function(m){m=void 0===m?{}:m;m=C.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=
16;return m};$jscomp.inherits(q,C);q.blockName=function(){return"Sequence"};H.Sequence=q;var I=function(m){m=void 0===m?{}:m;m=C.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=17;return m};$jscomp.inherits(I,C);I.blockName=function(){return"Set"};H.Set=I;var g=function(m){m=void 0===m?{}:m;m=N.call(this,m,r)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=5;return m};$jscomp.inherits(g,N);g.blockName=function(){return"Null"};g.prototype.fromBER=function(m,T,ba){0<this.lenBlock.length&&
this.warnings.push("Non-zero length of value block for Null type");0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);this.blockLength+=ba;return T+ba>m.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):T+ba};g.prototype.toBER=function(m){m=void 0===m?!1:m;var T=new ArrayBuffer(2);if(!0===m)return T;m=new Uint8Array(T);m[0]=
5;m[1]=0;return T};H.Null=g;var y=R(v),J=function(m){m=void 0===m?{}:m;var T=y.call(this,m)||this;T.isConstructed=(0,l.getParametersValue)(m,"isConstructed",!1);return T};$jscomp.inherits(J,y);J.prototype.fromBER=function(m,T,ba){if(!0===this.isConstructed){this.isHexOnly=!1;m=v.prototype.fromBER.call(this,m,T,ba);if(-1===m)return m;for(ba=0;ba<this.value.length;ba++){T=this.value[ba].constructor.blockName();if(T===S.blockName())if(!0===this.isIndefiniteForm)break;else return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",
-1;if(T!==Q.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,m=y.prototype.fromBER.call(this,m,T,ba),this.blockLength=ba;return m};J.prototype.toBER=function(m){m=void 0===m?!1:m;if(!0===this.isConstructed)return v.prototype.toBER.call(this,m);var T=new ArrayBuffer(this.valueHex.byteLength);return!0===m||0===this.valueHex.byteLength?T:T=this.valueHex.slice(0)};J.blockName=function(){return"OctetStringValueBlock"};J.prototype.toJSON=function(){var m=
{};try{m=y.prototype.toJSON.call(this)}catch(T){}m.isConstructed=this.isConstructed;m.isHexOnly=this.isHexOnly;m.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return m};var Q=function(m){m=void 0===m?{}:m;m=N.call(this,m,J)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=4;return m};$jscomp.inherits(Q,N);Q.prototype.fromBER=function(m,T,ba){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return 0===
ba?(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),T):N.prototype.fromBER.call(this,m,T,ba)};Q.blockName=function(){return"OctetString"};Q.prototype.isEqual=function(m){return!1===m instanceof Q||JSON.stringify(this)!==JSON.stringify(m)?!1:!0};H.OctetString=Q;var aa=R(v),Z=function(m){m=void 0===m?{}:m;var T=aa.call(this,m)||this;T.unusedBits=(0,l.getParametersValue)(m,"unusedBits",0);T.isConstructed=
(0,l.getParametersValue)(m,"isConstructed",!1);T.blockLength=T.valueHex.byteLength;return T};$jscomp.inherits(Z,aa);Z.prototype.fromBER=function(m,T,ba){if(0===ba)return T;if(!0===this.isConstructed){T=v.prototype.fromBER.call(this,m,T,ba);if(-1===T)return T;for(ba=0;ba<this.value.length;ba++){m=this.value[ba].constructor.blockName();if(m===S.blockName())if(!0===this.isIndefiniteForm)break;else return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;if(m!==ca.blockName())return this.error=
"BIT STRING may consists of BIT STRINGs only",-1;if(0<this.unusedBits&&0<this.value[ba].valueBlock.unusedBits)return this.error='Usign of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=this.value[ba].valueBlock.unusedBits;if(7<this.unusedBits)return this.error="Unused bits for BitString must be in range 0-7",-1}return T}if(!1===(0,l.checkBufferParams)(this,m,T,ba))return-1;m=new Uint8Array(m,T,ba);this.unusedBits=m[0];if(7<this.unusedBits)return this.error=
"Unused bits for BitString must be in range 0-7",-1;this.valueHex=new ArrayBuffer(m.length-1);for(var ra=new Uint8Array(this.valueHex),wa=0;wa<ba-1;wa++)ra[wa]=m[wa+1];this.blockLength=m.length;return T+ba};Z.prototype.toBER=function(m){m=void 0===m?!1:m;if(!0===this.isConstructed)return v.prototype.toBER.call(this,m);if(!0===m)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return new ArrayBuffer(0);m=new Uint8Array(this.valueHex);var T=new ArrayBuffer(this.valueHex.byteLength+
1),ba=new Uint8Array(T);ba[0]=this.unusedBits;for(var ra=0;ra<this.valueHex.byteLength;ra++)ba[ra+1]=m[ra];return T};Z.blockName=function(){return"BitStringValueBlock"};Z.prototype.toJSON=function(){var m={};try{m=aa.prototype.toJSON.call(this)}catch(T){}m.unusedBits=this.unusedBits;m.isConstructed=this.isConstructed;m.isHexOnly=this.isHexOnly;m.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return m};var ca=function(m){m=void 0===m?{}:m;m=N.call(this,m,Z)||this;m.idBlock.tagClass=
1;m.idBlock.tagNumber=3;return m};$jscomp.inherits(ca,N);ca.blockName=function(){return"BitString"};ca.prototype.fromBER=function(m,T,ba){if(0===ba)return T;this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return N.prototype.fromBER.call(this,m,T,ba)};ca.prototype.isEqual=function(m){return!1===m instanceof ca||JSON.stringify(this)!==JSON.stringify(m)?!1:!0};H.BitString=ca;var fa=R(z),ha=function(m){m=void 0===m?{}:m;var T=fa.call(this,
m)||this;"value"in m&&(T.valueDec=m.value);return T};$jscomp.inherits(ha,fa);ha.prototype.fromDER=function(m,T,ba,ra){ra=void 0===ra?0:ra;m=this.fromBER(m,T,ba);if(-1===m)return m;T=new Uint8Array(this._valueHex);0===T[0]&&0!==(T[1]&128)?(ra=new ArrayBuffer(this._valueHex.byteLength-1),(new Uint8Array(ra)).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=ra.slice(0)):0!==ra&&this._valueHex.byteLength<ra&&(1<ra-this._valueHex.byteLength&&(ra=this._valueHex.byteLength+
1),ba=new ArrayBuffer(ra),(new Uint8Array(ba)).set(T,ra-this._valueHex.byteLength),this._valueHex=ba.slice(0));return m};ha.prototype.toDER=function(m){m=void 0===m?!1:m;var T=new Uint8Array(this._valueHex);switch(!0){case 0!==(T[0]&128):var ba=new ArrayBuffer(this._valueHex.byteLength+1),ra=new Uint8Array(ba);ra[0]=0;ra.set(T,1);this._valueHex=ba.slice(0);break;case 0===T[0]&&0===(T[1]&128):T=new ArrayBuffer(this._valueHex.byteLength-1),(new Uint8Array(T)).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-
1)),this._valueHex=T.slice(0)}return this.toBER(m)};ha.prototype.fromBER=function(m,T,ba){m=fa.prototype.fromBER.call(this,m,T,ba);if(-1===m)return m;this.blockLength=ba;return T+ba};ha.prototype.toBER=function(m){return this.valueHex.slice(0)};ha.blockName=function(){return"IntegerValueBlock"};ha.prototype.toJSON=function(){var m={};try{m=fa.prototype.toJSON.call(this)}catch(T){}m.valueDec=this.valueDec;return m};ha.prototype.toString=function(){function m(Ha,Ga){var Oa=new Uint8Array([0]);Ha=new Uint8Array(Ha);
var Ma=new Uint8Array(Ga);Ga=Ha.slice(0);Ha=Ga.length-1;Ma=Ma.slice(0);for(var Ua=Ma.length-1,hb,kb=0,pb=Ua<Ha?Ha:Ua;0<=pb;pb--,kb++){switch(!0){case kb<Ma.length:hb=Ga[Ha-kb]+Ma[Ua-kb]+Oa[0];break;default:hb=Ga[Ha-kb]+Oa[0]}Oa[0]=hb/10;switch(!0){case kb>=Ga.length:Ga=(0,l.utilConcatView)(new Uint8Array([hb%10]),Ga);break;default:Ga[Ha-kb]=hb%10}}0<Oa[0]&&(Ga=(0,l.utilConcatView)(Oa,Ga));return Ga.slice(0)}function T(Ha){if(Ha>=h.length)for(var Ga=h.length;Ga<=Ha;Ga++){for(var Oa=new Uint8Array([0]),
Ma=h[Ga-1].slice(0),Ua=Ma.length-1;0<=Ua;Ua--){var hb=new Uint8Array([(Ma[Ua]<<1)+Oa[0]]);Oa[0]=hb[0]/10;Ma[Ua]=hb[0]%10}0<Oa[0]&&(Ma=(0,l.utilConcatView)(Oa,Ma));h.push(Ma)}return h[Ha]}function ba(Ha,Ga){var Oa=0;Ha=new Uint8Array(Ha);var Ma=new Uint8Array(Ga);Ga=Ha.slice(0);Ha=Ga.length-1;for(var Ua=Ma.slice(0),hb=Ua.length-1,kb=0,pb=hb;0<=pb;pb--,kb++)switch(Ma=Ga[Ha-kb]-Ua[hb-kb]-Oa,!0){case 0>Ma:Oa=1;Ga[Ha-kb]=Ma+10;break;default:Oa=0,Ga[Ha-kb]=Ma}if(0<Oa)for(Ua=Ha-hb+1;0<=Ua;Ua--,kb++)if(Ma=
Ga[Ha-kb]-Oa,0>Ma)Oa=1,Ga[Ha-kb]=Ma+10;else{Ga[Ha-kb]=Ma;break}return Ga.slice()}for(var ra=8*this._valueHex.byteLength-1,wa=new Uint8Array(8*this._valueHex.byteLength/3),Fa=0,$a,lb=new Uint8Array(this._valueHex),Va="",A=!1,ia=this._valueHex.byteLength-1;0<=ia;ia--){$a=lb[ia];for(var oa=0;8>oa;oa++){if(1===($a&1))switch(Fa){case ra:wa=ba(T(Fa),wa);Va="-";break;default:wa=m(wa,T(Fa))}Fa++;$a>>=1}}for(ra=0;ra<wa.length;ra++)wa[ra]&&(A=!0),A&&(Va+="0123456789".charAt(wa[ra]));!1===A&&(Va+="0");return Va};
$jscomp.global.Object.defineProperties(ha.prototype,{valueHex:{configurable:!0,enumerable:!0,set:function(m){this._valueHex=m.slice(0);4<=m.byteLength?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,0<m.byteLength&&(this._valueDec=l.utilDecodeTC.call(this)))},get:function(){return this._valueHex}},valueDec:{configurable:!0,enumerable:!0,set:function(m){this._valueDec=m;this.isHexOnly=!1;this._valueHex=(0,l.utilEncodeTC)(m)},get:function(){return this._valueDec}}});
var pa=function(m){m=void 0===m?{}:m;m=N.call(this,m,ha)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=2;return m};$jscomp.inherits(pa,N);pa.blockName=function(){return"Integer"};pa.prototype.isEqual=function(m){return m instanceof pa?this.valueBlock.isHexOnly&&m.valueBlock.isHexOnly?(0,l.isEqualBuffer)(this.valueBlock.valueHex,m.valueBlock.valueHex):this.valueBlock.isHexOnly===m.valueBlock.isHexOnly?this.valueBlock.valueDec===m.valueBlock.valueDec:!1:m instanceof ArrayBuffer?(0,l.isEqualBuffer)(this.valueBlock.valueHex,
m):!1};pa.prototype.convertToDER=function(){var m=new pa({valueHex:this.valueBlock.valueHex});m.valueBlock.toDER();return m};pa.prototype.convertFromDER=function(){var m=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,T=new pa({valueHex:this.valueBlock.valueHex});T.valueBlock.fromDER(T.valueBlock.valueHex,0,T.valueBlock.valueHex.byteLength,m);return T};H.Integer=pa;var x=function(m){m=void 0===m?{}:m;m=pa.call(this,m)||this;m.idBlock.tagClass=
1;m.idBlock.tagNumber=10;return m};$jscomp.inherits(x,pa);x.blockName=function(){return"Enumerated"};H.Enumerated=x;var n=R(r),w=function(m){m=void 0===m?{}:m;var T=n.call(this,m)||this;T.valueDec=(0,l.getParametersValue)(m,"valueDec",-1);T.isFirstSid=(0,l.getParametersValue)(m,"isFirstSid",!1);return T};$jscomp.inherits(w,n);w.blockName=function(){return"sidBlock"};w.prototype.fromBER=function(m,T,ba){if(0===ba)return T;if(!1===(0,l.checkBufferParams)(this,m,T,ba))return-1;m=new Uint8Array(m,T,ba);
this.valueHex=new ArrayBuffer(ba);for(var ra=new Uint8Array(this.valueHex),wa=0;wa<ba&&(ra[wa]=m[wa]&127,this.blockLength++,0!==(m[wa]&128));wa++);ba=new ArrayBuffer(this.blockLength);wa=new Uint8Array(ba);for(var Fa=0;Fa<this.blockLength;Fa++)wa[Fa]=ra[Fa];this.valueHex=ba.slice(0);ra=new Uint8Array(this.valueHex);if(0!==(m[this.blockLength-1]&128))return this.error="End of input reached before message was fully decoded",-1;0===ra[0]&&this.warnings.push("Needlessly long format of SID encoding");
8>=this.blockLength?this.valueDec=(0,l.utilFromBase)(ra,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only"));return T+this.blockLength};w.prototype.toBER=function(m){m=void 0===m?!1:m;if(this.isHexOnly){if(!0===m)return new ArrayBuffer(this.valueHex.byteLength);var T=new Uint8Array(this.valueHex);var ba=new ArrayBuffer(this.blockLength);m=new Uint8Array(ba);for(var ra=0;ra<this.blockLength-1;ra++)m[ra]=T[ra]|128;m[this.blockLength-1]=T[this.blockLength-1];return ba}T=(0,
l.utilToBase)(this.valueDec,7);if(0===T.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);ba=new ArrayBuffer(T.byteLength);if(!1===m){ra=new Uint8Array(T);m=new Uint8Array(ba);for(var wa=0;wa<T.byteLength-1;wa++)m[wa]=ra[wa]|128;m[T.byteLength-1]=ra[T.byteLength-1]}return ba};w.prototype.toString=function(){if(!0===this.isHexOnly)var m=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){var T=this.valueDec;39>=this.valueDec?m="0.":
79>=this.valueDec?(m="1.",T-=40):(m="2.",T-=80);m+=T.toString()}else m=this.valueDec.toString();return m};w.prototype.toJSON=function(){var m={};try{m=n.prototype.toJSON.call(this)}catch(T){}m.valueDec=this.valueDec;m.isFirstSid=this.isFirstSid;return m};var F=function(m){m=void 0===m?{}:m;var T=z.call(this,m)||this;T.fromString((0,l.getParametersValue)(m,"value",""));return T};$jscomp.inherits(F,z);F.prototype.fromBER=function(m,T,ba){for(;0<ba;){var ra=new w;T=ra.fromBER(m,T,ba);if(-1===T){this.blockLength=
0;this.error=ra.error;break}0===this.value.length&&(ra.isFirstSid=!0);this.blockLength+=ra.blockLength;ba-=ra.blockLength;this.value.push(ra)}return T};F.prototype.toBER=function(m){m=void 0===m?!1:m;for(var T=new ArrayBuffer(0),ba=0;ba<this.value.length;ba++){var ra=this.value[ba].toBER(m);if(0===ra.byteLength)return this.error=this.value[ba].error,new ArrayBuffer(0);T=(0,l.utilConcatBuf)(T,ra)}return T};F.prototype.fromString=function(m){this.value=[];var T=0,ba=!1;do{var ra=m.indexOf(".",T);var wa=
-1===ra?m.substr(T):m.substr(T,ra-T);T=ra+1;if(ba){ba=this.value[0];var Fa=0;switch(ba.valueDec){case 0:break;case 1:Fa=40;break;case 2:Fa=80;break;default:return this.value=[],!1}wa=parseInt(wa,10);if(isNaN(wa))break;ba.valueDec=wa+Fa;ba=!1}else{Fa=new w;Fa.valueDec=parseInt(wa,10);if(isNaN(Fa.valueDec))break;0===this.value.length&&(ba=Fa.isFirstSid=!0);this.value.push(Fa)}}while(-1!==ra);return!0};F.prototype.toString=function(){for(var m="",T,ba=0;ba<this.value.length;ba++){T=this.value[ba].isHexOnly;
var ra=this.value[ba].toString();0!==ba&&(m+=".");T?(ra="{"+ra+"}",m=this.value[ba].isFirstSid?"2.{"+ra+" - 80}":m+ra):m+=ra}return m};F.blockName=function(){return"ObjectIdentifierValueBlock"};F.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(ba){}m.value=this.toString();m.sidArray=[];for(var T=0;T<this.value.length;T++)m.sidArray.push(this.value[T].toJSON());return m};var W=function(m){m=void 0===m?{}:m;m=N.call(this,m,F)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=
6;return m};$jscomp.inherits(W,N);W.blockName=function(){return"ObjectIdentifier"};H.ObjectIdentifier=W;var P=R(r),O=function(m){m=void 0===m?{}:m;m=P.call(this,m)||this;m.isHexOnly=!0;m.value="";return m};$jscomp.inherits(O,P);O.blockName=function(){return"Utf8StringValueBlock"};O.prototype.toJSON=function(){var m={};try{m=P.prototype.toJSON.call(this)}catch(T){}m.value=this.value;return m};var L=function(m){m=void 0===m?{}:m;var T=N.call(this,m,O)||this;"value"in m&&T.fromString(m.value);T.idBlock.tagClass=
1;T.idBlock.tagNumber=12;return T};$jscomp.inherits(L,N);L.blockName=function(){return"Utf8String"};L.prototype.fromBER=function(m,T,ba){m=this.valueBlock.fromBER(m,T,!0===this.lenBlock.isIndefiniteForm?ba:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&
(this.blockLength+=this.valueBlock.blockLength);return m};L.prototype.fromBuffer=function(m){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(m));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(T){this.warnings.push('Error during "decodeURIComponent": '+T+", using raw string")}};L.prototype.fromString=function(m){var T=unescape(encodeURIComponent(m)),ba=T.length;this.valueBlock.valueHex=new ArrayBuffer(ba);for(var ra=new Uint8Array(this.valueBlock.valueHex),
wa=0;wa<ba;wa++)ra[wa]=T.charCodeAt(wa);this.valueBlock.value=m};H.Utf8String=L;var sa=R(r),Aa=function(m){m=void 0===m?{}:m;var T=sa.call(this,m)||this;T.valueDec=(0,l.getParametersValue)(m,"valueDec",-1);return T};$jscomp.inherits(Aa,sa);Aa.blockName=function(){return"relativeSidBlock"};Aa.prototype.fromBER=function(m,T,ba){if(0===ba)return T;if(!1===(0,l.checkBufferParams)(this,m,T,ba))return-1;m=new Uint8Array(m,T,ba);this.valueHex=new ArrayBuffer(ba);for(var ra=new Uint8Array(this.valueHex),
wa=0;wa<ba&&(ra[wa]=m[wa]&127,this.blockLength++,0!==(m[wa]&128));wa++);ba=new ArrayBuffer(this.blockLength);wa=new Uint8Array(ba);for(var Fa=0;Fa<this.blockLength;Fa++)wa[Fa]=ra[Fa];this.valueHex=ba.slice(0);ra=new Uint8Array(this.valueHex);if(0!==(m[this.blockLength-1]&128))return this.error="End of input reached before message was fully decoded",-1;0===ra[0]&&this.warnings.push("Needlessly long format of SID encoding");8>=this.blockLength?this.valueDec=(0,l.utilFromBase)(ra,7):(this.isHexOnly=
!0,this.warnings.push("Too big SID for decoding, hex only"));return T+this.blockLength};Aa.prototype.toBER=function(m){m=void 0===m?!1:m;if(this.isHexOnly){if(!0===m)return new ArrayBuffer(this.valueHex.byteLength);var T=new Uint8Array(this.valueHex);var ba=new ArrayBuffer(this.blockLength);m=new Uint8Array(ba);for(var ra=0;ra<this.blockLength-1;ra++)m[ra]=T[ra]|128;m[this.blockLength-1]=T[this.blockLength-1];return ba}T=(0,l.utilToBase)(this.valueDec,7);if(0===T.byteLength)return this.error="Error during encoding SID value",
new ArrayBuffer(0);ba=new ArrayBuffer(T.byteLength);if(!1===m){ra=new Uint8Array(T);m=new Uint8Array(ba);for(var wa=0;wa<T.byteLength-1;wa++)m[wa]=ra[wa]|128;m[T.byteLength-1]=ra[T.byteLength-1]}return ba};Aa.prototype.toString=function(){return!0===this.isHexOnly?(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString()};Aa.prototype.toJSON=function(){var m={};try{m=sa.prototype.toJSON.call(this)}catch(T){}m.valueDec=this.valueDec;return m};var xa=function(m){m=void 0===
m?{}:m;var T=z.call(this,m)||this;T.fromString((0,l.getParametersValue)(m,"value",""));return T};$jscomp.inherits(xa,z);xa.prototype.fromBER=function(m,T,ba){for(;0<ba;){var ra=new Aa;T=ra.fromBER(m,T,ba);if(-1===T){this.blockLength=0;this.error=ra.error;break}this.blockLength+=ra.blockLength;ba-=ra.blockLength;this.value.push(ra)}return T};xa.prototype.toBER=function(m){m=void 0===m?!1:m;for(var T=new ArrayBuffer(0),ba=0;ba<this.value.length;ba++){var ra=this.value[ba].toBER(m);if(0===ra.byteLength)return this.error=
this.value[ba].error,new ArrayBuffer(0);T=(0,l.utilConcatBuf)(T,ra)}return T};xa.prototype.fromString=function(m){this.value=[];var T=0;do{var ba=m.indexOf(".",T);var ra=-1===ba?m.substr(T):m.substr(T,ba-T);T=ba+1;var wa=new Aa;wa.valueDec=parseInt(ra,10);if(isNaN(wa.valueDec))break;this.value.push(wa)}while(-1!==ba);return!0};xa.prototype.toString=function(){for(var m="",T,ba=0;ba<this.value.length;ba++){T=this.value[ba].isHexOnly;var ra=this.value[ba].toString();0!==ba&&(m+=".");T&&(ra="{"+ra+"}");
m+=ra}return m};xa.blockName=function(){return"RelativeObjectIdentifierValueBlock"};xa.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(ba){}m.value=this.toString();m.sidArray=[];for(var T=0;T<this.value.length;T++)m.sidArray.push(this.value[T].toJSON());return m};var Ea=function(m){m=void 0===m?{}:m;m=N.call(this,m,xa)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=13;return m};$jscomp.inherits(Ea,N);Ea.blockName=function(){return"RelativeObjectIdentifier"};H.RelativeObjectIdentifier=
Ea;var za=R(r),c=function(m){m=void 0===m?{}:m;m=za.call(this,m)||this;m.isHexOnly=!0;m.value="";return m};$jscomp.inherits(c,za);c.blockName=function(){return"BmpStringValueBlock"};c.prototype.toJSON=function(){var m={};try{m=za.prototype.toJSON.call(this)}catch(T){}m.value=this.value;return m};var X=function(m){m=void 0===m?{}:m;var T=N.call(this,m,c)||this;"value"in m&&T.fromString(m.value);T.idBlock.tagClass=1;T.idBlock.tagNumber=30;return T};$jscomp.inherits(X,N);X.blockName=function(){return"BmpString"};
X.prototype.fromBER=function(m,T,ba){m=this.valueBlock.fromBER(m,T,!0===this.lenBlock.isIndefiniteForm?ba:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return m};X.prototype.fromBuffer=function(m){m=
m.slice(0);for(var T=new Uint8Array(m),ba=0;ba<T.length;ba+=2){var ra=T[ba];T[ba]=T[ba+1];T[ba+1]=ra}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(m))};X.prototype.fromString=function(m){var T=m.length;this.valueBlock.valueHex=new ArrayBuffer(2*T);for(var ba=new Uint8Array(this.valueBlock.valueHex),ra=0;ra<T;ra++){var wa=(0,l.utilToBase)(m.charCodeAt(ra),8);wa=new Uint8Array(wa);if(!(2<wa.length))for(var Fa=2-wa.length,$a=wa.length-1;0<=$a;$a--)ba[2*ra+$a+Fa]=wa[$a]}this.valueBlock.value=
m};H.BmpString=X;var ma=R(r),ka=function(m){m=void 0===m?{}:m;m=ma.call(this,m)||this;m.isHexOnly=!0;m.value="";return m};$jscomp.inherits(ka,ma);ka.blockName=function(){return"UniversalStringValueBlock"};ka.prototype.toJSON=function(){var m={};try{m=ma.prototype.toJSON.call(this)}catch(T){}m.value=this.value;return m};var na=function(m){m=void 0===m?{}:m;var T=N.call(this,m,ka)||this;"value"in m&&T.fromString(m.value);T.idBlock.tagClass=1;T.idBlock.tagNumber=28;return T};$jscomp.inherits(na,N);na.blockName=
function(){return"UniversalString"};na.prototype.fromBER=function(m,T,ba){m=this.valueBlock.fromBER(m,T,!0===this.lenBlock.isIndefiniteForm?ba:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return m};
na.prototype.fromBuffer=function(m){m=m.slice(0);for(var T=new Uint8Array(m),ba=0;ba<T.length;ba+=4)T[ba]=T[ba+3],T[ba+1]=T[ba+2],T[ba+2]=0,T[ba+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(m))};na.prototype.fromString=function(m){var T=m.length;this.valueBlock.valueHex=new ArrayBuffer(4*T);for(var ba=new Uint8Array(this.valueBlock.valueHex),ra=0;ra<T;ra++){var wa=(0,l.utilToBase)(m.charCodeAt(ra),8);wa=new Uint8Array(wa);if(!(4<wa.length))for(var Fa=4-wa.length,$a=wa.length-
1;0<=$a;$a--)ba[4*ra+$a+Fa]=wa[$a]}this.valueBlock.value=m};H.UniversalString=na;var Ba=R(r),La=function(m){m=void 0===m?{}:m;m=Ba.call(this,m)||this;m.value="";m.isHexOnly=!0;return m};$jscomp.inherits(La,Ba);La.blockName=function(){return"SimpleStringValueBlock"};La.prototype.toJSON=function(){var m={};try{m=Ba.prototype.toJSON.call(this)}catch(T){}m.value=this.value;return m};var Pa=function(m){m=void 0===m?{}:m;var T=N.call(this,m,La)||this;"value"in m&&T.fromString(m.value);return T};$jscomp.inherits(Pa,
N);Pa.blockName=function(){return"SIMPLESTRING"};Pa.prototype.fromBER=function(m,T,ba){m=this.valueBlock.fromBER(m,T,!0===this.lenBlock.isIndefiniteForm?ba:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);
return m};Pa.prototype.fromBuffer=function(m){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(m))};Pa.prototype.fromString=function(m){var T=m.length;this.valueBlock.valueHex=new ArrayBuffer(T);for(var ba=new Uint8Array(this.valueBlock.valueHex),ra=0;ra<T;ra++)ba[ra]=m.charCodeAt(ra);this.valueBlock.value=m};var ab=function(m){m=void 0===m?{}:m;m=Pa.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=18;return m};$jscomp.inherits(ab,Pa);ab.blockName=function(){return"NumericString"};
H.NumericString=ab;var Na=function(m){m=void 0===m?{}:m;m=Pa.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=19;return m};$jscomp.inherits(Na,Pa);Na.blockName=function(){return"PrintableString"};H.PrintableString=Na;var cb=function(m){m=void 0===m?{}:m;m=Pa.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=20;return m};$jscomp.inherits(cb,Pa);cb.blockName=function(){return"TeletexString"};H.TeletexString=cb;var da=function(m){m=void 0===m?{}:m;m=Pa.call(this,m)||this;m.idBlock.tagClass=
1;m.idBlock.tagNumber=21;return m};$jscomp.inherits(da,Pa);da.blockName=function(){return"VideotexString"};H.VideotexString=da;var la=function(m){m=void 0===m?{}:m;m=Pa.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=22;return m};$jscomp.inherits(la,Pa);la.blockName=function(){return"IA5String"};H.IA5String=la;var va=function(m){m=void 0===m?{}:m;m=Pa.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=25;return m};$jscomp.inherits(va,Pa);va.blockName=function(){return"GraphicString"};
H.GraphicString=va;var Da=function(m){m=void 0===m?{}:m;m=Pa.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=26;return m};$jscomp.inherits(Da,Pa);Da.blockName=function(){return"VisibleString"};H.VisibleString=Da;var Wa=function(m){m=void 0===m?{}:m;m=Pa.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=27;return m};$jscomp.inherits(Wa,Pa);Wa.blockName=function(){return"GeneralString"};H.GeneralString=Wa;var ib=function(m){m=void 0===m?{}:m;m=Pa.call(this,m)||this;m.idBlock.tagClass=
1;m.idBlock.tagNumber=29;return m};$jscomp.inherits(ib,Pa);ib.blockName=function(){return"CharacterString"};H.CharacterString=ib;var fb=function(m){m=void 0===m?{}:m;var T=Da.call(this,m)||this;T.year=0;T.month=0;T.day=0;T.hour=0;T.minute=0;T.second=0;if("value"in m){T.fromString(m.value);T.valueBlock.valueHex=new ArrayBuffer(m.value.length);for(var ba=new Uint8Array(T.valueBlock.valueHex),ra=0;ra<m.value.length;ra++)ba[ra]=m.value.charCodeAt(ra)}"valueDate"in m&&(T.fromDate(m.valueDate),T.valueBlock.valueHex=
T.toBuffer());T.idBlock.tagClass=1;T.idBlock.tagNumber=23;return T};$jscomp.inherits(fb,Da);fb.prototype.fromBER=function(m,T,ba){m=this.valueBlock.fromBER(m,T,!0===this.lenBlock.isIndefiniteForm?ba:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&
(this.blockLength+=this.valueBlock.blockLength);return m};fb.prototype.fromBuffer=function(m){this.fromString(String.fromCharCode.apply(null,new Uint8Array(m)))};fb.prototype.toBuffer=function(){for(var m=this.toString(),T=new ArrayBuffer(m.length),ba=new Uint8Array(T),ra=0;ra<m.length;ra++)ba[ra]=m.charCodeAt(ra);return T};fb.prototype.fromDate=function(m){this.year=m.getUTCFullYear();this.month=m.getUTCMonth()+1;this.day=m.getUTCDate();this.hour=m.getUTCHours();this.minute=m.getUTCMinutes();this.second=
m.getUTCSeconds()};fb.prototype.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))};fb.prototype.fromString=function(m){m=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(m);if(null===m)this.error="Wrong input string for convertion";else{var T=parseInt(m[1],10);this.year=50<=T?1900+T:2E3+T;this.month=parseInt(m[2],10);this.day=parseInt(m[3],10);this.hour=parseInt(m[4],10);this.minute=parseInt(m[5],10);this.second=parseInt(m[6],10)}};
fb.prototype.toString=function(){var m=Array(7);m[0]=(0,l.padNumber)(2E3>this.year?this.year-1900:this.year-2E3,2);m[1]=(0,l.padNumber)(this.month,2);m[2]=(0,l.padNumber)(this.day,2);m[3]=(0,l.padNumber)(this.hour,2);m[4]=(0,l.padNumber)(this.minute,2);m[5]=(0,l.padNumber)(this.second,2);m[6]="Z";return m.join("")};fb.blockName=function(){return"UTCTime"};fb.prototype.toJSON=function(){var m={};try{m=Da.prototype.toJSON.call(this)}catch(T){}m.year=this.year;m.month=this.month;m.day=this.day;m.hour=
this.hour;m.minute=this.minute;m.second=this.second;return m};H.UTCTime=fb;var Qa=function(m){m=void 0===m?{}:m;var T=Da.call(this,m)||this;T.year=0;T.month=0;T.day=0;T.hour=0;T.minute=0;T.second=0;T.millisecond=0;if("value"in m){T.fromString(m.value);T.valueBlock.valueHex=new ArrayBuffer(m.value.length);for(var ba=new Uint8Array(T.valueBlock.valueHex),ra=0;ra<m.value.length;ra++)ba[ra]=m.value.charCodeAt(ra)}"valueDate"in m&&(T.fromDate(m.valueDate),T.valueBlock.valueHex=T.toBuffer());T.idBlock.tagClass=
1;T.idBlock.tagNumber=24;return T};$jscomp.inherits(Qa,Da);Qa.prototype.fromBER=function(m,T,ba){m=this.valueBlock.fromBER(m,T,!0===this.lenBlock.isIndefiniteForm?ba:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);
return m};Qa.prototype.fromBuffer=function(m){this.fromString(String.fromCharCode.apply(null,new Uint8Array(m)))};Qa.prototype.toBuffer=function(){for(var m=this.toString(),T=new ArrayBuffer(m.length),ba=new Uint8Array(T),ra=0;ra<m.length;ra++)ba[ra]=m.charCodeAt(ra);return T};Qa.prototype.fromDate=function(m){this.year=m.getUTCFullYear();this.month=m.getUTCMonth()+1;this.day=m.getUTCDate();this.hour=m.getUTCHours();this.minute=m.getUTCMinutes();this.second=m.getUTCSeconds();this.millisecond=m.getUTCMilliseconds()};
Qa.prototype.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))};Qa.prototype.fromString=function(m){var T=!1,ba=0,ra=0,wa=0;if("Z"===m[m.length-1])m=m.substr(0,m.length-1),T=!0;else{var Fa=new Number(m[m.length-1]);if(isNaN(Fa.valueOf()))throw Error("Wrong input string for convertion");}if(T){if(-1!==m.indexOf("+"))throw Error("Wrong input string for convertion");if(-1!==m.indexOf("-"))throw Error("Wrong input string for convertion");
}else{Fa=1;var $a=m.indexOf("+");-1===$a&&($a=m.indexOf("-"),Fa=-1);if(-1!==$a){var lb=m.substr($a+1);m=m.substr(0,$a);if(2!==lb.length&&4!==lb.length)throw Error("Wrong input string for convertion");$a=new Number(lb.substr(0,2));if(isNaN($a.valueOf()))throw Error("Wrong input string for convertion");ra=Fa*$a;if(4===lb.length){$a=new Number(lb.substr(2,2));if(isNaN($a.valueOf()))throw Error("Wrong input string for convertion");wa=Fa*$a}}}lb=m.indexOf(".");-1===lb&&(lb=m.indexOf(","));if(-1!==lb){ba=
new Number("0"+m.substr(lb));if(isNaN(ba.valueOf()))throw Error("Wrong input string for convertion");ba=ba.valueOf();m=m.substr(0,lb)}switch(!0){case 8===m.length:Fa=/(\d{4})(\d{2})(\d{2})/ig;if(-1!==lb)throw Error("Wrong input string for convertion");break;case 10===m.length:Fa=/(\d{4})(\d{2})(\d{2})(\d{2})/ig;-1!==lb&&(ba*=60,this.minute=Math.floor(ba),ba=60*(ba-this.minute),this.second=Math.floor(ba),ba=1E3*(ba-this.second),this.millisecond=Math.floor(ba));break;case 12===m.length:Fa=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig;
-1!==lb&&(ba*=60,this.second=Math.floor(ba),ba=1E3*(ba-this.second),this.millisecond=Math.floor(ba));break;case 14===m.length:Fa=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig;-1!==lb&&(this.millisecond=Math.floor(1E3*ba));break;default:throw Error("Wrong input string for convertion");}ba=Fa.exec(m);if(null===ba)throw Error("Wrong input string for convertion");for(m=1;m<ba.length;m++)switch(m){case 1:this.year=parseInt(ba[m],10);break;case 2:this.month=parseInt(ba[m],10);break;case 3:this.day=parseInt(ba[m],
10);break;case 4:this.hour=parseInt(ba[m],10)+ra;break;case 5:this.minute=parseInt(ba[m],10)+wa;break;case 6:this.second=parseInt(ba[m],10);break;default:throw Error("Wrong input string for convertion");}!1===T&&(T=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond),this.year=T.getUTCFullYear(),this.month=T.getUTCMonth(),this.day=T.getUTCDay(),this.hour=T.getUTCHours(),this.minute=T.getUTCMinutes(),this.second=T.getUTCSeconds(),this.millisecond=T.getUTCMilliseconds())};
Qa.prototype.toString=function(){var m=[];m.push((0,l.padNumber)(this.year,4));m.push((0,l.padNumber)(this.month,2));m.push((0,l.padNumber)(this.day,2));m.push((0,l.padNumber)(this.hour,2));m.push((0,l.padNumber)(this.minute,2));m.push((0,l.padNumber)(this.second,2));0!==this.millisecond&&(m.push("."),m.push((0,l.padNumber)(this.millisecond,3)));m.push("Z");return m.join("")};Qa.blockName=function(){return"GeneralizedTime"};Qa.prototype.toJSON=function(){var m={};try{m=Da.prototype.toJSON.call(this)}catch(T){}m.year=
this.year;m.month=this.month;m.day=this.day;m.hour=this.hour;m.minute=this.minute;m.second=this.second;m.millisecond=this.millisecond;return m};H.GeneralizedTime=Qa;var Ka=function(m){m=void 0===m?{}:m;m=L.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=31;return m};$jscomp.inherits(Ka,L);Ka.blockName=function(){return"DATE"};H.DATE=Ka;var db=function(m){m=void 0===m?{}:m;m=L.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=32;return m};$jscomp.inherits(db,L);db.blockName=function(){return"TimeOfDay"};
H.TimeOfDay=db;var Xa=function(m){m=void 0===m?{}:m;m=L.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=33;return m};$jscomp.inherits(Xa,L);Xa.blockName=function(){return"DateTime"};H.DateTime=Xa;var d=function(m){m=void 0===m?{}:m;m=L.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=34;return m};$jscomp.inherits(d,L);d.blockName=function(){return"Duration"};H.Duration=d;var U=function(m){m=void 0===m?{}:m;m=L.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=14;return m};
$jscomp.inherits(U,L);U.blockName=function(){return"TIME"};H.TIME=U;var ea=function(m){m=void 0===m?{}:m;this.value=(0,l.getParametersValue)(m,"value",[]);this.optional=(0,l.getParametersValue)(m,"optional",!1)};H.Choice=ea;var ua=function(m){m=void 0===m?{}:m;this.name=(0,l.getParametersValue)(m,"name","");this.optional=(0,l.getParametersValue)(m,"optional",!1)};H.Any=ua;var qa=function(m){m=void 0===m?{}:m;this.name=(0,l.getParametersValue)(m,"name","");this.optional=(0,l.getParametersValue)(m,
"optional",!1);this.value=(0,l.getParametersValue)(m,"value",new ua);this.local=(0,l.getParametersValue)(m,"local",!1)};H.Repeated=qa;R=function(m){m=void 0===m?{}:m;this.data=(0,l.getParametersValue)(m,"data",new ArrayBuffer(0))};R.prototype.fromBER=function(m,T,ba){this.data=m.slice(T,ba);return T+ba};R.prototype.toBER=function(m){return this.data};H.RawData=R},function(R,H,E){function u(v,C,t){return!1===v instanceof Object?t:C in v?v[C]:t}function K(v,C,t,S){C=void 0===C?0:C;t=void 0===t?v.byteLength-
C:t;S=void 0===S?!1:S;var k="";v=$jscomp.makeIterator(new Uint8Array(v,C,t));for(C=v.next();!C.done;C=v.next())C=C.value.toString(16).toUpperCase(),1===C.length&&(k+="0"),k+=C,S&&(k+=" ");return k.trim()}function V(v,C){var t=0;if(1===v.length)return v[0];for(var S=v.length-1;0<=S;S--)t+=v[v.length-1-S]*Math.pow(2,C*S);return t}function l(v,C,t){var S=void 0===t?-1:t;t=v;for(var k=Math.pow(2,C),e=1;8>e;e++){if(v<k){if(0>S)v=new ArrayBuffer(e),S=e;else{if(S<e)break;v=new ArrayBuffer(S)}k=new Uint8Array(v);
for(--e;0<=e;e--){var q=Math.pow(2,e*C);k[S-e-1]=Math.floor(t/q);t-=k[S-e-1]*q}return v}k*=Math.pow(2,C)}return new ArrayBuffer(0)}function h(v){for(var C=[],t=0;t<arguments.length;++t)C[t-0]=arguments[t];var S=0;t=0;for(var k=$jscomp.makeIterator(C),e=k.next();!e.done;e=k.next())S+=e.value.byteLength;S=new ArrayBuffer(S);k=new Uint8Array(S);C=$jscomp.makeIterator(C);for(e=C.next();!e.done;e=C.next())e=e.value,k.set(new Uint8Array(e),t),t+=e.byteLength;return S}function r(v,C){if(v.byteLength!==C.byteLength)return!1;
v=new Uint8Array(v);C=new Uint8Array(C);for(var t=0;t<v.length;t++)if(v[t]!==C[t])return!1;return!0}function b(v,C,t,S){t=void 0===t?!1:t;var k=0,e=0,q=0,I="";C=(void 0===C?0:C)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(void 0===S?0:S){for(var g=S=0;g<v.length;g++)if(0!==v.charCodeAt(g)){S=g;break}v=v.slice(S)}for(;k<v.length;){var y=v.charCodeAt(k++);k>=v.length&&(e=1);var J=v.charCodeAt(k++);k>=v.length&&
(q=1);g=v.charCodeAt(k++);S=y>>2;y=(y&3)<<4|J>>4;J=(J&15)<<2|g>>6;g&=63;1===e?J=g=64:1===q&&(g=64);I=t?64===J?I+(""+C.charAt(S)+C.charAt(y)):64===g?I+(""+C.charAt(S)+C.charAt(y)+C.charAt(J)):I+(""+C.charAt(S)+C.charAt(y)+C.charAt(J)+C.charAt(g)):I+(""+C.charAt(S)+C.charAt(y)+C.charAt(J)+C.charAt(g))}return I}function f(v,C,t){function S(aa){for(var Z=0;64>Z;Z++)if(k.charAt(Z)===aa)return Z;return 64}t=void 0===t?!1:t;var k=(void 0===C?0:C)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=0;for(C="";e<v.length;){var q=S(v.charAt(e++)),I=e>=v.length?0:S(v.charAt(e++)),g=e>=v.length?0:S(v.charAt(e++)),y=e>=v.length?0:S(v.charAt(e++)),J=((64===I?0:I)&15)<<4|(64===g?0:g)>>2,Q=((64===g?0:g)&3)<<6|(64===y?0:y);C+=String.fromCharCode((64===q?0:q)<<2|(64===I?0:I)>>4);64!==g&&(C+=String.fromCharCode(J));64!==y&&(C+=String.fromCharCode(Q))}if(t){v=-1;for(t=C.length-1;0<=t;t--)if(0!==C.charCodeAt(t)){v=t;break}C=-1!==v?C.slice(0,
v+1):""}return C}function p(v){var C="";v=new Uint8Array(v);v=$jscomp.makeIterator(v);for(var t=v.next();!t.done;t=v.next())C+=String.fromCharCode(t.value);return C}function z(v){for(var C=v.length,t=new ArrayBuffer(C),S=new Uint8Array(t),k=0;k<C;k++)S[k]=v.charCodeAt(k);return t}function N(v){var C=Math.log(v)/G;v=Math.floor(C);C=Math.round(C);return v===C?v:C}function B(v,C){C=$jscomp.makeIterator(C);for(var t=C.next();!t.done;t=C.next())delete v[t.value]}E.d(H,"e",function(){return u});E.d(H,"b",
function(){return K});E.d(H,"k",function(){return V});E.d(H,"l",function(){return l});E.d(H,"j",function(){return h});E.d(H,"f",function(){return r});E.d(H,"i",function(){return b});E.d(H,"d",function(){return f});E.d(H,"a",function(){return p});E.d(H,"h",function(){return z});E.d(H,"g",function(){return N});E.d(H,"c",function(){return B});var G=Math.log(2)},function(R,H,E){(function(u,K){function V(x,n){for(var w=1;w<arguments.length;++w);w=arguments[0];for(var F=1;F<arguments.length;F++){var W=
arguments[F],P;for(P in W)W.hasOwnProperty(P)&&(w[P]=W[P])}return w}function l(x){return function(n){n.localName=x.localName||n.name;n.namespaceURI=x.namespaceURI||n.namespaceURI||null;n.prefix=x.prefix||n.prefix||null;n.parser=x.parser||n.parser;n.target!==n&&(n.items=V({},n.items));n.target=n}}function h(x){x=void 0===x?{}:x;return function(n,w){var F=n.constructor;F.items||(F.items={});F.target!==F&&(F.items=V({},F.items));F.target=n;F.items[w]=x.parser?{parser:x.parser,required:x.required||!1,
maxOccurs:x.maxOccurs||1E9,minOccurs:void 0===x.minOccurs?0:x.minOccurs,noRoot:x.noRoot||!1}:{namespaceURI:x.namespaceURI||null,required:x.required||!1,prefix:x.prefix||null,defaultValue:x.defaultValue,converter:x.converter,noRoot:x.noRoot||!1};x.localName=x.localName||x.parser&&x.parser.localName||w;F.items[w].namespaceURI=x.namespaceURI||x.parser&&x.parser.namespaceURI||null;F.items[w].prefix=x.prefix||x.parser&&x.parser.prefix||null;F.items[w].localName=x.localName;F.items[w].type="element";f(n,
w,x)}}function r(x){x=void 0===x?{required:!1,namespaceURI:null}:x;return function(n,w){var F=n.constructor;x.localName||(x.localName=w);F.items||(F.items={});F.target!==F&&(F.items=V({},F.items));F.target=n;F.items[w]=x;F.items[w].type="attribute";f(n,w,x)}}function b(x){x=void 0===x?{required:!1}:x;return function(n,w){var F=n.constructor;F.items||(F.items={});F.target!==F&&(F.items=V({},F.items));F.target=n;F.items[w]=x;F.items[w].type="content";f(n,w,x)}}function f(x,n,w){var F="_"+n;Object.defineProperty(x,
F,{writable:!0,enumerable:!1});Object.defineProperty(x,n,{set:function(W){this[F]!==W&&(this.element=null,this[F]=W)},get:function(){if(void 0===this[F]){var W=w.defaultValue;w.parser&&(W=new w.parser,W.localName=w.localName);this[F]=W}return this[F]}})}function p(x,n){for(var w=1;w<arguments.length;++w);w=x;for(var F=/[^%](%\d+)/g,W,P=[];W=F.exec(w);)P.push({arg:W[1],index:W.index});for(F=P.length-1;0<=F;F--){var O=P[F];W=O.arg.substring(1);O=O.index+1;w=w.substring(0,O)+arguments[+W]+w.substring(O+
1+W.length)}return w=w.replace("%%","%")}function z(x,n){var w=null==x.ownerDocument?x:x.ownerDocument,F=document.createNSResolver(null==x.ownerDocument?x.documentElement:x.ownerDocument.documentElement);x=w.evaluate(n,x,F,XPathResult.ANY_TYPE,null);for(n=[];w=x.iterateNext();)n.push(w);return n}function N(x){x=x.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return(new DOMParser).parseFromString(x,"application/xml")}function B(x,n){return(x=aa(x,n))&&0<x.length?x[0]:null}function G(x,n){n=void 0===n?
{}:n;if(x&&x.nodeType===y.Element){x.namespaceURI&&"http://www.w3.org/XML/1998/namespace"!==x.namespaceURI&&!n[x.prefix||""]&&(n[x.prefix?x.prefix:""]=x.namespaceURI);for(var w=0;w<x.childNodes.length;w++){var F=x.childNodes.item(w);F&&F.nodeType===y.Element&&G(F,n)}}}function v(x){var n={};G(x,n);return n}function C(x,n){for(var w=1;w<arguments.length;++w);w=arguments[0];for(var F=1;F<arguments.length;F++){var W=arguments[F],P;for(P in W)W.hasOwnProperty(P)&&(w[P]=W[P])}return w}function t(x){return x&&
x.nodeType===y.Element}function S(x){return x&&x.nodeType===y.Document}E.d(H,"a",function(){return"application/xml"});E.d(H,"b",function(){return g});E.d(H,"c",function(){return pa});E.d(H,"d",function(){return N});E.d(H,"e",function(){return v});E.d(H,"f",function(){return q});E.d(H,"g",function(){return r});E.d(H,"h",function(){return Z});E.d(H,"i",function(){return h});E.d(H,"j",function(){return ha});E.d(H,"k",function(){return b});E.d(H,"l",function(){return l});E.d(H,"m",function(){return e});
E.d(H,"n",function(){return y});E.d(H,"o",function(){return ca});E.d(H,"p",function(){return fa});E.d(H,"q",function(){return C});E.d(H,"r",function(){return S});E.d(H,"s",function(){return t});var k=function(x){this.items=[];x&&(this.items=x)};k.prototype.Item=function(x){return this.items[x]||null};k.prototype.Add=function(x){this.items.push(x)};k.prototype.Pop=function(){return this.items.pop()};k.prototype.RemoveAt=function(x){this.items=this.items.filter(function(n,w){return w!==x})};k.prototype.Clear=
function(){this.items=[]};k.prototype.GetIterator=function(){return this.items};k.prototype.ForEach=function(x){this.GetIterator().forEach(x)};k.prototype.Map=function(x){return new k(this.GetIterator().map(x))};k.prototype.Filter=function(x){return new k(this.GetIterator().filter(x))};k.prototype.Sort=function(x){return new k(this.GetIterator().sort(x))};k.prototype.Every=function(x){return this.GetIterator().every(x)};k.prototype.Some=function(x){return this.GetIterator().some(x)};k.prototype.IsEmpty=
function(){return 0===this.Count};$jscomp.global.Object.defineProperties(k.prototype,{Count:{configurable:!0,enumerable:!0,get:function(){return this.items.length}}});var e=function(x,n){for(var w=1;w<arguments.length;++w);this.prefix="XMLJS";this.code=x;this.name=this.constructor.name;arguments[0]=I[x];w=p.apply(this,arguments);for(var F=""+this.prefix,W=x+"";4>W.length;)W="0"+W;this.message=F+W+": "+w;this.stack=Error(this.message).stack},q;(function(x){x[x.NONE=0]="NONE";x[x.NULL_REFERENCE=1]=
"NULL_REFERENCE";x[x.NULL_PARAM=2]="NULL_PARAM";x[x.DECORATOR_NULL_PARAM=3]="DECORATOR_NULL_PARAM";x[x.COLLECTION_LIMIT=4]="COLLECTION_LIMIT";x[x.METHOD_NOT_IMPLEMENTED=5]="METHOD_NOT_IMPLEMENTED";x[x.METHOD_NOT_SUPPORTED=6]="METHOD_NOT_SUPPORTED";x[x.PARAM_REQUIRED=7]="PARAM_REQUIRED";x[x.CONVERTER_UNSUPPORTED=8]="CONVERTER_UNSUPPORTED";x[x.ELEMENT_MALFORMED=9]="ELEMENT_MALFORMED";x[x.ELEMENT_MISSING=10]="ELEMENT_MISSING";x[x.ATTRIBUTE_MISSING=11]="ATTRIBUTE_MISSING";x[x.CONTENT_MISSING=12]="CONTENT_MISSING";
x[x.CRYPTOGRAPHIC=13]="CRYPTOGRAPHIC";x[x.CRYPTOGRAPHIC_NO_MODULE=14]="CRYPTOGRAPHIC_NO_MODULE";x[x.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM=15]="CRYPTOGRAPHIC_UNKNOWN_TRANSFORM";x[x.ALGORITHM_NOT_SUPPORTED=16]="ALGORITHM_NOT_SUPPORTED";x[x.ALGORITHM_WRONG_NAME=17]="ALGORITHM_WRONG_NAME";x[x.XML_EXCEPTION=18]="XML_EXCEPTION"})(q||(q={}));var I={};I[q.NONE]="No description";I[q.NULL_REFERENCE]="Null reference";I[q.NULL_PARAM]="'%1' has empty '%2' object";I[q.DECORATOR_NULL_PARAM]="Decorator '%1' has empty '%2' parameter";
I[q.COLLECTION_LIMIT]="Collection of '%1' in element '%2' has wrong amount of items";I[q.METHOD_NOT_IMPLEMENTED]="Method is not implemented";I[q.METHOD_NOT_SUPPORTED]="Method is not supported";I[q.PARAM_REQUIRED]="Required parameter is missing '%1'";I[q.CONVERTER_UNSUPPORTED]="Converter is not supported";I[q.ELEMENT_MALFORMED]="Malformed element '%1'";I[q.ELEMENT_MISSING]="Element '%1' is missing in '%2'";I[q.ATTRIBUTE_MISSING]="Attribute '%1' is missing in '%2'";I[q.CONTENT_MISSING]="Content is missing in '%1'";
I[q.CRYPTOGRAPHIC]="Cryptographic error: %1";I[q.CRYPTOGRAPHIC_NO_MODULE]="WebCrypto module is not found";I[q.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM]="Unknown transform %1";I[q.ALGORITHM_NOT_SUPPORTED]="Algorithm is not supported '%1'";I[q.ALGORITHM_WRONG_NAME]="Algorithm wrong name in use '%1'";I[q.XML_EXCEPTION]="XML exception: %1";var g=function(){};g.ToString=function(x,n){n=void 0===n?"utf8":n;x=new Uint8Array(x);switch(n.toLowerCase()){case "utf8":return this.ToUtf8String(x);case "binary":return this.ToBinary(x);
case "hex":return this.ToHex(x);case "base64":return this.ToBase64(x);case "base64url":return this.ToBase64Url(x);default:throw new e(q.CONVERTER_UNSUPPORTED);}};g.FromString=function(x,n){switch((void 0===n?"utf8":n).toLowerCase()){case "utf8":return this.FromUtf8String(x);case "binary":return this.FromBinary(x);case "hex":return this.FromHex(x);case "base64":return this.FromBase64(x);case "base64url":return this.FromBase64Url(x);default:throw new e(q.CONVERTER_UNSUPPORTED);}};g.ToBase64=function(x){if("undefined"!==
typeof btoa)return x=this.ToString(x,"binary"),btoa(x);if("undefined"!==typeof u)return u.from(x).toString("base64");throw new e(q.CONVERTER_UNSUPPORTED);};g.FromBase64=function(x){x=x.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\s/g,"");if("undefined"!==typeof atob)return this.FromBinary(atob(x));if("undefined"!==typeof u)return new Uint8Array(u.from(x,"base64"));throw new e(q.CONVERTER_UNSUPPORTED);};g.FromBase64Url=function(x){return this.FromBase64(this.Base64Padding(x.replace(/\-/g,
"+").replace(/_/g,"/")))};g.ToBase64Url=function(x){return this.ToBase64(x).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")};g.FromUtf8String=function(x){x=unescape(encodeURIComponent(x));for(var n=new Uint8Array(x.length),w=0;w<x.length;w++)n[w]=x.charCodeAt(w);return n};g.ToUtf8String=function(x){x=String.fromCharCode.apply(null,x);return decodeURIComponent(escape(x))};g.FromBinary=function(x){for(var n=x.length,w=new Uint8Array(n),F=0;F<n;F++)w[F]=x.charCodeAt(F);return w};g.ToBinary=function(x){for(var n=
"",w=0;w<x.length;w++)n+=String.fromCharCode(x[w]);return n};g.ToHex=function(x){for(var n=[],w=0;w<x.length;w++){var F=x[w].toString(16);n.push(1===F.length?"0"+F:F)}return n.join("")};g.FromHex=function(x){for(var n=new Uint8Array(x.length/2),w=0;w<x.length;w+=2){var F=x.slice(w,w+2);n[w/2]=parseInt(F,16)}return n};g.ToDateTime=function(x){return new Date(x)};g.FromDateTime=function(x){return x.toISOString()};g.Base64Padding=function(x){var n=4-x.length%4;if(4>n)for(var w=0;w<n;w++)x+="=";return x};
var y;(function(x){x[x.None=0]="None";x[x.Element=1]="Element";x[x.Attribute=2]="Attribute";x[x.Text=3]="Text";x[x.CDATA=4]="CDATA";x[x.EntityReference=5]="EntityReference";x[x.Entity=6]="Entity";x[x.ProcessingInstruction=7]="ProcessingInstruction";x[x.Comment=8]="Comment";x[x.Document=9]="Document";x[x.DocumentType=10]="DocumentType";x[x.DocumentFragment=11]="DocumentFragment";x[x.Notation=12]="Notation";x[x.Whitespace=13]="Whitespace";x[x.SignificantWhitespace=14]="SignificantWhitespace";x[x.EndElement=
15]="EndElement";x[x.EndEntity=16]="EndEntity";x[x.XmlDeclaration=17]="XmlDeclaration"})(y||(y={}));var J=function(x,n){throw Error("Not implemented");};if("undefined"===typeof self){var Q=E(67);J=E(70);K.XMLSerializer=Q.XMLSerializer;K.DOMParser=Q.DOMParser;K.DOMImplementation=Q.DOMImplementation;K.document=(new DOMImplementation).createDocument("http://www.w3.org/1999/xhtml","html",null)}else K=self;var aa="undefined"!==typeof self?z:J,Z={get:function(x){if(x)return g.ToBase64(x)},set:function(x){return g.FromBase64(x)}},
ca={get:function(x){return x?x.toString():"0"},set:function(x){return Number(x)}},fa=function(x){x=void 0===x?{}:x;this.prefix=this.GetStatic().prefix||null;this.localName=this.GetStatic().localName;this.namespaceURI=this.GetStatic().namespaceURI;if(x){x=$jscomp.makeIterator(Object.entries(x));for(var n=x.next();!n.done;n=x.next()){var w=$jscomp.makeIterator(n.value);n=w.next().value;w=w.next().value;void 0!==w&&(this[n]=w)}}};fa.LoadXml=function(x){var n=new this;n.LoadXml(x);return n};fa.GetElement=
function(x,n,w){w=void 0===w?!0:w;var F=x.getElementsByTagName(n);if(w&&0===F.length)throw new e(q.ELEMENT_MISSING,n,x.localName);return F[0]||null};fa.GetAttribute=function(x,n,w,F){F=void 0===F?!0:F;if(x.hasAttribute(n))return x.getAttribute(n);if(F)throw new e(q.ATTRIBUTE_MISSING,n,x.localName);return w};fa.GetElementById=function(x,n){if(null==x||null==n)return null;var w=null;S(x)&&(w=x.getElementById(n));null==w&&(w=B(x,"//*[@Id='"+n+"']"),null==w&&(w=B(x,"//*[@ID='"+n+"']"),null==w&&(w=B(x,
"//*[@id='"+n+"']"))));return w};fa.CreateDocument=function(x,n,w){n=void 0===n?null:n;w=void 0===w?null:w;var F="",W="",P="";w&&(F=w+":",W=":"+w);n&&(P=" xmlns"+W+'="'+n+'"');x=""+F+(void 0===x?"xml_root":x);return(new DOMParser).parseFromString("<"+x+P+"></"+x+">","application/xml")};fa.GetChildren=function(x,n,w){x=S(x)?x.documentElement:x;for(var F=[],W=0;W<x.childNodes.length;W++){var P=x.childNodes[W];!t(P)||P.localName!==n||P.namespaceURI!==w&&w||F.push(P)}return F};fa.GetFirstChild=function(x,
n,w){x=S(x)?x.documentElement:x;for(var F=0;F<x.childNodes.length;F++){var W=x.childNodes[F];if(t(W)&&W.localName===n&&(W.namespaceURI===w||!w))return W}return null};fa.GetChild=function(x,n,w,F){F=void 0===F?!0:F;for(var W=0;W<x.childNodes.length;W++){var P=x.childNodes[W];if(t(P)&&P.localName===n&&(P.namespaceURI===w||!w))return P}if(F)throw new e(q.ELEMENT_MISSING,n,x.localName);return null};fa.prototype.HasChanged=function(){var x=this.GetStatic();if(x.items)for(var n in x.items)if(x.items.hasOwnProperty(n)){var w=
this[n];if(x.items[n].parser&&w&&w.HasChanged())return!0}return null===this.element};fa.prototype.GetXml=function(x){if(!x&&!this.HasChanged())return this.element||null;x=this.CreateDocument();var n=this.CreateElement(),w=this.GetStatic(),F=this.localName;if(w.items)for(var W in w.items)if(w.items.hasOwnProperty(W)){var P=this[W],O=w.items[W];switch(O.type){case "content":var L=O.converter?O.converter.get(P):P;if(O.required&&(null===L||void 0===L))throw new e(q.CONTENT_MISSING,F);if(O.defaultValue!==
P||O.required)n.textContent=L;break;case "attribute":L=O.converter?O.converter.get(P):P;if(O.required&&(null===L||void 0===L))throw new e(q.ATTRIBUTE_MISSING,O.localName,F);if(O.defaultValue!==P||O.required)O.namespaceURI?n.setAttributeNS(O.namespaceURI,O.localName,L):n.setAttribute(O.localName,L);break;case "element":L=null;if(O.parser){if(O.required&&!P||O.minOccurs&&!P.Count)throw new e(q.ELEMENT_MISSING,P.localName,F);P&&(L=P.GetXml(void 0===P.element&&(O.required||P.Count)))}else{var sa=O.converter?
O.converter.get(P):P;if(O.required&&void 0===sa)throw new e(q.ELEMENT_MISSING,O.localName,F);if(P!==O.defaultValue||O.required)if(L=O.namespaceURI?x.createElementNS(O.namespaceURI,(O.prefix?O.prefix+":":"")+O.localName):x.createElement((O.prefix?O.prefix+":":"")+O.localName),Array.isArray(sa)){sa=$jscomp.makeIterator(sa);for(var Aa=sa.next();!Aa.done;Aa=sa.next())Aa=Aa.value,Aa=Aa instanceof fa?Aa.GetXml(!0):Aa,null!==Aa&&L.appendChild(Aa)}else sa instanceof fa?L.appendChild(sa.GetXml(!0)):L.textContent=
sa}if(L)if(O.noRoot){sa=[];for(Aa=0;Aa<L.childNodes.length;Aa++){var xa=L.childNodes.item(Aa);t(xa)&&sa.push(xa)}if(sa.length<O.minOccurs||sa.length>O.maxOccurs)throw new e(q.COLLECTION_LIMIT,P.localName,w.localName);sa.forEach(function(Ea){return n.appendChild(Ea.cloneNode(!0))})}else{if(L.childNodes.length<O.minOccurs||L.childNodes.length>O.maxOccurs)throw new e(q.COLLECTION_LIMIT,P.localName,w.localName);n.appendChild(L)}}}this.OnGetXml(n);return this.element=n};fa.prototype.LoadXml=function(x){x=
"string"===typeof x?N(x).documentElement:x;if(!x)throw new e(q.PARAM_REQUIRED,"element");var n=this.GetStatic(),w=this.localName;if(x.localName!==w||x.namespaceURI!=this.NamespaceURI)throw new e(q.ELEMENT_MALFORMED,w);if(n.items)for(var F in n.items)if(n.items.hasOwnProperty(F)){var W=n.items[F];switch(W.type){case "content":if(W.required&&!x.textContent)throw new e(q.CONTENT_MISSING,w);x.textContent?(W=W.converter?W.converter.set(x.textContent):x.textContent,this[F]=W):this[F]=W.defaultValue;break;
case "attribute":if(!W.localName)throw new e(q.PARAM_REQUIRED,"localName");if(W.namespaceURI){var P=x.hasAttributeNS.bind(x,W.namespaceURI,W.localName);var O=x.getAttributeNS.bind(x,W.namespaceURI,W.localName)}else P=x.hasAttribute.bind(x,W.localName),O=x.getAttribute.bind(x,W.localName);if(W.required&&!P())throw new e(q.ATTRIBUTE_MISSING,W.localName,w);P()?(W=W.converter?W.converter.set(O()):O(),this[F]=W):this[F]=W.defaultValue;break;case "element":if(W.noRoot){if(!W.parser)throw new e(q.XML_EXCEPTION,
"Schema for '"+W.localName+"' with flag noRoot must have 'parser'");P=new W.parser;if(!(P instanceof ha))throw new e(q.XML_EXCEPTION,"Schema for '"+W.localName+"' with flag noRoot must have 'parser' like instance of XmlCollection");P.OnLoadXml(x);delete P.element;if(P.Count<W.minOccurs||P.Count>W.maxOccurs)throw new e(q.COLLECTION_LIMIT,W.parser.localName,w);this[F]=P}else{P=null;for(O=0;O<x.childNodes.length;O++){var L=x.childNodes.item(O);if(t(L)&&L.localName===W.localName&&L.namespaceURI==W.namespaceURI){P=
L;break}}if(W.required&&!P)throw new e(q.ELEMENT_MISSING,W.parser?W.parser.localName:W.localName,w);W.parser?P&&(O=new W.parser,O.localName=W.localName,O.namespaceURI=W.namespaceURI,this[F]=O,O.LoadXml(P)):P?(W=W.converter?W.converter.set(P.textContent):P.textContent,this[F]=W):this[F]=W.defaultValue}}}this.OnLoadXml(x);this.prefix=x.prefix||"";this.element=x};fa.prototype.toString=function(){var x=this.GetXml();return x?(new XMLSerializer).serializeToString(x):""};fa.prototype.GetElement=function(x,
n){n=void 0===n?!0:n;if(!this.element)throw new e(q.NULL_PARAM,this.localName);return fa.GetElement(this.element,x,n)};fa.prototype.GetChildren=function(x,n){if(!this.element)throw new e(q.NULL_PARAM,this.localName);return fa.GetChildren(this.element,x,n||this.NamespaceURI||void 0)};fa.prototype.GetChild=function(x,n){n=void 0===n?!0:n;if(!this.element)throw new e(q.NULL_PARAM,this.localName);return fa.GetChild(this.element,x,this.NamespaceURI||void 0,n)};fa.prototype.GetFirstChild=function(x,n){if(!this.element)throw new e(q.NULL_PARAM,
this.localName);return fa.GetFirstChild(this.element,x,n)};fa.prototype.GetAttribute=function(x,n,w){w=void 0===w?!0:w;if(!this.element)throw new e(q.NULL_PARAM,this.localName);return fa.GetAttribute(this.element,x,n,w)};fa.prototype.IsEmpty=function(){return void 0===this.Element};fa.prototype.OnLoadXml=function(x){};fa.prototype.GetStatic=function(){return this.constructor};fa.prototype.GetPrefix=function(){return this.Prefix?this.prefix+":":""};fa.prototype.OnGetXml=function(x){};fa.prototype.CreateElement=
function(x,n,w,F){w=void 0===w?null:w;F=void 0===F?null:F;x||(x=this.CreateDocument());n=n||this.localName;w=w||this.NamespaceURI;F=F||this.prefix;n=(F?F+":":"")+n;w=w?x.createElementNS(w,n):x.createElement(n);x.importNode(w,!0);return w};fa.prototype.CreateDocument=function(){return fa.CreateDocument(this.localName,this.NamespaceURI,this.Prefix)};$jscomp.global.Object.defineProperties(fa.prototype,{Element:{configurable:!0,enumerable:!0,get:function(){return this.element}},Prefix:{configurable:!0,
enumerable:!0,get:function(){return this.prefix},set:function(x){this.prefix=x}},LocalName:{configurable:!0,enumerable:!0,get:function(){return this.localName}},NamespaceURI:{configurable:!0,enumerable:!0,get:function(){return this.namespaceURI||null}}});var ha=function(){var x=fa.apply(this,arguments)||this;x.MaxOccurs=Number.MAX_VALUE;x.MinOccurs=0;x.items=[];return x};$jscomp.inherits(ha,fa);ha.prototype.HasChanged=function(){var x=fa.prototype.HasChanged.call(this),n=this.Some(function(w){return w.HasChanged()});
return x||n};ha.prototype.Item=function(x){return this.items[x]||null};ha.prototype.Add=function(x){this.items.push(x);this.element=null};ha.prototype.Pop=function(){this.element=null;return this.items.pop()};ha.prototype.RemoveAt=function(x){this.items=this.items.filter(function(n,w){return w!==x});this.element=null};ha.prototype.Clear=function(){this.items=[];this.element=null};ha.prototype.GetIterator=function(){return this.items};ha.prototype.ForEach=function(x){this.GetIterator().forEach(x)};
ha.prototype.Map=function(x){return new k(this.GetIterator().map(x))};ha.prototype.Filter=function(x){return new k(this.GetIterator().filter(x))};ha.prototype.Sort=function(x){return new k(this.GetIterator().sort(x))};ha.prototype.Every=function(x){return this.GetIterator().every(x)};ha.prototype.Some=function(x){return this.GetIterator().some(x)};ha.prototype.IsEmpty=function(){return 0===this.Count};ha.prototype.OnGetXml=function(x){for(var n=$jscomp.makeIterator(this.GetIterator()),w=n.next();!w.done;w=
n.next())(w=w.value.GetXml())&&x.appendChild(w)};ha.prototype.OnLoadXml=function(x){var n=this.GetStatic();if(!n.parser)throw new e(q.XML_EXCEPTION,n.localName+" doesn't have required 'parser' in @XmlElement");for(var w=0;w<x.childNodes.length;w++){var F=x.childNodes.item(w);if(t(F)&&F.localName===n.parser.localName&&F.namespaceURI==n.namespaceURI){var W=new n.parser;W.LoadXml(F);this.Add(W)}}};$jscomp.global.Object.defineProperties(ha.prototype,{Count:{configurable:!0,enumerable:!0,get:function(){return this.items.length}}});
var pa=function(){return k.apply(this,arguments)||this};$jscomp.inherits(pa,k);pa.prototype.Add=function(x){x.prefix=x.prefix||"";x.namespace=x.namespace||"";k.prototype.Add.call(this,x)};pa.prototype.GetPrefix=function(x,n){n=void 0===n?this.Count-1:n;var w=this.Count-1;x=x||"";for(n>w&&(n=w);0<=n;n--)if(w=this.items[n],w.prefix===x)return w;return null};pa.prototype.GetNamespace=function(x,n){n=void 0===n?this.Count-1:n;var w=this.Count-1;x=x||"";for(n>w&&(n=w);0<=n;n--)if(w=this.items[n],w.namespace===
x)return w;return null}}).call(this,E(6).Buffer,E(19))},function(R,H,E){E.d(H,"a",function(){return V});var u=E(0);E.n(u);var K=E(1),V=function(l){l=void 0===l?{}:l;this.algorithmId=Object(K.e)(l,"algorithmId",V.defaultValues("algorithmId"));"algorithmParams"in l&&(this.algorithmParams=Object(K.e)(l,"algorithmParams",V.defaultValues("algorithmParams")));"schema"in l&&this.fromSchema(l.schema)};V.defaultValues=function(l){switch(l){case "algorithmId":return"";case "algorithmParams":return new u.Any;
default:throw Error("Invalid member name for AlgorithmIdentifier class: "+l);}};V.compareWithDefault=function(l,h){switch(l){case "algorithmId":return""===h;case "algorithmParams":return h instanceof u.Any;default:throw Error("Invalid member name for AlgorithmIdentifier class: "+l);}};V.schema=function(l){l=void 0===l?{}:l;l=Object(K.e)(l,"names",{});return new u.Sequence({name:l.blockName||"",optional:l.optional||!1,value:[new u.ObjectIdentifier({name:l.algorithmIdentifier||""}),new u.Any({name:l.algorithmParams||
"",optional:!0})]})};V.prototype.fromSchema=function(l){Object(K.c)(l,["algorithm","params"]);l=u.compareSchema(l,l,V.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===l.verified)throw Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=l.result.algorithm.valueBlock.toString();"params"in l.result&&(this.algorithmParams=l.result.params)};V.prototype.toSchema=function(){var l=[];l.push(new u.ObjectIdentifier({value:this.algorithmId}));
"algorithmParams"in this&&!1===this.algorithmParams instanceof u.Any&&l.push(this.algorithmParams);return new u.Sequence({value:l})};V.prototype.toJSON=function(){var l={algorithmId:this.algorithmId};"algorithmParams"in this&&!1===this.algorithmParams instanceof u.Any&&(l.algorithmParams=this.algorithmParams.toJSON());return l};V.prototype.isEqual=function(l){return!1===l instanceof V||this.algorithmId!==l.algorithmId?!1:"algorithmParams"in this?"algorithmParams"in l?JSON.stringify(this.algorithmParams)===
JSON.stringify(l.algorithmParams):!1:"algorithmParams"in l?!1:!0}},function(R,H,E){(function(u,K){function V(k,e,q){if("undefined"!==typeof u&&"pid"in u&&"undefined"!==typeof K&&"undefined"===typeof window){if("undefined"===typeof K[u.pid])K[u.pid]={};else if("object"!==typeof K[u.pid])throw Error("Name global."+u.pid+" already exists and it is not an object");if("undefined"===typeof K[u.pid].pkijs)K[u.pid].pkijs={};else if("object"!==typeof K[u.pid].pkijs)throw Error("Name global."+u.pid+".pkijs already exists and it is not an object");
K[u.pid].pkijs.engine={name:k,crypto:e,subtle:q}}else S.name!==k&&(S={name:k,crypto:e,subtle:q})}function l(){if("undefined"!==typeof u&&"pid"in u&&"undefined"!==typeof K&&"undefined"===typeof window){try{var k=K[u.pid].pkijs.engine}catch(e){throw Error('Please call "setEngine" before call to "getEngine"');}return k}return S}function h(){var k=l();if(null!==k.subtle)return k.subtle}function r(k){return l().subtle.getRandomValues(k)}function b(k){return l().subtle.getOIDByAlgorithm(k)}function f(k){if(0!==
k.byteLength%2)return new ArrayBuffer(0);var e=k.byteLength/2,q=new ArrayBuffer(e);(new Uint8Array(q)).set(new Uint8Array(k,0,e));q=new v.Integer({valueHex:q});var I=new ArrayBuffer(e);(new Uint8Array(I)).set(new Uint8Array(k,e,e));k=new v.Integer({valueHex:I});return(new v.Sequence({value:[q.convertToDER(),k.convertToDER()]})).toBER(!1)}function p(k){var e=!1,q="";k=k.trim();for(var I=0;I<k.length;I++)32===k.charCodeAt(I)?!1===e&&(e=!0):(e&&(q+=" ",e=!1),q+=k[I]);return q.toLowerCase()}function z(k){if(!1===
k instanceof v.Sequence||2!==k.valueBlock.value.length||!1===k.valueBlock.value[0]instanceof v.Integer||!1===k.valueBlock.value[1]instanceof v.Integer)return new ArrayBuffer(0);var e=k.valueBlock.value[0].convertFromDER();k=k.valueBlock.value[1].convertFromDER();switch(!0){case e.valueBlock.valueHex.byteLength<k.valueBlock.valueHex.byteLength:if(1!==k.valueBlock.valueHex.byteLength-e.valueBlock.valueHex.byteLength)throw Error("Incorrect DER integer decoding");var q=k.valueBlock.valueHex.byteLength;
e=new Uint8Array(e.valueBlock.valueHex);q=new ArrayBuffer(q);var I=new Uint8Array(q);I.set(e,1);I[0]=0;return Object(C.j)(q,k.valueBlock.valueHex);case e.valueBlock.valueHex.byteLength>k.valueBlock.valueHex.byteLength:if(1!==e.valueBlock.valueHex.byteLength-k.valueBlock.valueHex.byteLength)throw Error("Incorrect DER integer decoding");q=e.valueBlock.valueHex.byteLength;k=new Uint8Array(k.valueBlock.valueHex);q=new ArrayBuffer(q);I=new Uint8Array(q);I.set(k,1);I[0]=0;return Object(C.j)(e.valueBlock.valueHex,
q);default:if(e.valueBlock.valueHex.byteLength%2){q=e.valueBlock.valueHex.byteLength+1;I=new Uint8Array(e.valueBlock.valueHex);e=new ArrayBuffer(q);var g=new Uint8Array(e);g.set(I,1);g[0]=0;k=new Uint8Array(k.valueBlock.valueHex);q=new ArrayBuffer(q);I=new Uint8Array(q);I.set(k,1);I[0]=0;return Object(C.j)(e,q)}}return Object(C.j)(e.valueBlock.valueHex,k.valueBlock.valueHex)}function N(k){return l().subtle.getAlgorithmByOID(k)}function B(k,e,q,I){switch(k.toUpperCase()){case "SHA-1":case "SHA-256":case "SHA-384":case "SHA-512":break;
default:return Promise.reject("Unknown hash function: "+k)}if(!1===e instanceof ArrayBuffer)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');if(0===e.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(!1===I instanceof ArrayBuffer)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');if(255<q)return Promise.reject('Please set "Counter" variable to value less or equal to 255');var g=new ArrayBuffer(4),y=new Uint8Array(g);y[0]=0;y[1]=0;y[2]=0;y[3]=q;y=
new ArrayBuffer(0);var J=h();if("undefined"===typeof J)return Promise.reject("Unable to create WebCrypto object");y=Object(C.j)(y,e);y=Object(C.j)(y,g);y=Object(C.j)(y,I);return J.digest({name:k},y).then(function(Q){return{counter:q,result:Q}})}function G(k,e,q,I){var g=0,y=1,J=[];switch(k.toUpperCase()){case "SHA-1":g=160;break;case "SHA-256":g=256;break;case "SHA-384":g=384;break;case "SHA-512":g=512;break;default:return Promise.reject("Unknown hash function: "+k)}if(!1===e instanceof ArrayBuffer)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');
if(0===e.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(!1===I instanceof ArrayBuffer)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');g=q/g;0<Math.floor(g)&&(y=Math.floor(g),0<g-y&&y++);for(g=1;g<=y;g++)J.push(B(k,e,g,I));return Promise.all(J).then(function(Q){for(var aa=new ArrayBuffer(0),Z=1,ca=!0;ca;){ca=!1;for(var fa=$jscomp.makeIterator(Q),ha=fa.next();!ha.done;ha=fa.next())if(ha=ha.value,ha.counter===Z){aa=Object(C.j)(aa,ha.result);ca=!0;break}Z++}q>>=
3;if(aa.byteLength>q){Q=new ArrayBuffer(q);Z=new Uint8Array(Q);aa=new Uint8Array(aa);for(ca=0;ca<q;ca++)Z[ca]=aa[ca];return Q}return aa})}E.d(H,"i",function(){return V});E.d(H,"e",function(){return l});E.d(H,"d",function(){return h});E.d(H,"g",function(){return r});E.d(H,"f",function(){return b});E.d(H,"a",function(){return f});E.d(H,"j",function(){return p});E.d(H,"b",function(){return z});E.d(H,"c",function(){return N});E.d(H,"h",function(){return G});var v=E(0);E.n(v);var C=E(1),t=E(35),S={name:"none",
crypto:null,subtle:null};(function(){if("undefined"!==typeof self&&"crypto"in self){var k="webcrypto",e=self.crypto;if("webkitSubtle"in self.crypto){try{var q=self.crypto.webkitSubtle}catch(I){q=self.crypto.subtle}k="safari"}"subtle"in self.crypto&&(q=self.crypto.subtle);S="undefined"===typeof q?{name:k,crypto:e,subtle:null}:{name:k,crypto:e,subtle:new t.a({name:k,crypto:self.crypto,subtle:q})}}V(S.name,S.crypto,S.subtle)})()}).call(this,E(31),E(19))},function(R,H){R.exports={options:{usePureJavaScript:!1}}},
function(R,H,E){(function(u){function K(){try{var n=new Uint8Array(1);n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===n.foo()&&"function"===typeof n.subarray&&0===n.subarray(1,1).byteLength}catch(w){return!1}}function V(n,w){if((l.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<w)throw new RangeError("Invalid typed array length");l.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(w),n.__proto__=l.prototype):(null===n&&(n=new l(w)),n.length=w);return n}function l(n,w,F){if(!(l.TYPED_ARRAY_SUPPORT||
this instanceof l))return new l(n,w,F);if("number"===typeof n){if("string"===typeof w)throw Error("If encoding is specified then the first argument must be a string");return b(this,n)}return h(this,n,w,F)}function h(n,w,F,W){if("number"===typeof w)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&w instanceof ArrayBuffer){w.byteLength;if(0>F||w.byteLength<F)throw new RangeError("'offset' is out of bounds");if(w.byteLength<F+(W||0))throw new RangeError("'length' is out of bounds");
w=void 0===F&&void 0===W?new Uint8Array(w):void 0===W?new Uint8Array(w,F):new Uint8Array(w,F,W);l.TYPED_ARRAY_SUPPORT?(n=w,n.__proto__=l.prototype):n=f(n,w);return n}if("string"===typeof w){W=n;n=F;if("string"!==typeof n||""===n)n="utf8";if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');F=N(w,n)|0;W=V(W,F);w=W.write(w,n);w!==F&&(W=W.slice(0,w));return W}return p(n,w)}function r(n){if("number"!==typeof n)throw new TypeError('"size" argument must be a number');if(0>
n)throw new RangeError('"size" argument must not be negative');}function b(n,w){r(w);n=V(n,0>w?0:z(w)|0);if(!l.TYPED_ARRAY_SUPPORT)for(var F=0;F<w;++F)n[F]=0;return n}function f(n,w){var F=0>w.length?0:z(w.length)|0;n=V(n,F);for(var W=0;W<F;W+=1)n[W]=w[W]&255;return n}function p(n,w){if(l.isBuffer(w)){var F=z(w.length)|0;n=V(n,F);if(0===n.length)return n;w.copy(n,0,0,F);return n}if(w){if("undefined"!==typeof ArrayBuffer&&w.buffer instanceof ArrayBuffer||"length"in w)return(F="number"!==typeof w.length)||
(F=w.length,F=F!==F),F?V(n,0):f(n,w);if("Buffer"===w.type&&ha(w.data))return f(n,w.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function z(n){if(n>=(l.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(l.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return n|0}function N(n,w){if(l.isBuffer(n))return n.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;"string"!==typeof n&&(n=""+n);var F=n.length;if(0===F)return 0;for(var W=!1;;)switch(w){case "ascii":case "latin1":case "binary":return F;case "utf8":case "utf-8":case void 0:return J(n).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*F;case "hex":return F>>>1;case "base64":return aa(n).length;default:if(W)return J(n).length;w=(""+w).toLowerCase();W=!0}}function B(n,
w,F){var W=!1;if(void 0===w||0>w)w=0;if(w>this.length)return"";if(void 0===F||F>this.length)F=this.length;if(0>=F)return"";F>>>=0;w>>>=0;if(F<=w)return"";for(n||(n="utf8");;)switch(n){case "hex":n=w;w=F;F=this.length;if(!n||0>n)n=0;if(!w||0>w||w>F)w=F;W="";for(F=n;F<w;++F)n=W,W=this[F],W=16>W?"0"+W.toString(16):W.toString(16),W=n+W;return W;case "utf8":case "utf-8":return t(this,w,F);case "ascii":n="";for(F=Math.min(this.length,F);w<F;++w)n+=String.fromCharCode(this[w]&127);return n;case "latin1":case "binary":n=
"";for(F=Math.min(this.length,F);w<F;++w)n+=String.fromCharCode(this[w]);return n;case "base64":return w=0===w&&F===this.length?ca.fromByteArray(this):ca.fromByteArray(this.slice(w,F)),w;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":w=this.slice(w,F);F="";for(n=0;n<w.length;n+=2)F+=String.fromCharCode(w[n]+256*w[n+1]);return F;default:if(W)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase();W=!0}}function G(n,w,F){var W=n[w];n[w]=n[F];n[F]=W}function v(n,w,F,W,P){if(0===n.length)return-1;
"string"===typeof F?(W=F,F=0):2147483647<F?F=2147483647:-2147483648>F&&(F=-2147483648);F=+F;isNaN(F)&&(F=P?0:n.length-1);0>F&&(F=n.length+F);if(F>=n.length){if(P)return-1;F=n.length-1}else if(0>F)if(P)F=0;else return-1;"string"===typeof w&&(w=l.from(w,W));if(l.isBuffer(w))return 0===w.length?-1:C(n,w,F,W,P);if("number"===typeof w)return w&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?P?Uint8Array.prototype.indexOf.call(n,w,F):Uint8Array.prototype.lastIndexOf.call(n,
w,F):C(n,[w],F,W,P);throw new TypeError("val must be string, number or Buffer");}function C(n,w,F,W,P){function O(xa,Ea){return 1===L?xa[Ea]:xa.readUInt16BE(Ea*L)}var L=1,sa=n.length,Aa=w.length;if(void 0!==W&&(W=String(W).toLowerCase(),"ucs2"===W||"ucs-2"===W||"utf16le"===W||"utf-16le"===W)){if(2>n.length||2>w.length)return-1;L=2;sa/=2;Aa/=2;F/=2}if(P)for(W=-1;F<sa;F++)if(O(n,F)===O(w,-1===W?0:F-W)){if(-1===W&&(W=F),F-W+1===Aa)return W*L}else-1!==W&&(F-=F-W),W=-1;else for(F+Aa>sa&&(F=sa-Aa);0<=F;F--){sa=
!0;for(W=0;W<Aa;W++)if(O(n,F+W)!==O(w,W)){sa=!1;break}if(sa)return F}return-1}function t(n,w,F){F=Math.min(n.length,F);for(var W=[];w<F;){var P=n[w],O=null,L=239<P?4:223<P?3:191<P?2:1;if(w+L<=F)switch(L){case 1:128>P&&(O=P);break;case 2:var sa=n[w+1];128===(sa&192)&&(P=(P&31)<<6|sa&63,127<P&&(O=P));break;case 3:sa=n[w+1];var Aa=n[w+2];128===(sa&192)&&128===(Aa&192)&&(P=(P&15)<<12|(sa&63)<<6|Aa&63,2047<P&&(55296>P||57343<P)&&(O=P));break;case 4:sa=n[w+1];Aa=n[w+2];var xa=n[w+3];128===(sa&192)&&128===
(Aa&192)&&128===(xa&192)&&(P=(P&15)<<18|(sa&63)<<12|(Aa&63)<<6|xa&63,65535<P&&1114112>P&&(O=P))}null===O?(O=65533,L=1):65535<O&&(O-=65536,W.push(O>>>10&1023|55296),O=56320|O&1023);W.push(O);w+=L}n=W.length;if(n<=pa)W=String.fromCharCode.apply(String,W);else{F="";for(w=0;w<n;)F+=String.fromCharCode.apply(String,W.slice(w,w+=pa));W=F}return W}function S(n,w,F){if(0!==n%1||0>n)throw new RangeError("offset is not uint");if(n+w>F)throw new RangeError("Trying to access beyond buffer length");}function k(n,
w,F,W,P,O){if(!l.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>P||w<O)throw new RangeError('"value" argument is out of bounds');if(F+W>n.length)throw new RangeError("Index out of range");}function e(n,w,F,W){0>w&&(w=65535+w+1);for(var P=0,O=Math.min(n.length-F,2);P<O;++P)n[F+P]=(w&255<<8*(W?P:1-P))>>>8*(W?P:1-P)}function q(n,w,F,W){0>w&&(w=4294967295+w+1);for(var P=0,O=Math.min(n.length-F,4);P<O;++P)n[F+P]=w>>>8*(W?P:3-P)&255}function I(n,w,F,W,P,O){if(F+W>n.length)throw new RangeError("Index out of range");
if(0>F)throw new RangeError("Index out of range");}function g(n,w,F,W,P){P||I(n,w,F,4,3.4028234663852886E38,-3.4028234663852886E38);fa.write(n,w,F,W,23,4);return F+4}function y(n,w,F,W,P){P||I(n,w,F,8,1.7976931348623157E308,-1.7976931348623157E308);fa.write(n,w,F,W,52,8);return F+8}function J(n,w){w=w||Infinity;for(var F,W=n.length,P=null,O=[],L=0;L<W;++L){F=n.charCodeAt(L);if(55295<F&&57344>F){if(!P){if(56319<F){-1<(w-=3)&&O.push(239,191,189);continue}else if(L+1===W){-1<(w-=3)&&O.push(239,191,189);
continue}P=F;continue}if(56320>F){-1<(w-=3)&&O.push(239,191,189);P=F;continue}F=(P-55296<<10|F-56320)+65536}else P&&-1<(w-=3)&&O.push(239,191,189);P=null;if(128>F){if(0>--w)break;O.push(F)}else if(2048>F){if(0>(w-=2))break;O.push(F>>6|192,F&63|128)}else if(65536>F){if(0>(w-=3))break;O.push(F>>12|224,F>>6&63|128,F&63|128)}else if(1114112>F){if(0>(w-=4))break;O.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw Error("Invalid code point");}return O}function Q(n){for(var w=[],F=0;F<n.length;++F)w.push(n.charCodeAt(F)&
255);return w}function aa(n){var w=ca,F=w.toByteArray;n=(n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")).replace(x,"");if(2>n.length)n="";else for(;0!==n.length%4;)n+="=";return F.call(w,n)}function Z(n,w,F,W){for(var P=0;P<W&&!(P+F>=w.length||P>=n.length);++P)w[P+F]=n[P];return P}var ca=E(64),fa=E(65),ha=E(66);H.Buffer=l;H.SlowBuffer=function(n){+n!=n&&(n=0);return l.alloc(+n)};H.INSPECT_MAX_BYTES=50;l.TYPED_ARRAY_SUPPORT=void 0!==u.TYPED_ARRAY_SUPPORT?u.TYPED_ARRAY_SUPPORT:K();H.kMaxLength=l.TYPED_ARRAY_SUPPORT?
2147483647:1073741823;l.poolSize=8192;l._augment=function(n){n.__proto__=l.prototype;return n};l.from=function(n,w,F){return h(null,n,w,F)};l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0}));l.alloc=function(n,w,F){r(n);n=0>=n?V(null,n):void 0!==w?"string"===typeof F?V(null,n).fill(w,F):V(null,n).fill(w):V(null,n);return n};
l.allocUnsafe=function(n){return b(null,n)};l.allocUnsafeSlow=function(n){return b(null,n)};l.isBuffer=function(n){return!(null==n||!n._isBuffer)};l.compare=function(n,w){if(!l.isBuffer(n)||!l.isBuffer(w))throw new TypeError("Arguments must be Buffers");if(n===w)return 0;for(var F=n.length,W=w.length,P=0,O=Math.min(F,W);P<O;++P)if(n[P]!==w[P]){F=n[P];W=w[P];break}return F<W?-1:W<F?1:0};l.isEncoding=function(n){switch(String(n).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};l.concat=function(n,w){if(!ha(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return l.alloc(0);var F;if(void 0===w)for(F=w=0;F<n.length;++F)w+=n[F].length;w=l.allocUnsafe(w);var W=0;for(F=0;F<n.length;++F){var P=n[F];if(!l.isBuffer(P))throw new TypeError('"list" argument must be an Array of Buffers');P.copy(w,W);W+=P.length}return w};l.byteLength=N;l.prototype._isBuffer=!0;l.prototype.swap16=function(){var n=this.length;if(0!==n%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var w=0;w<n;w+=2)G(this,w,w+1);return this};l.prototype.swap32=function(){var n=this.length;if(0!==n%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<n;w+=4)G(this,w,w+3),G(this,w+1,w+2);return this};l.prototype.swap64=function(){var n=this.length;if(0!==n%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<n;w+=8)G(this,w,w+7),G(this,w+1,w+6),G(this,w+2,w+5),G(this,w+3,w+4);return this};l.prototype.toString=function(){var n=this.length|
0;return 0===n?"":0===arguments.length?t(this,0,n):B.apply(this,arguments)};l.prototype.equals=function(n){if(!l.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:0===l.compare(this,n)};l.prototype.inspect=function(){var n="",w=H.INSPECT_MAX_BYTES;0<this.length&&(n=this.toString("hex",0,w).match(/.{2}/g).join(" "),this.length>w&&(n+=" ... "));return"<Buffer "+n+">"};l.prototype.compare=function(n,w,F,W,P){if(!l.isBuffer(n))throw new TypeError("Argument must be a Buffer");
void 0===w&&(w=0);void 0===F&&(F=n?n.length:0);void 0===W&&(W=0);void 0===P&&(P=this.length);if(0>w||F>n.length||0>W||P>this.length)throw new RangeError("out of range index");if(W>=P&&w>=F)return 0;if(W>=P)return-1;if(w>=F)return 1;w>>>=0;F>>>=0;W>>>=0;P>>>=0;if(this===n)return 0;var O=P-W,L=F-w,sa=Math.min(O,L);W=this.slice(W,P);n=n.slice(w,F);for(w=0;w<sa;++w)if(W[w]!==n[w]){O=W[w];L=n[w];break}return O<L?-1:L<O?1:0};l.prototype.includes=function(n,w,F){return-1!==this.indexOf(n,w,F)};l.prototype.indexOf=
function(n,w,F){return v(this,n,w,F,!0)};l.prototype.lastIndexOf=function(n,w,F){return v(this,n,w,F,!1)};l.prototype.write=function(n,w,F,W){if(void 0===w)W="utf8",F=this.length,w=0;else if(void 0===F&&"string"===typeof w)W=w,F=this.length,w=0;else if(isFinite(w))w|=0,isFinite(F)?(F|=0,void 0===W&&(W="utf8")):(W=F,F=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var P=this.length-w;if(void 0===F||F>P)F=P;if(0<n.length&&(0>F||0>w)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");
W||(W="utf8");for(P=!1;;)switch(W){case "hex":a:{w=Number(w)||0;W=this.length-w;F?(F=Number(F),F>W&&(F=W)):F=W;W=n.length;if(0!==W%2)throw new TypeError("Invalid hex string");F>W/2&&(F=W/2);for(W=0;W<F;++W){P=parseInt(n.substr(2*W,2),16);if(isNaN(P)){n=W;break a}this[w+W]=P}n=W}return n;case "utf8":case "utf-8":return Z(J(n,this.length-w),this,w,F);case "ascii":return Z(Q(n),this,w,F);case "latin1":case "binary":return Z(Q(n),this,w,F);case "base64":return Z(aa(n),this,w,F);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":W=
n;P=this.length-w;for(var O=[],L=0;L<W.length&&!(0>(P-=2));++L){var sa=W.charCodeAt(L);n=sa>>8;sa%=256;O.push(sa);O.push(n)}return Z(O,this,w,F);default:if(P)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase();P=!0}};l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var pa=4096;l.prototype.slice=function(n,w){var F=this.length;n=~~n;w=void 0===w?F:~~w;0>n?(n+=F,0>n&&(n=0)):n>F&&(n=F);0>w?(w+=F,0>w&&(w=0)):w>F&&(w=F);w<n&&(w=n);if(l.TYPED_ARRAY_SUPPORT)w=
this.subarray(n,w),w.__proto__=l.prototype;else{F=w-n;w=new l(F,void 0);for(var W=0;W<F;++W)w[W]=this[W+n]}return w};l.prototype.readUIntLE=function(n,w,F){n|=0;w|=0;F||S(n,w,this.length);F=this[n];for(var W=1,P=0;++P<w&&(W*=256);)F+=this[n+P]*W;return F};l.prototype.readUIntBE=function(n,w,F){n|=0;w|=0;F||S(n,w,this.length);F=this[n+--w];for(var W=1;0<w&&(W*=256);)F+=this[n+--w]*W;return F};l.prototype.readUInt8=function(n,w){w||S(n,1,this.length);return this[n]};l.prototype.readUInt16LE=function(n,
w){w||S(n,2,this.length);return this[n]|this[n+1]<<8};l.prototype.readUInt16BE=function(n,w){w||S(n,2,this.length);return this[n]<<8|this[n+1]};l.prototype.readUInt32LE=function(n,w){w||S(n,4,this.length);return(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]};l.prototype.readUInt32BE=function(n,w){w||S(n,4,this.length);return 16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])};l.prototype.readIntLE=function(n,w,F){n|=0;w|=0;F||S(n,w,this.length);F=this[n];for(var W=1,P=0;++P<w&&(W*=256);)F+=
this[n+P]*W;F>=128*W&&(F-=Math.pow(2,8*w));return F};l.prototype.readIntBE=function(n,w,F){n|=0;w|=0;F||S(n,w,this.length);F=w;for(var W=1,P=this[n+--F];0<F&&(W*=256);)P+=this[n+--F]*W;P>=128*W&&(P-=Math.pow(2,8*w));return P};l.prototype.readInt8=function(n,w){w||S(n,1,this.length);return this[n]&128?-1*(255-this[n]+1):this[n]};l.prototype.readInt16LE=function(n,w){w||S(n,2,this.length);n=this[n]|this[n+1]<<8;return n&32768?n|4294901760:n};l.prototype.readInt16BE=function(n,w){w||S(n,2,this.length);
n=this[n+1]|this[n]<<8;return n&32768?n|4294901760:n};l.prototype.readInt32LE=function(n,w){w||S(n,4,this.length);return this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};l.prototype.readInt32BE=function(n,w){w||S(n,4,this.length);return this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};l.prototype.readFloatLE=function(n,w){w||S(n,4,this.length);return fa.read(this,n,!0,23,4)};l.prototype.readFloatBE=function(n,w){w||S(n,4,this.length);return fa.read(this,n,!1,23,4)};l.prototype.readDoubleLE=function(n,
w){w||S(n,8,this.length);return fa.read(this,n,!0,52,8)};l.prototype.readDoubleBE=function(n,w){w||S(n,8,this.length);return fa.read(this,n,!1,52,8)};l.prototype.writeUIntLE=function(n,w,F,W){n=+n;w|=0;F|=0;W||k(this,n,w,F,Math.pow(2,8*F)-1,0);W=1;var P=0;for(this[w]=n&255;++P<F&&(W*=256);)this[w+P]=n/W&255;return w+F};l.prototype.writeUIntBE=function(n,w,F,W){n=+n;w|=0;F|=0;W||k(this,n,w,F,Math.pow(2,8*F)-1,0);W=F-1;var P=1;for(this[w+W]=n&255;0<=--W&&(P*=256);)this[w+W]=n/P&255;return w+F};l.prototype.writeUInt8=
function(n,w,F){n=+n;w|=0;F||k(this,n,w,1,255,0);l.TYPED_ARRAY_SUPPORT||(n=Math.floor(n));this[w]=n&255;return w+1};l.prototype.writeUInt16LE=function(n,w,F){n=+n;w|=0;F||k(this,n,w,2,65535,0);l.TYPED_ARRAY_SUPPORT?(this[w]=n&255,this[w+1]=n>>>8):e(this,n,w,!0);return w+2};l.prototype.writeUInt16BE=function(n,w,F){n=+n;w|=0;F||k(this,n,w,2,65535,0);l.TYPED_ARRAY_SUPPORT?(this[w]=n>>>8,this[w+1]=n&255):e(this,n,w,!1);return w+2};l.prototype.writeUInt32LE=function(n,w,F){n=+n;w|=0;F||k(this,n,w,4,4294967295,
0);l.TYPED_ARRAY_SUPPORT?(this[w+3]=n>>>24,this[w+2]=n>>>16,this[w+1]=n>>>8,this[w]=n&255):q(this,n,w,!0);return w+4};l.prototype.writeUInt32BE=function(n,w,F){n=+n;w|=0;F||k(this,n,w,4,4294967295,0);l.TYPED_ARRAY_SUPPORT?(this[w]=n>>>24,this[w+1]=n>>>16,this[w+2]=n>>>8,this[w+3]=n&255):q(this,n,w,!1);return w+4};l.prototype.writeIntLE=function(n,w,F,W){n=+n;w|=0;W||(W=Math.pow(2,8*F-1),k(this,n,w,F,W-1,-W));W=0;var P=1,O=0;for(this[w]=n&255;++W<F&&(P*=256);)0>n&&0===O&&0!==this[w+W-1]&&(O=1),this[w+
W]=(n/P>>0)-O&255;return w+F};l.prototype.writeIntBE=function(n,w,F,W){n=+n;w|=0;W||(W=Math.pow(2,8*F-1),k(this,n,w,F,W-1,-W));W=F-1;var P=1,O=0;for(this[w+W]=n&255;0<=--W&&(P*=256);)0>n&&0===O&&0!==this[w+W+1]&&(O=1),this[w+W]=(n/P>>0)-O&255;return w+F};l.prototype.writeInt8=function(n,w,F){n=+n;w|=0;F||k(this,n,w,1,127,-128);l.TYPED_ARRAY_SUPPORT||(n=Math.floor(n));0>n&&(n=255+n+1);this[w]=n&255;return w+1};l.prototype.writeInt16LE=function(n,w,F){n=+n;w|=0;F||k(this,n,w,2,32767,-32768);l.TYPED_ARRAY_SUPPORT?
(this[w]=n&255,this[w+1]=n>>>8):e(this,n,w,!0);return w+2};l.prototype.writeInt16BE=function(n,w,F){n=+n;w|=0;F||k(this,n,w,2,32767,-32768);l.TYPED_ARRAY_SUPPORT?(this[w]=n>>>8,this[w+1]=n&255):e(this,n,w,!1);return w+2};l.prototype.writeInt32LE=function(n,w,F){n=+n;w|=0;F||k(this,n,w,4,2147483647,-2147483648);l.TYPED_ARRAY_SUPPORT?(this[w]=n&255,this[w+1]=n>>>8,this[w+2]=n>>>16,this[w+3]=n>>>24):q(this,n,w,!0);return w+4};l.prototype.writeInt32BE=function(n,w,F){n=+n;w|=0;F||k(this,n,w,4,2147483647,
-2147483648);0>n&&(n=4294967295+n+1);l.TYPED_ARRAY_SUPPORT?(this[w]=n>>>24,this[w+1]=n>>>16,this[w+2]=n>>>8,this[w+3]=n&255):q(this,n,w,!1);return w+4};l.prototype.writeFloatLE=function(n,w,F){return g(this,n,w,!0,F)};l.prototype.writeFloatBE=function(n,w,F){return g(this,n,w,!1,F)};l.prototype.writeDoubleLE=function(n,w,F){return y(this,n,w,!0,F)};l.prototype.writeDoubleBE=function(n,w,F){return y(this,n,w,!1,F)};l.prototype.copy=function(n,w,F,W){F||(F=0);W||0===W||(W=this.length);w>=n.length&&
(w=n.length);w||(w=0);0<W&&W<F&&(W=F);if(W===F||0===n.length||0===this.length)return 0;if(0>w)throw new RangeError("targetStart out of bounds");if(0>F||F>=this.length)throw new RangeError("sourceStart out of bounds");if(0>W)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length);n.length-w<W-F&&(W=n.length-w+F);var P=W-F;if(this===n&&F<w&&w<W)for(W=P-1;0<=W;--W)n[W+w]=this[W+F];else if(1E3>P||!l.TYPED_ARRAY_SUPPORT)for(W=0;W<P;++W)n[W+w]=this[W+F];else Uint8Array.prototype.set.call(n,
this.subarray(F,F+P),w);return P};l.prototype.fill=function(n,w,F,W){if("string"===typeof n){"string"===typeof w?(W=w,w=0,F=this.length):"string"===typeof F&&(W=F,F=this.length);if(1===n.length){var P=n.charCodeAt(0);256>P&&(n=P)}if(void 0!==W&&"string"!==typeof W)throw new TypeError("encoding must be a string");if("string"===typeof W&&!l.isEncoding(W))throw new TypeError("Unknown encoding: "+W);}else"number"===typeof n&&(n&=255);if(0>w||this.length<w||this.length<F)throw new RangeError("Out of range index");
if(F<=w)return this;w>>>=0;F=void 0===F?this.length:F>>>0;n||(n=0);if("number"===typeof n)for(W=w;W<F;++W)this[W]=n;else for(n=l.isBuffer(n)?n:J((new l(n,W)).toString()),P=n.length,W=0;W<F-w;++W)this[W+w]=n[W%P];return this};var x=/[^+\/0-9A-Za-z-_]/g}).call(this,E(19))},function(R,H,E){(function(u,K,V,l){function h(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw Error("Only 8, 16, 24, or 32 bits supported: "+e);}function r(e){this.data="";this.read=0;if("string"===typeof e)this.data=e;else if(p.isArrayBuffer(e)||
p.isArrayBufferView(e))if("undefined"!==typeof l&&e instanceof l)this.data=e.toString("binary");else{e=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,e)}catch(I){for(var q=0;q<e.length;++q)this.putByte(e[q])}}else if(e instanceof r||"object"===typeof e&&"string"===typeof e.data&&"number"===typeof e.read)this.data=e.data,this.read=e.read;this._constructedStringLength=0}var b=E(5),f=E(74),p=R.exports=b.util=b.util||{};(function(){if("undefined"!==typeof u&&u.nextTick&&!u.browser)p.nextTick=
u.nextTick,p.setImmediate="function"===typeof K?K:p.nextTick;else if("function"===typeof K)p.setImmediate=function(){return K.apply(void 0,arguments)},p.nextTick=function(J){return K(J)};else{p.setImmediate=function(J){setTimeout(J,0)};if("undefined"!==typeof window&&"function"===typeof window.postMessage){var e=[];p.setImmediate=function(J){e.push(J);1===e.length&&window.postMessage("forge.setImmediate","*")};window.addEventListener("message",function(J){J.source===window&&"forge.setImmediate"===
J.data&&(J.stopPropagation(),J=e.slice(),e.length=0,J.forEach(function(Q){Q()}))},!0)}if("undefined"!==typeof MutationObserver){var q=Date.now(),I=!0,g=document.createElement("div");e=[];(new MutationObserver(function(){var J=e.slice();e.length=0;J.forEach(function(Q){Q()})})).observe(g,{attributes:!0});var y=p.setImmediate;p.setImmediate=function(J){15<Date.now()-q?(q=Date.now(),y(J)):(e.push(J),1===e.length&&g.setAttribute("a",I=!I))}}p.nextTick=p.setImmediate}})();p.isNodejs="undefined"!==typeof u&&
u.versions&&u.versions.node;V=p.isNodejs?V:"undefined"===typeof self?window:self;p.globalScope=V;p.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};p.isArrayBuffer=function(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer};p.isArrayBufferView=function(e){return e&&p.isArrayBuffer(e.buffer)&&void 0!==e.byteLength};p.ByteBuffer=r;p.ByteStringBuffer=r;p.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=
e;4096<this._constructedStringLength&&(this.data.substr(0,1),this._constructedStringLength=0)};p.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};p.ByteStringBuffer.prototype.isEmpty=function(){return 0>=this.length()};p.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};p.ByteStringBuffer.prototype.fillWithByte=function(e,q){e=String.fromCharCode(e);for(var I=this.data;0<q;)q&1&&(I+=e),q>>>=1,0<q&&(e+=e);this.data=I;this._optimizeConstructedString(q);
return this};p.ByteStringBuffer.prototype.putBytes=function(e){this.data+=e;this._optimizeConstructedString(e.length);return this};p.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(p.encodeUtf8(e))};p.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};p.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&
255))};p.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};p.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};p.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};p.ByteStringBuffer.prototype.putInt32Le=
function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};p.ByteStringBuffer.prototype.putInt=function(e,q){h(q);var I="";do q-=8,I+=String.fromCharCode(e>>q&255);while(0<q);return this.putBytes(I)};p.ByteStringBuffer.prototype.putSignedInt=function(e,q){0>e&&(e+=2<<q-1);return this.putInt(e,q)};p.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};p.ByteStringBuffer.prototype.getByte=
function(){return this.data.charCodeAt(this.read++)};p.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return e};p.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return e};p.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+
1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return e};p.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return e};p.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return e};p.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^
this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return e};p.ByteStringBuffer.prototype.getInt=function(e){h(e);var q=0;do q=(q<<8)+this.data.charCodeAt(this.read++),e-=8;while(0<e);return q};p.ByteStringBuffer.prototype.getSignedInt=function(e){var q=this.getInt(e);e=2<<e-2;q>=e&&(q-=e<<1);return q};p.ByteStringBuffer.prototype.getBytes=function(e){if(e){e=Math.min(this.length(),e);var q=this.data.slice(this.read,this.read+
e);this.read+=e}else 0===e?q="":(q=0===this.read?this.data:this.data.slice(this.read),this.clear());return q};p.ByteStringBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};p.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};p.ByteStringBuffer.prototype.setAt=function(e,q){this.data=this.data.substr(0,this.read+e)+String.fromCharCode(q)+this.data.substr(this.read+e+1);return this};p.ByteStringBuffer.prototype.last=
function(){return this.data.charCodeAt(this.data.length-1)};p.ByteStringBuffer.prototype.copy=function(){var e=p.createBuffer(this.data);e.read=this.read;return e};p.ByteStringBuffer.prototype.compact=function(){0<this.read&&(this.data=this.data.slice(this.read),this.read=0);return this};p.ByteStringBuffer.prototype.clear=function(){this.data="";this.read=0;return this};p.ByteStringBuffer.prototype.truncate=function(e){e=Math.max(0,this.length()-e);this.data=this.data.substr(this.read,e);this.read=
0;return this};p.ByteStringBuffer.prototype.toHex=function(){for(var e="",q=this.read;q<this.data.length;++q){var I=this.data.charCodeAt(q);16>I&&(e+="0");e+=I.toString(16)}return e};p.ByteStringBuffer.prototype.toString=function(){return p.decodeUtf8(this.bytes())};p.DataBuffer=function(e,q){q=q||{};this.read=q.readOffset||0;this.growSize=q.growSize||1024;var I=p.isArrayBuffer(e),g=p.isArrayBufferView(e);I||g?(this.data=I?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),this.write=
"writeOffset"in q?q.writeOffset:this.data.byteLength):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in q&&(this.write=q.writeOffset))};p.DataBuffer.prototype.length=function(){return this.write-this.read};p.DataBuffer.prototype.isEmpty=function(){return 0>=this.length()};p.DataBuffer.prototype.accommodate=function(e,q){if(this.length()>=e)return this;q=Math.max(q||this.growSize,e);e=new Uint8Array(this.data.buffer,this.data.byteOffset,
this.data.byteLength);q=new Uint8Array(this.length()+q);q.set(e);this.data=new DataView(q.buffer);return this};p.DataBuffer.prototype.putByte=function(e){this.accommodate(1);this.data.setUint8(this.write++,e);return this};p.DataBuffer.prototype.fillWithByte=function(e,q){this.accommodate(q);for(var I=0;I<q;++I)this.data.setUint8(e);return this};p.DataBuffer.prototype.putBytes=function(e,q){if(p.isArrayBufferView(e)){q=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e=q.byteLength-q.byteOffset;
this.accommodate(e);var I=new Uint8Array(this.data.buffer,this.write);I.set(q);this.write+=e;return this}if(p.isArrayBuffer(e))return q=new Uint8Array(e),this.accommodate(q.byteLength),I=new Uint8Array(this.data.buffer),I.set(q,this.write),this.write+=q.byteLength,this;if(e instanceof p.DataBuffer||"object"===typeof e&&"number"===typeof e.read&&"number"===typeof e.write&&p.isArrayBufferView(e.data))return q=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(q.byteLength),I=new Uint8Array(e.data.byteLength,
this.write),I.set(q),this.write+=q.byteLength,this;e instanceof p.ByteStringBuffer&&(e=e.data,q="binary");q=q||"binary";if("string"===typeof e){if("hex"===q)return this.accommodate(Math.ceil(e.length/2)),q=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.hex.decode(e,q,this.write),this;if("base64"===q)return this.accommodate(3*Math.ceil(e.length/4)),q=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.base64.decode(e,q,this.write),this;"utf8"===q&&(e=p.encodeUtf8(e),
q="binary");if("binary"===q||"raw"===q)return this.accommodate(e.length),q=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.raw.decode(q),this;if("utf16"===q)return this.accommodate(2*e.length),q=new Uint16Array(this.data.buffer,this.write),this.write+=p.text.utf16.encode(q),this;throw Error("Invalid encoding: "+q);}throw Error("Invalid parameter: "+e);};p.DataBuffer.prototype.putBuffer=function(e){this.putBytes(e);e.clear();return this};p.DataBuffer.prototype.putString=function(e){return this.putBytes(e,
"utf16")};p.DataBuffer.prototype.putInt16=function(e){this.accommodate(2);this.data.setInt16(this.write,e);this.write+=2;return this};p.DataBuffer.prototype.putInt24=function(e){this.accommodate(3);this.data.setInt16(this.write,e>>8&65535);this.data.setInt8(this.write,e>>16&255);this.write+=3;return this};p.DataBuffer.prototype.putInt32=function(e){this.accommodate(4);this.data.setInt32(this.write,e);this.write+=4;return this};p.DataBuffer.prototype.putInt16Le=function(e){this.accommodate(2);this.data.setInt16(this.write,
e,!0);this.write+=2;return this};p.DataBuffer.prototype.putInt24Le=function(e){this.accommodate(3);this.data.setInt8(this.write,e>>16&255);this.data.setInt16(this.write,e>>8&65535,!0);this.write+=3;return this};p.DataBuffer.prototype.putInt32Le=function(e){this.accommodate(4);this.data.setInt32(this.write,e,!0);this.write+=4;return this};p.DataBuffer.prototype.putInt=function(e,q){h(q);this.accommodate(q/8);do q-=8,this.data.setInt8(this.write++,e>>q&255);while(0<q);return this};p.DataBuffer.prototype.putSignedInt=
function(e,q){h(q);this.accommodate(q/8);0>e&&(e+=2<<q-1);return this.putInt(e,q)};p.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};p.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);this.read+=2;return e};p.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);this.read+=3;return e};p.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);this.read+=4;return e};
p.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);this.read+=2;return e};p.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;this.read+=3;return e};p.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);this.read+=4;return e};p.DataBuffer.prototype.getInt=function(e){h(e);var q=0;do q=(q<<8)+this.data.getInt8(this.read++),e-=8;while(0<e);return q};p.DataBuffer.prototype.getSignedInt=
function(e){var q=this.getInt(e);e=2<<e-2;q>=e&&(q-=e<<1);return q};p.DataBuffer.prototype.getBytes=function(e){if(e){e=Math.min(this.length(),e);var q=this.data.slice(this.read,this.read+e);this.read+=e}else 0===e?q="":(q=0===this.read?this.data:this.data.slice(this.read),this.clear());return q};p.DataBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};p.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+
e)};p.DataBuffer.prototype.setAt=function(e,q){this.data.setUint8(e,q);return this};p.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};p.DataBuffer.prototype.copy=function(){return new p.DataBuffer(this)};p.DataBuffer.prototype.compact=function(){if(0<this.read){var e=new Uint8Array(this.data.buffer,this.read),q=new Uint8Array(e.byteLength);q.set(e);this.data=new DataView(q);this.write-=this.read;this.read=0}return this};p.DataBuffer.prototype.clear=function(){this.data=
new DataView(new ArrayBuffer(0));this.read=this.write=0;return this};p.DataBuffer.prototype.truncate=function(e){this.write=Math.max(0,this.length()-e);this.read=Math.min(this.read,this.write);return this};p.DataBuffer.prototype.toHex=function(){for(var e="",q=this.read;q<this.data.byteLength;++q){var I=this.data.getUint8(q);16>I&&(e+="0");e+=I.toString(16)}return e};p.DataBuffer.prototype.toString=function(e){var q=new Uint8Array(this.data,this.read,this.length());e=e||"utf8";if("binary"===e||"raw"===
e)return p.binary.raw.encode(q);if("hex"===e)return p.binary.hex.encode(q);if("base64"===e)return p.binary.base64.encode(q);if("utf8"===e)return p.text.utf8.decode(q);if("utf16"===e)return p.text.utf16.decode(q);throw Error("Invalid encoding: "+e);};p.createBuffer=function(e,q){void 0!==e&&"utf8"===(q||"raw")&&(e=p.encodeUtf8(e));return new p.ByteBuffer(e)};p.fillString=function(e,q){for(var I="";0<q;)q&1&&(I+=e),q>>>=1,0<q&&(e+=e);return I};p.xorBytes=function(e,q,I){for(var g="",y,J="",Q=0,aa=0;0<
I;--I,++Q)y=e.charCodeAt(Q)^q.charCodeAt(Q),10<=aa&&(g+=J,J="",aa=0),J+=String.fromCharCode(y),++aa;return g+J};p.hexToBytes=function(e){var q="",I=0;e.length&1&&(I=1,q+=String.fromCharCode(parseInt(e[0],16)));for(;I<e.length;I+=2)q+=String.fromCharCode(parseInt(e.substr(I,2),16));return q};p.bytesToHex=function(e){return p.createBuffer(e).toHex()};p.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};
var z=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];p.encode64=function(e,q){for(var I="",g="",y,J,Q,aa=0;aa<e.length;)y=e.charCodeAt(aa++),J=e.charCodeAt(aa++),Q=e.charCodeAt(aa++),I+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(y>>2),I+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((y&
3)<<4|J>>4),isNaN(J)?I+="==":(I+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((J&15)<<2|Q>>6),I+=isNaN(Q)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Q&63)),q&&I.length>q&&(g+=I.substr(0,q)+"\r\n",I=I.substr(q));return g+I};p.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");for(var q="",I,g,y,J,Q=0;Q<e.length;)I=z[e.charCodeAt(Q++)-43],g=z[e.charCodeAt(Q++)-43],y=z[e.charCodeAt(Q++)-43],J=z[e.charCodeAt(Q++)-43],q+=String.fromCharCode(I<<
2|g>>4),64!==y&&(q+=String.fromCharCode((g&15)<<4|y>>2),64!==J&&(q+=String.fromCharCode((y&3)<<6|J)));return q};p.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};p.decodeUtf8=function(e){return decodeURIComponent(escape(e))};p.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:f.encode,decode:f.decode}};p.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};p.binary.raw.decode=function(e,q,I){var g=q;g||(g=new Uint8Array(e.length));for(var y=I=I||0,J=0;J<e.length;++J)g[y++]=
e.charCodeAt(J);return q?y-I:g};p.binary.hex.encode=p.bytesToHex;p.binary.hex.decode=function(e,q,I){var g=q;g||(g=new Uint8Array(Math.ceil(e.length/2)));I=I||0;var y=0,J=I;e.length&1&&(y=1,g[J++]=parseInt(e[0],16));for(;y<e.length;y+=2)g[J++]=parseInt(e.substr(y,2),16);return q?J-I:g};p.binary.base64.encode=function(e,q){for(var I="",g="",y,J,Q,aa=0;aa<e.byteLength;)y=e[aa++],J=e[aa++],Q=e[aa++],I+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(y>>2),I+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((y&
3)<<4|J>>4),isNaN(J)?I+="==":(I+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((J&15)<<2|Q>>6),I+=isNaN(Q)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Q&63)),q&&I.length>q&&(g+=I.substr(0,q)+"\r\n",I=I.substr(q));return g+I};p.binary.base64.decode=function(e,q,I){var g=q;g||(g=new Uint8Array(3*Math.ceil(e.length/4)));e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");I=I||0;for(var y,J,Q,aa,Z=0,ca=I;Z<e.length;)y=z[e.charCodeAt(Z++)-43],J=z[e.charCodeAt(Z++)-
43],Q=z[e.charCodeAt(Z++)-43],aa=z[e.charCodeAt(Z++)-43],g[ca++]=y<<2|J>>4,64!==Q&&(g[ca++]=(J&15)<<4|Q>>2,64!==aa&&(g[ca++]=(Q&3)<<6|aa));return q?ca-I:g.subarray(0,ca)};p.binary.base58.encode=function(e,q){return p.binary.baseN.encode(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",q)};p.binary.base58.decode=function(e,q){return p.binary.baseN.decode(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",q)};p.text={utf8:{},utf16:{}};p.text.utf8.encode=function(e,q,I){e=p.encodeUtf8(e);
var g=q;g||(g=new Uint8Array(e.length));for(var y=I=I||0,J=0;J<e.length;++J)g[y++]=e.charCodeAt(J);return q?y-I:g};p.text.utf8.decode=function(e){return p.decodeUtf8(String.fromCharCode.apply(null,e))};p.text.utf16.encode=function(e,q,I){var g=q;g||(g=new Uint8Array(2*e.length));for(var y=new Uint16Array(g.buffer),J=I=I||0,Q=I,aa=0;aa<e.length;++aa)y[Q++]=e.charCodeAt(aa),J+=2;return q?J-I:g};p.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};p.deflate=
function(e,q,I){q=p.decode64(e.deflate(p.encode64(q)).rval);I&&(e=2,q.charCodeAt(1)&32&&(e=6),q=q.substring(e,q.length-4));return q};p.inflate=function(e,q,I){e=e.inflate(p.encode64(q)).rval;return null===e?null:p.decode64(e)};var N=function(e,q,I){if(!e)throw Error("WebStorage not available.");null===I?e=e.removeItem(q):(I=p.encode64(JSON.stringify(I)),e=e.setItem(q,I));if("undefined"!==typeof e&&!0!==e.rval)throw q=Error(e.error.message),q.id=e.error.id,q.name=e.error.name,q;},B=function(e,q){if(!e)throw Error("WebStorage not available.");
q=e.getItem(q);if(e.init)if(null===q.rval){if(q.error)throw e=Error(q.error.message),e.id=q.error.id,e.name=q.error.name,e;q=null}else q=q.rval;null!==q&&(q=JSON.parse(p.decode64(q)));return q},G=function(e,q,I,g){var y=B(e,q);null===y&&(y={});y[I]=g;N(e,q,y)},v=function(e,q,I){e=B(e,q);null!==e&&(e=I in e?e[I]:null);return e},C=function(e,q,I){var g=B(e,q);if(null!==g&&I in g){delete g[I];I=!0;for(var y in g){I=!1;break}I&&(g=null);N(e,q,g)}},t=function(e,q){N(e,q,null)},S=function(e,q,I){var g=
null;"undefined"===typeof I&&(I=["web","flash"]);var y=!1,J=null,Q;for(Q in I){var aa=I[Q];try{if("flash"===aa||"both"===aa){if(null===q[0])throw Error("Flash local storage not available.");g=e.apply(this,q);y="flash"===aa}if("web"===aa||"both"===aa)q[0]=localStorage,g=e.apply(this,q),y=!0}catch(Z){J=Z}if(y)break}if(!y)throw J;return g};p.setItem=function(e,q,I,g,y){S(G,arguments,y)};p.getItem=function(e,q,I,g){return S(v,arguments,g)};p.removeItem=function(e,q,I,g){S(C,arguments,g)};p.clearItems=
function(e,q,I){S(t,arguments,I)};p.parseUrl=function(e){var q=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;q.lastIndex=0;q=q.exec(e);if(e=null===q?null:{full:e,scheme:q[1],host:q[2],port:q[3],path:q[4]})e.fullHost=e.host,e.port?80!==e.port&&"http"===e.scheme?e.fullHost+=":"+e.port:443!==e.port&&"https"===e.scheme&&(e.fullHost+=":"+e.port):"http"===e.scheme?e.port=80:"https"===e.scheme&&(e.port=443),e.full=e.scheme+"://"+e.fullHost;return e};var k=null;p.getQueryVariables=function(e){var q=function(I){var g=
{};I=I.split("&");for(var y=0;y<I.length;y++){var J=I[y].indexOf("=");if(0<J){var Q=I[y].substring(0,J);J=I[y].substring(J+1)}else Q=I[y],J=null;Q in g||(g[Q]=[]);Q in Object.prototype||null===J||g[Q].push(unescape(J))}return g};"undefined"===typeof e?(null===k&&(k="undefined"!==typeof window&&window.location&&window.location.search?q(window.location.search.substring(1)):{}),e=k):e=q(e);return e};p.parseFragment=function(e){var q=e,I="",g=e.indexOf("?");0<g&&(q=e.substring(0,g),I=e.substring(g+1));
e=q.split("/");0<e.length&&""===e[0]&&e.shift();g=""===I?{}:p.getQueryVariables(I);return{pathString:q,queryString:I,path:e,query:g}};p.makeRequest=function(e){var q=p.parseFragment(e),I={path:q.pathString,query:q.queryString,getPath:function(g){return"undefined"===typeof g?q.path:q.path[g]},getQuery:function(g,y){"undefined"===typeof g?g=q.query:(g=q.query[g])&&"undefined"!==typeof y&&(g=g[y]);return g},getQueryLast:function(g,y){return(g=I.getQuery(g))?g[g.length-1]:y}};return I};p.makeLink=function(e,
q,I){e=jQuery.isArray(e)?e.join("/"):e;q=jQuery.param(q||{});I=I||"";return e+(0<q.length?"?"+q:"")+(0<I.length?"#"+I:"")};p.isEmpty=function(e){for(var q in e)if(e.hasOwnProperty(q))return!1;return!0};p.format=function(e){var q=/%./g,I,g,y=0,J=[];for(g=0;I=q.exec(e);)switch(g=e.substring(g,q.lastIndex-2),0<g.length&&J.push(g),g=q.lastIndex,I=I[0][1],I){case "s":case "o":y<arguments.length?J.push(arguments[y++ +1]):J.push("<?>");break;case "%":J.push("%");break;default:J.push("<%"+I+"?>")}J.push(e.substring(g));
return J.join("")};p.formatNumber=function(e,q,I,g){var y=isNaN(q=Math.abs(q))?2:q;q=void 0===I?",":I;g=void 0===g?".":g;I=0>e?"-":"";var J=parseInt(e=Math.abs(+e||0).toFixed(y),10)+"",Q=3<J.length?J.length%3:0;return I+(Q?J.substr(0,Q)+g:"")+J.substr(Q).replace(/(\d{3})(?=\d)/g,"$1"+g)+(y?q+Math.abs(e-J).toFixed(y).slice(2):"")};p.formatSize=function(e){return e=1073741824<=e?p.formatNumber(e/1073741824,2,".","")+" GiB":1048576<=e?p.formatNumber(e/1048576,2,".","")+" MiB":1024<=e?p.formatNumber(e/
1024,0)+" KiB":p.formatNumber(e,0)+" bytes"};p.bytesFromIP=function(e){return-1!==e.indexOf(".")?p.bytesFromIPv4(e):-1!==e.indexOf(":")?p.bytesFromIPv6(e):null};p.bytesFromIPv4=function(e){e=e.split(".");if(4!==e.length)return null;for(var q=p.createBuffer(),I=0;I<e.length;++I){var g=parseInt(e[I],10);if(isNaN(g))return null;q.putByte(g)}return q.getBytes()};p.bytesFromIPv6=function(e){var q=0;e=e.split(":").filter(function(Q){0===Q.length&&++q;return!0});for(var I=2*(8-e.length+q),g=p.createBuffer(),
y=0;8>y;++y)if(e[y]&&0!==e[y].length){var J=p.hexToBytes(e[y]);2>J.length&&g.putByte(0);g.putBytes(J)}else g.fillWithByte(0,I),I=0;return g.getBytes()};p.bytesToIP=function(e){return 4===e.length?p.bytesToIPv4(e):16===e.length?p.bytesToIPv6(e):null};p.bytesToIPv4=function(e){if(4!==e.length)return null;for(var q=[],I=0;I<e.length;++I)q.push(e.charCodeAt(I));return q.join(".")};p.bytesToIPv6=function(e){if(16!==e.length)return null;for(var q=[],I=[],g=0,y=0;y<e.length;y+=2){for(var J=p.bytesToHex(e[y]+
e[y+1]);"0"===J[0]&&"0"!==J;)J=J.substr(1);if("0"===J){var Q=I[I.length-1],aa=q.length;Q&&aa===Q.end+1?(Q.end=aa,Q.end-Q.start>I[g].end-I[g].start&&(g=I.length-1)):I.push({start:aa,end:aa})}q.push(J)}0<I.length&&(e=I[g],0<e.end-e.start&&(q.splice(e.start,e.end-e.start+1,""),0===e.start&&q.unshift(""),7===e.end&&q.push("")));return q.join(":")};p.estimateCores=function(e,q){function I(Q,aa,Z){if(0===aa){var ca=Math.floor(Q.reduce(function(fa,ha){return fa+ha},0)/Q.length);p.cores=Math.max(1,ca);URL.revokeObjectURL(J);
return q(null,p.cores)}g(Z,function(fa,ha){Q.push(y(Z,ha));I(Q,aa-1,Z)})}function g(Q,aa){for(var Z=[],ca=[],fa=0;fa<Q;++fa){var ha=new Worker(J);ha.addEventListener("message",function(pa){ca.push(pa.data);if(ca.length===Q){for(pa=0;pa<Q;++pa)Z[pa].terminate();aa(null,ca)}});Z.push(ha)}for(fa=0;fa<Q;++fa)Z[fa].postMessage(fa)}function y(Q,aa){for(var Z=[],ca=0;ca<Q;++ca)for(var fa=aa[ca],ha=Z[ca]=[],pa=0;pa<Q;++pa)if(ca!==pa){var x=aa[pa];(fa.st>x.st&&fa.st<x.et||x.st>fa.st&&x.st<fa.et)&&ha.push(pa)}return Z.reduce(function(n,
w){return Math.max(n,w.length)},0)}"function"===typeof e&&(q=e,e={});e=e||{};if("cores"in p&&!e.update)return q(null,p.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&0<navigator.hardwareConcurrency)return p.cores=navigator.hardwareConcurrency,q(null,p.cores);if("undefined"===typeof Worker)return p.cores=1,q(null,p.cores);if("undefined"===typeof Blob)return p.cores=2,q(null,p.cores);var J=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(Q){Q=
Date.now();for(var aa=Q+4;Date.now()<aa;);self.postMessage({st:Q,et:aa})})}.toString(),")()"],{type:"application/javascript"}));I([],5,16)}}).call(this,E(31),E(72).setImmediate,E(19),E(6).Buffer)},function(R,H,E){E.d(H,"a",function(){return V});var u=E(0);E.n(u);var K=E(1),V=function(l){l=void 0===l?{}:l;this.type=Object(K.e)(l,"type",V.defaultValues("type"));this.values=Object(K.e)(l,"values",V.defaultValues("values"));"schema"in l&&this.fromSchema(l.schema)};V.defaultValues=function(l){switch(l){case "type":return"";
case "values":return[];default:throw Error("Invalid member name for Attribute class: "+l);}};V.compareWithDefault=function(l,h){switch(l){case "type":return""===h;case "values":return 0===h.length;default:throw Error("Invalid member name for Attribute class: "+l);}};V.schema=function(l){l=void 0===l?{}:l;l=Object(K.e)(l,"names",{});return new u.Sequence({name:l.blockName||"",value:[new u.ObjectIdentifier({name:l.type||""}),new u.Set({name:l.setName||"",value:[new u.Repeated({name:l.values||"",value:new u.Any})]})]})};
V.prototype.fromSchema=function(l){Object(K.c)(l,["type","values"]);l=u.compareSchema(l,l,V.schema({names:{type:"type",values:"values"}}));if(!1===l.verified)throw Error("Object's schema was not verified against input data for Attribute");this.type=l.result.type.valueBlock.toString();this.values=l.result.values};V.prototype.toSchema=function(){return new u.Sequence({value:[new u.ObjectIdentifier({value:this.type}),new u.Set({value:this.values})]})};V.prototype.toJSON=function(){return{type:this.type,
values:Array.from(this.values,function(l){return l.toJSON()})}}},function(R,H,E){function u(f,p){var z;if("undefined"===typeof Symbol||null==f[Symbol.iterator]){if(Array.isArray(f)||(z=K(f))||p&&f&&"number"===typeof f.length){z&&(f=z);var N=0;p=function(){};return{s:p,n:function(){return N>=f.length?{done:!0}:{done:!1,value:f[N++]}},e:function(C){throw C;},f:p}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var B=!0,G=!1,v;return{s:function(){z=f[Symbol.iterator]()},n:function(){var C=z.next();B=C.done;return C},e:function(C){G=!0;v=C},f:function(){try{if(!B&&null!=z["return"])z["return"]()}finally{if(G)throw v;}}}}function K(f,p){if(f){if("string"===typeof f)return V(f,p);var z=Object.prototype.toString.call(f).slice(8,-1);"Object"===z&&f.constructor&&(z=f.constructor.name);if("Map"===z||"Set"===z)return Array.from(f);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return V(f,
p)}}function V(f,p){if(null==p||p>f.length)p=f.length;for(var z=0,N=Array(p);z<p;z++)N[z]=f[z];return N}function l(f,p){var z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,N=Object.assign([],f.childNodes),B,G=[];if(f.nodeName===p)G.push(f);else{do if(B=N.shift())if(B.nodeName===p)G.push(B);else if(!1===z){B=Object.assign([],B.childNodes);B=u(B);var v;try{for(B.s();!(v=B.n()).done;)N.unshift(v.value)}catch(C){B.e(C)}finally{B.f()}}while(0<N.length)}return G}function h(f,p){function z(B,
G){var v=[];if(0<G.length){var C=G.shift();B=l(B,C,!0);B=u(B);var t;try{for(B.s();!(t=B.n()).done;)v=v.concat(z(t.value,G))}catch(S){B.e(S)}finally{B.f()}}else v.push(B);return v}p=Object.assign([],p);var N=[];return N=N.concat(z(f,p))}function r(f,p){p=p.split(">");var z=l(f.documentElement,p.shift());f=[];if(0<p.length){z=u(z);var N;try{for(z.s();!(N=z.n()).done;)f=f.concat(h(N.value,p))}catch(B){z.e(B)}finally{z.f()}}else f=z;return f}function b(f,p){return r(f,p)[0]}E.d(H,"b",function(){return r});
E.d(H,"a",function(){return b})},function(R,H,E){E.d(H,"a",function(){return l});var u=E(0);E.n(u);var K=E(1),V=E(3),l=function(h){h=void 0===h?{}:h;this.contentType=Object(K.e)(h,"contentType",l.defaultValues("contentType"));this.contentEncryptionAlgorithm=Object(K.e)(h,"contentEncryptionAlgorithm",l.defaultValues("contentEncryptionAlgorithm"));if("encryptedContent"in h&&(this.encryptedContent=h.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&
!1===this.encryptedContent.idBlock.isConstructed)){for(var r=new u.OctetString({idBlock:{isConstructed:!0},isConstructed:!0}),b=0,f=this.encryptedContent.valueBlock.valueHex.byteLength;0<f;){for(var p=new Uint8Array(this.encryptedContent.valueBlock.valueHex,b,b+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-b:1024),z=new ArrayBuffer(p.length),N=new Uint8Array(z),B=0;B<N.length;B++)N[B]=p[B];r.valueBlock.value.push(new u.OctetString({valueHex:z}));
f-=p.length;b+=p.length}this.encryptedContent=r}"schema"in h&&this.fromSchema(h.schema)};l.defaultValues=function(h){switch(h){case "contentType":return"";case "contentEncryptionAlgorithm":return new V.a;case "encryptedContent":return new u.OctetString;default:throw Error("Invalid member name for EncryptedContentInfo class: "+h);}};l.compareWithDefault=function(h,r){switch(h){case "contentType":return""===r;case "contentEncryptionAlgorithm":return""===r.algorithmId&&!1==="algorithmParams"in r;case "encryptedContent":return r.isEqual(l.defaultValues(h));
default:throw Error("Invalid member name for EncryptedContentInfo class: "+h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(K.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.ObjectIdentifier({name:h.contentType||""}),V.a.schema(h.contentEncryptionAlgorithm||{}),new u.Choice({value:[new u.Constructed({name:h.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new u.Repeated({value:new u.OctetString})]}),new u.Primitive({name:h.encryptedContent||"",idBlock:{tagClass:3,
tagNumber:0}})]})]})};l.prototype.fromSchema=function(h){Object(K.c)(h,["contentType","contentEncryptionAlgorithm","encryptedContent"]);h=u.compareSchema(h,h,l.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===h.verified)throw Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=h.result.contentType.valueBlock.toString();this.contentEncryptionAlgorithm=
new V.a({schema:h.result.contentEncryptionAlgorithm});"encryptedContent"in h.result&&(this.encryptedContent=h.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)};l.prototype.toSchema=function(){var h={isIndefiniteForm:!1},r=[];r.push(new u.ObjectIdentifier({value:this.contentType}));r.push(this.contentEncryptionAlgorithm.toSchema());if("encryptedContent"in this){h.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;var b=this.encryptedContent;
b.idBlock.tagClass=3;b.idBlock.tagNumber=0;b.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;r.push(b)}return new u.Sequence({lenBlock:h,value:r})};l.prototype.toJSON=function(){var h={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};"encryptedContent"in this&&(h.encryptedContent=this.encryptedContent.toJSON());return h}},function(R,H,E){R.exports=E(5);E(20);E(75);E(16);E(36);E(60);E(32);E(77);E(25);E(79);E(62);E(80);E(59);E(38);
E(22);E(55);E(57);E(81);E(50);E(56);E(53);E(41);E(14);E(54);E(82);E(83);E(49);E(7)},function(R,H,E){E.d(H,"a",function(){return b});var u=E(0);E.n(u);var K=E(1),V=E(4),l=E(3),h=E(13),r=E(27),b=function(f){f=void 0===f?{}:f;this.algorithm=Object(K.e)(f,"algorithm",b.defaultValues("algorithm"));this.subjectPublicKey=Object(K.e)(f,"subjectPublicKey",b.defaultValues("subjectPublicKey"));"parsedKey"in f&&(this.parsedKey=Object(K.e)(f,"parsedKey",b.defaultValues("parsedKey")));"schema"in f&&this.fromSchema(f.schema);
"json"in f&&this.fromJSON(f.json)};b.defaultValues=function(f){switch(f){case "algorithm":return new l.a;case "subjectPublicKey":return new u.BitString;default:throw Error("Invalid member name for PublicKeyInfo class: "+f);}};b.schema=function(f){f=void 0===f?{}:f;f=Object(K.e)(f,"names",{});return new u.Sequence({name:f.blockName||"",value:[l.a.schema(f.algorithm||{}),new u.BitString({name:f.subjectPublicKey||""})]})};b.prototype.fromSchema=function(f){Object(K.c)(f,["algorithm","subjectPublicKey"]);
f=u.compareSchema(f,f,b.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for PublicKeyInfo");this.algorithm=new l.a({schema:f.result.algorithm});this.subjectPublicKey=f.result.subjectPublicKey;switch(this.algorithm.algorithmId){case "1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===u.ObjectIdentifier.blockName())try{this.parsedKey=
new h.a({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch(p){}break;case "1.2.840.113549.1.1.1":if(f=u.fromBER(this.subjectPublicKey.valueBlock.valueHex),-1!==f.offset)try{this.parsedKey=new r.a({schema:f.result})}catch(p){}}};b.prototype.toSchema=function(){return new u.Sequence({value:[this.algorithm.toSchema(),this.subjectPublicKey]})};b.prototype.toJSON=function(){if(!1==="parsedKey"in this)return{algorithm:this.algorithm.toJSON(),
subjectPublicKey:this.subjectPublicKey.toJSON()};var f={};switch(this.algorithm.algorithmId){case "1.2.840.10045.2.1":f.kty="EC";break;case "1.2.840.113549.1.1.1":f.kty="RSA"}for(var p=this.parsedKey.toJSON(),z=$jscomp.makeIterator(Object.keys(p)),N=z.next();!N.done;N=z.next())N=N.value,f[N]=p[N];return f};b.prototype.fromJSON=function(f){if("kty"in f){switch(f.kty.toUpperCase()){case "EC":this.parsedKey=new h.a({json:f});this.algorithm=new l.a({algorithmId:"1.2.840.10045.2.1",algorithmParams:new u.ObjectIdentifier({value:this.parsedKey.namedCurve})});
break;case "RSA":this.parsedKey=new r.a({json:f});this.algorithm=new l.a({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new u.Null});break;default:throw Error('Invalid value for "kty" parameter: '+f.kty);}this.subjectPublicKey=new u.BitString({valueHex:this.parsedKey.toSchema().toBER(!1)})}};b.prototype.importKey=function(f){var p=Promise.resolve(),z=this;if("undefined"===typeof f)return Promise.reject("Need to provide publicKey input parameter");var N=Object(V.d)();if("undefined"===typeof N)return Promise.reject("Unable to create WebCrypto object");
p=p.then(function(){return N.exportKey("spki",f)});return p=p.then(function(B){B=u.fromBER(B);try{z.fromSchema(B.result)}catch(G){return Promise.reject("Error during initializing object from schema")}},function(B){return Promise.reject("Error during exporting public key: "+B)})}},function(R,H,E){E.d(H,"a",function(){return V});var u=E(0);E.n(u);var K=E(1),V=function(l){l=void 0===l?{}:l;this.x=Object(K.e)(l,"x",V.defaultValues("x"));this.y=Object(K.e)(l,"y",V.defaultValues("y"));this.namedCurve=Object(K.e)(l,
"namedCurve",V.defaultValues("namedCurve"));"schema"in l&&this.fromSchema(l.schema);"json"in l&&this.fromJSON(l.json)};V.defaultValues=function(l){switch(l){case "x":case "y":return new ArrayBuffer(0);case "namedCurve":return"";default:throw Error("Invalid member name for ECCPublicKey class: "+l);}};V.compareWithDefault=function(l,h){switch(l){case "x":case "y":return Object(K.f)(h,V.defaultValues(l));case "namedCurve":return""===h;default:throw Error("Invalid member name for ECCPublicKey class: "+
l);}};V.schema=function(l){return new u.RawData};V.prototype.fromSchema=function(l){if(!1===l instanceof ArrayBuffer)throw Error("Object's schema was not verified against input data for ECPublicKey");if(4!==(new Uint8Array(l))[0])throw Error("Object's schema was not verified against input data for ECPublicKey");switch(this.namedCurve){case "1.2.840.10045.3.1.7":var h=32;break;case "1.3.132.0.34":h=48;break;case "1.3.132.0.35":h=66;break;default:throw Error("Incorrect curve OID: "+this.namedCurve);
}if(l.byteLength!==2*h+1)throw Error("Object's schema was not verified against input data for ECPublicKey");this.x=l.slice(1,h+1);this.y=l.slice(1+h,2*h+1)};V.prototype.toSchema=function(){return new u.RawData({data:Object(K.j)((new Uint8Array([4])).buffer,this.x,this.y)})};V.prototype.toJSON=function(){var l="";switch(this.namedCurve){case "1.2.840.10045.3.1.7":l="P-256";break;case "1.3.132.0.34":l="P-384";break;case "1.3.132.0.35":l="P-521"}return{crv:l,x:Object(K.i)(Object(K.a)(this.x),!0,!0,!1),
y:Object(K.i)(Object(K.a)(this.y),!0,!0,!1)}};V.prototype.fromJSON=function(l){var h=0;if("crv"in l)switch(l.crv.toUpperCase()){case "P-256":this.namedCurve="1.2.840.10045.3.1.7";h=32;break;case "P-384":this.namedCurve="1.3.132.0.34";h=48;break;case "P-521":this.namedCurve="1.3.132.0.35",h=66}else throw Error('Absent mandatory parameter "crv"');if("x"in l){var r=Object(K.h)(Object(K.d)(l.x,!0));if(r.byteLength<h){this.x=new ArrayBuffer(h);var b=new Uint8Array(this.x);r=new Uint8Array(r);b.set(r,1)}else this.x=
r.slice(0,h)}else throw Error('Absent mandatory parameter "x"');if("y"in l)l=Object(K.h)(Object(K.d)(l.y,!0)),l.byteLength<h?(this.y=new ArrayBuffer(h),h=new Uint8Array(this.y),l=new Uint8Array(l),h.set(l,1)):this.y=l.slice(0,h);else throw Error('Absent mandatory parameter "y"');}},function(R,H,E){var u=E(5);E(20);E(52);E(53);E(7);(function(){u.random&&u.random.getBytes?R.exports=u.random:function(K){function V(){var B=u.prng.create(l);B.getBytes=function(G,v){return B.generate(G,v)};B.getBytesSync=
function(G){return B.generate(G)};return B}var l={},h=Array(4),r=u.util.createBuffer();l.formatKey=function(B){var G=u.util.createBuffer(B);B=Array(4);B[0]=G.getInt32();B[1]=G.getInt32();B[2]=G.getInt32();B[3]=G.getInt32();return u.aes._expandKey(B,!1)};l.formatSeed=function(B){var G=u.util.createBuffer(B);B=Array(4);B[0]=G.getInt32();B[1]=G.getInt32();B[2]=G.getInt32();B[3]=G.getInt32();return B};l.cipher=function(B,G){u.aes._updateBlock(B,G,h,!1);r.putInt32(h[0]);r.putInt32(h[1]);r.putInt32(h[2]);
r.putInt32(h[3]);return r.getBytes()};l.increment=function(B){++B[3];return B};l.md=u.md.sha256;var b=V(),f=null,p=u.util.globalScope,z=p.crypto||p.msCrypto;z&&z.getRandomValues&&(f=function(B){return z.getRandomValues(B)});if(u.options.usePureJavaScript||!u.util.isNodejs&&!f){b.collectInt(+new Date,32);if("undefined"!==typeof navigator){f="";for(var N in navigator)try{"string"==typeof navigator[N]&&(f+=navigator[N])}catch(B){}b.collect(f);f=null}K&&(K().mousemove(function(B){b.collectInt(B.clientX,
16);b.collectInt(B.clientY,16)}),K().keypress(function(B){b.collectInt(B.charCode,8)}))}if(u.random)for(N in b)u.random[N]=b[N];else u.random=b;u.random.createInstance=V;R.exports=u.random}("undefined"!==typeof jQuery?jQuery:null)})()},function(R,H,E){E.d(H,"a",function(){return b});var u=E(0);E.n(u);var K=E(1),V=E(3),l=E(8),h=E(28),r=E(29),b=function(f){f=void 0===f?{}:f;this.version=Object(K.e)(f,"version",b.defaultValues("version"));this.privateKeyAlgorithm=Object(K.e)(f,"privateKeyAlgorithm",
b.defaultValues("privateKeyAlgorithm"));this.privateKey=Object(K.e)(f,"privateKey",b.defaultValues("privateKey"));"attributes"in f&&(this.attributes=Object(K.e)(f,"attributes",b.defaultValues("attributes")));"parsedKey"in f&&(this.parsedKey=Object(K.e)(f,"parsedKey",b.defaultValues("parsedKey")));"schema"in f&&this.fromSchema(f.schema);"json"in f&&this.fromJSON(f.json)};b.defaultValues=function(f){switch(f){case "version":return 0;case "privateKeyAlgorithm":return new V.a;case "privateKey":return new u.OctetString;
case "attributes":return[];case "parsedKey":return{};default:throw Error("Invalid member name for PrivateKeyInfo class: "+f);}};b.schema=function(f){f=void 0===f?{}:f;f=Object(K.e)(f,"names",{});return new u.Sequence({name:f.blockName||"",value:[new u.Integer({name:f.version||""}),V.a.schema(f.privateKeyAlgorithm||{}),new u.OctetString({name:f.privateKey||""}),new u.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new u.Repeated({name:f.attributes||"",value:l.a.schema()})]})]})};b.prototype.fromSchema=
function(f){Object(K.c)(f,["version","privateKeyAlgorithm","privateKey","attributes"]);f=u.compareSchema(f,f,b.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for PrivateKeyInfo");this.version=f.result.version.valueBlock.valueDec;this.privateKeyAlgorithm=new V.a({schema:f.result.privateKeyAlgorithm});this.privateKey=
f.result.privateKey;"attributes"in f.result&&(this.attributes=Array.from(f.result.attributes,function(p){return new l.a({schema:p})}));switch(this.privateKeyAlgorithm.algorithmId){case "1.2.840.113549.1.1.1":f=u.fromBER(this.privateKey.valueBlock.valueHex);-1!==f.offset&&(this.parsedKey=new r.a({schema:f.result}));break;case "1.2.840.10045.2.1":"algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof u.ObjectIdentifier&&(f=u.fromBER(this.privateKey.valueBlock.valueHex),
-1!==f.offset&&(this.parsedKey=new h.a({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:f.result})))}};b.prototype.toSchema=function(){var f=[new u.Integer({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];"attributes"in this&&f.push(new u.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,function(p){return p.toSchema()})}));return new u.Sequence({value:f})};b.prototype.toJSON=function(){if(!1==="parsedKey"in
this){var f={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};"attributes"in this&&(f.attributes=Array.from(this.attributes,function(B){return B.toJSON()}));return f}f={};switch(this.privateKeyAlgorithm.algorithmId){case "1.2.840.10045.2.1":f.kty="EC";break;case "1.2.840.113549.1.1.1":f.kty="RSA"}for(var p=this.parsedKey.toJSON(),z=$jscomp.makeIterator(Object.keys(p)),N=z.next();!N.done;N=z.next())N=N.value,f[N]=p[N];return f};b.prototype.fromJSON=
function(f){if("kty"in f){switch(f.kty.toUpperCase()){case "EC":this.parsedKey=new h.a({json:f});this.privateKeyAlgorithm=new V.a({algorithmId:"1.2.840.10045.2.1",algorithmParams:new u.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case "RSA":this.parsedKey=new r.a({json:f});this.privateKeyAlgorithm=new V.a({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new u.Null});break;default:throw Error('Invalid value for "kty" parameter: '+f.kty);}this.privateKey=new u.OctetString({valueHex:this.parsedKey.toSchema().toBER(!1)})}}},
function(R,H,E){function u(r,b,f){if(f>b){var p=Error("Too few bytes to parse DER.");p.available=r.length();p.remaining=b;p.requested=f;throw p;}}function K(r,b,f,p){u(r,b,2);var z=r.getByte();b--;var N=z&192,B=z&31;var G=r.length();var v=b;var C=r.getByte();v--;if(128===C)v=void 0;else if(C&128?(C&=127,u(r,v,C),v=r.getInt(C<<3)):v=C,0>v)throw Error("Negative length: "+v);b-=G-r.length();if(void 0!==v&&v>b){if(p.strict)throw f=Error("Too few bytes to read ASN.1 value."),f.available=r.length(),f.remaining=
b,f.requested=v,f;v=b}var t;if(z=32===(z&32)){var S=[];if(void 0===v)for(;;){u(r,b,2);if(r.bytes(2)===String.fromCharCode(0,0)){r.getBytes(2);b-=2;break}G=r.length();S.push(K(r,b,f+1,p));b-=G-r.length()}else for(;0<v;)G=r.length(),S.push(K(r,v,f+1,p)),b-=G-r.length(),v-=G-r.length()}void 0===S&&N===l.Class.UNIVERSAL&&B===l.Type.BITSTRING&&(t=r.bytes(v));if(void 0===S&&p.decodeBitStrings&&N===l.Class.UNIVERSAL&&B===l.Type.BITSTRING&&1<v){C=r.read;var k=b,e=0;B===l.Type.BITSTRING&&(u(r,b,1),e=r.getByte(),
b--);if(0===e)try{G=r.length();var q=K(r,b,f+1,{verbose:p.verbose,strict:!0,decodeBitStrings:!0}),I=G-r.length();b-=I;B==l.Type.BITSTRING&&I++;var g=q.tagClass;I!==v||g!==l.Class.UNIVERSAL&&g!==l.Class.CONTEXT_SPECIFIC||(S=[q])}catch(y){}void 0===S&&(r.read=C,b=k)}if(void 0===S){if(void 0===v){if(p.strict)throw Error("Non-constructed ASN.1 object of indefinite length.");v=b}if(B===l.Type.BMPSTRING)for(S="";0<v;v-=2)u(r,b,2),S+=String.fromCharCode(r.getInt16()),b-=2;else S=r.getBytes(v)}return l.create(N,
B,z,S,void 0===t?null:{bitStringContents:t})}var V=E(5);E(7);E(21);var l=R.exports=V.asn1=V.asn1||{};l.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};l.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};l.create=function(r,b,f,p,z){if(V.util.isArray(p)){for(var N=[],B=0;B<p.length;++B)void 0!==p[B]&&
N.push(p[B]);p=N}r={tagClass:r,type:b,constructed:f,composed:f||V.util.isArray(p),value:p};z&&"bitStringContents"in z&&(r.bitStringContents=z.bitStringContents,r.original=l.copy(r));return r};l.copy=function(r,b){if(V.util.isArray(r)){var f=[];for(var p=0;p<r.length;++p)f.push(l.copy(r[p],b));return f}if("string"===typeof r)return r;f={tagClass:r.tagClass,type:r.type,constructed:r.constructed,composed:r.composed,value:l.copy(r.value,b)};b&&!b.excludeBitStringContents&&(f.bitStringContents=r.bitStringContents);
return f};l.equals=function(r,b,f){if(V.util.isArray(r)){if(!V.util.isArray(b)||r.length!==b.length)return!1;for(f=0;f<r.length;++f)if(!l.equals(r[f],b[f]))return!1;return!0}if(typeof r!==typeof b)return!1;if("string"===typeof r)return r===b;var p=r.tagClass===b.tagClass&&r.type===b.type&&r.constructed===b.constructed&&r.composed===b.composed&&l.equals(r.value,b.value);f&&f.includeBitStringContents&&(p=p&&r.bitStringContents===b.bitStringContents);return p};l.getBerValueLength=function(r){var b=r.getByte();
if(128!==b)return b&128?r.getInt((b&127)<<3):b};l.fromDer=function(r,b){void 0===b&&(b={strict:!0,decodeBitStrings:!0});"boolean"===typeof b&&(b={strict:b,decodeBitStrings:!0});"strict"in b||(b.strict=!0);"decodeBitStrings"in b||(b.decodeBitStrings=!0);"string"===typeof r&&(r=V.util.createBuffer(r));return K(r,r.length(),0,b)};l.toDer=function(r){var b=V.util.createBuffer(),f=r.tagClass|r.type,p=V.util.createBuffer(),z=!1;"bitStringContents"in r&&(z=!0,r.original&&(z=l.equals(r,r.original)));if(z)p.putBytes(r.bitStringContents);
else if(r.composed)for(r.constructed?f|=32:p.putByte(0),z=0;z<r.value.length;++z)void 0!==r.value[z]&&p.putBuffer(l.toDer(r.value[z]));else if(r.type===l.Type.BMPSTRING)for(z=0;z<r.value.length;++z)p.putInt16(r.value.charCodeAt(z));else r.type===l.Type.INTEGER&&1<r.value.length&&(0===r.value.charCodeAt(0)&&0===(r.value.charCodeAt(1)&128)||255===r.value.charCodeAt(0)&&128===(r.value.charCodeAt(1)&128))?p.putBytes(r.value.substr(1)):p.putBytes(r.value);b.putByte(f);if(127>=p.length())b.putByte(p.length()&
127);else{f=p.length();r="";do r+=String.fromCharCode(f&255),f>>>=8;while(0<f);b.putByte(r.length|128);for(z=r.length-1;0<=z;--z)b.putByte(r.charCodeAt(z))}b.putBuffer(p);return b};l.oidToDer=function(r){r=r.split(".");var b=V.util.createBuffer();b.putByte(40*parseInt(r[0],10)+parseInt(r[1],10));for(var f,p,z,N,B=2;B<r.length;++B){f=!0;p=[];z=parseInt(r[B],10);do N=z&127,z>>>=7,f||(N|=128),p.push(N),f=!1;while(0<z);for(f=p.length-1;0<=f;--f)b.putByte(p[f])}return b};l.derToOid=function(r){"string"===
typeof r&&(r=V.util.createBuffer(r));var b=r.getByte();var f=Math.floor(b/40)+"."+b%40;for(var p=0;0<r.length();)b=r.getByte(),p<<=7,b&128?p+=b&127:(f+="."+(p+b),p=0);return f};l.utcTimeToDate=function(r){var b=new Date,f=parseInt(r.substr(0,2),10);f=50<=f?1900+f:2E3+f;var p=parseInt(r.substr(2,2),10)-1,z=parseInt(r.substr(4,2),10),N=parseInt(r.substr(6,2),10),B=parseInt(r.substr(8,2),10),G=0;if(11<r.length){var v=r.charAt(10),C=10;"+"!==v&&"-"!==v&&(G=parseInt(r.substr(10,2),10),C+=2)}b.setUTCFullYear(f,
p,z);b.setUTCHours(N,B,G,0);C&&(v=r.charAt(C),"+"===v||"-"===v)&&(f=parseInt(r.substr(C+1,2),10),r=parseInt(r.substr(C+4,2),10),r=6E4*(60*f+r),"+"===v?b.setTime(+b-r):b.setTime(+b+r));return b};l.generalizedTimeToDate=function(r){var b=new Date,f=parseInt(r.substr(0,4),10),p=parseInt(r.substr(4,2),10)-1,z=parseInt(r.substr(6,2),10),N=parseInt(r.substr(8,2),10),B=parseInt(r.substr(10,2),10),G=parseInt(r.substr(12,2),10),v=0,C=0,t=!1;"Z"===r.charAt(r.length-1)&&(t=!0);var S=r.length-5,k=r.charAt(S);
if("+"===k||"-"===k)C=parseInt(r.substr(S+1,2),10),S=parseInt(r.substr(S+4,2),10),C=6E4*(60*C+S),"+"===k&&(C*=-1),t=!0;"."===r.charAt(14)&&(v=1E3*parseFloat(r.substr(14),10));t?(b.setUTCFullYear(f,p,z),b.setUTCHours(N,B,G,v),b.setTime(+b+C)):(b.setFullYear(f,p,z),b.setHours(N,B,G,v));return b};l.dateToUtcTime=function(r){if("string"===typeof r)return r;var b="",f=[];f.push((""+r.getUTCFullYear()).substr(2));f.push(""+(r.getUTCMonth()+1));f.push(""+r.getUTCDate());f.push(""+r.getUTCHours());f.push(""+
r.getUTCMinutes());f.push(""+r.getUTCSeconds());for(r=0;r<f.length;++r)2>f[r].length&&(b+="0"),b+=f[r];return b+"Z"};l.dateToGeneralizedTime=function(r){if("string"===typeof r)return r;var b="",f=[];f.push(""+r.getUTCFullYear());f.push(""+(r.getUTCMonth()+1));f.push(""+r.getUTCDate());f.push(""+r.getUTCHours());f.push(""+r.getUTCMinutes());f.push(""+r.getUTCSeconds());for(r=0;r<f.length;++r)2>f[r].length&&(b+="0"),b+=f[r];return b+"Z"};l.integerToDer=function(r){var b=V.util.createBuffer();if(-128<=
r&&128>r)return b.putSignedInt(r,8);if(-32768<=r&&32768>r)return b.putSignedInt(r,16);if(-8388608<=r&&8388608>r)return b.putSignedInt(r,24);if(-2147483648<=r&&2147483648>r)return b.putSignedInt(r,32);b=Error("Integer too large; max is 32-bits.");b.integer=r;throw b;};l.derToInteger=function(r){"string"===typeof r&&(r=V.util.createBuffer(r));var b=8*r.length();if(32<b)throw Error("Integer too large; max is 32-bits.");return r.getSignedInt(b)};l.validate=function(r,b,f,p){var z=!1;if(r.tagClass!==b.tagClass&&
"undefined"!==typeof b.tagClass||r.type!==b.type&&"undefined"!==typeof b.type)p&&(r.tagClass!==b.tagClass&&p.push("["+b.name+'] Expected tag class "'+b.tagClass+'", got "'+r.tagClass+'"'),r.type!==b.type&&p.push("["+b.name+'] Expected type "'+b.type+'", got "'+r.type+'"'));else if(r.constructed===b.constructed||"undefined"===typeof b.constructed){z=!0;if(b.value&&V.util.isArray(b.value))for(var N=0,B=0;z&&B<b.value.length;++B)z=b.value[B].optional||!1,r.value[N]&&((z=l.validate(r.value[N],b.value[B],
f,p))?++N:b.value[B].optional&&(z=!0)),!z&&p&&p.push("["+b.name+'] Tag class "'+b.tagClass+'", type "'+b.type+'" expected value length "'+b.value.length+'", got "'+r.value.length+'"');if(z&&f&&(b.capture&&(f[b.capture]=r.value),b.captureAsn1&&(f[b.captureAsn1]=r),b.captureBitStringContents&&"bitStringContents"in r&&(f[b.captureBitStringContents]=r.bitStringContents),b.captureBitStringValue&&"bitStringContents"in r))if(2>r.bitStringContents.length)f[b.captureBitStringValue]="";else{if(0!==r.bitStringContents.charCodeAt(0))throw Error("captureBitStringValue only supported for zero unused bits");
f[b.captureBitStringValue]=r.bitStringContents.slice(1)}}else p&&p.push("["+b.name+'] Expected constructed "'+b.constructed+'", got "'+r.constructed+'"');return z};var h=/[^\\u0000-\\u00ff]/;l.prettyPrint=function(r,b,f){var p="";b=b||0;f=f||2;0<b&&(p+="\n");for(var z="",N=0;N<b*f;++N)z+=" ";p+=z+"Tag: ";switch(r.tagClass){case l.Class.UNIVERSAL:p+="Universal:";break;case l.Class.APPLICATION:p+="Application:";break;case l.Class.CONTEXT_SPECIFIC:p+="Context-Specific:";break;case l.Class.PRIVATE:p+=
"Private:"}if(r.tagClass===l.Class.UNIVERSAL)switch(p+=r.type,r.type){case l.Type.NONE:p+=" (None)";break;case l.Type.BOOLEAN:p+=" (Boolean)";break;case l.Type.INTEGER:p+=" (Integer)";break;case l.Type.BITSTRING:p+=" (Bit string)";break;case l.Type.OCTETSTRING:p+=" (Octet string)";break;case l.Type.NULL:p+=" (Null)";break;case l.Type.OID:p+=" (Object Identifier)";break;case l.Type.ODESC:p+=" (Object Descriptor)";break;case l.Type.EXTERNAL:p+=" (External or Instance of)";break;case l.Type.REAL:p+=
" (Real)";break;case l.Type.ENUMERATED:p+=" (Enumerated)";break;case l.Type.EMBEDDED:p+=" (Embedded PDV)";break;case l.Type.UTF8:p+=" (UTF8)";break;case l.Type.ROID:p+=" (Relative Object Identifier)";break;case l.Type.SEQUENCE:p+=" (Sequence)";break;case l.Type.SET:p+=" (Set)";break;case l.Type.PRINTABLESTRING:p+=" (Printable String)";break;case l.Type.IA5String:p+=" (IA5String (ASCII))";break;case l.Type.UTCTIME:p+=" (UTC time)";break;case l.Type.GENERALIZEDTIME:p+=" (Generalized time)";break;case l.Type.BMPSTRING:p+=
" (BMP String)"}else p+=r.type;p=p+"\n"+(z+"Constructed: "+r.constructed+"\n");if(r.composed){var B=0,G="";for(N=0;N<r.value.length;++N)void 0!==r.value[N]&&(B+=1,G+=l.prettyPrint(r.value[N],b+1,f),N+1<r.value.length&&(G+=","));p+=z+"Sub values: "+B+G}else if(p+=z+"Value: ",r.type===l.Type.OID&&(b=l.derToOid(r.value),p+=b,V.pki&&V.pki.oids&&b in V.pki.oids&&(p+=" ("+V.pki.oids[b]+") ")),r.type===l.Type.INTEGER)try{p+=l.derToInteger(r.value)}catch(v){p+="0x"+V.util.bytesToHex(r.value)}else r.type===
l.Type.BITSTRING?(p=1<r.value.length?p+("0x"+V.util.bytesToHex(r.value.slice(1))):p+"(none)",0<r.value.length&&(r=r.value.charCodeAt(0),1==r?p+=" (1 unused bit shown)":1<r&&(p+=" ("+r+" unused bits shown)"))):r.type===l.Type.OCTETSTRING?(h.test(r.value)||(p+="("+r.value+") "),p+="0x"+V.util.bytesToHex(r.value)):p=r.type===l.Type.UTF8?p+V.util.decodeUtf8(r.value):r.type===l.Type.PRINTABLESTRING||r.type===l.Type.IA5String?p+r.value:h.test(r.value)?p+("0x"+V.util.bytesToHex(r.value)):0===r.value.length?
p+"[null]":p+r.value;return p}},function(R,H,E){H=E(5);R.exports=H.md=H.md||{};H.md.algorithms=H.md.algorithms||{}},function(R,H,E){E.d(H,"a",function(){return l});var u=E(0);E.n(u);var K=E(1),V=E(3),l=function(h){h=void 0===h?{}:h;this.salt=Object(K.e)(h,"salt",l.defaultValues("salt"));this.iterationCount=Object(K.e)(h,"iterationCount",l.defaultValues("iterationCount"));"keyLength"in h&&(this.keyLength=Object(K.e)(h,"keyLength",l.defaultValues("keyLength")));"prf"in h&&(this.prf=Object(K.e)(h,"prf",
l.defaultValues("prf")));"schema"in h&&this.fromSchema(h.schema)};l.defaultValues=function(h){switch(h){case "salt":return{};case "iterationCount":return-1;case "keyLength":return 0;case "prf":return new V.a({algorithmId:"1.3.14.3.2.26",algorithmParams:new u.Null});default:throw Error("Invalid member name for PBKDF2Params class: "+h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(K.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.Choice({value:[new u.OctetString({name:h.saltPrimitive||
""}),V.a.schema(h.saltConstructed||{})]}),new u.Integer({name:h.iterationCount||""}),new u.Integer({name:h.keyLength||"",optional:!0}),V.a.schema(h.prf||{names:{optional:!0}})]})};l.prototype.fromSchema=function(h){Object(K.c)(h,["salt","iterationCount","keyLength","prf"]);h=u.compareSchema(h,h,l.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===h.verified)throw Error("Object's schema was not verified against input data for PBKDF2Params");
this.salt=h.result.salt;this.iterationCount=h.result.iterationCount.valueBlock.valueDec;"keyLength"in h.result&&(this.keyLength=h.result.keyLength.valueBlock.valueDec);"prf"in h.result&&(this.prf=new V.a({schema:h.result.prf}))};l.prototype.toSchema=function(){var h=[];h.push(this.salt);h.push(new u.Integer({value:this.iterationCount}));"keyLength"in this&&l.defaultValues("keyLength")!==this.keyLength&&h.push(new u.Integer({value:this.keyLength}));"prf"in this&&!1===l.defaultValues("prf").isEqual(this.prf)&&
h.push(this.prf.toSchema());return new u.Sequence({value:h})};l.prototype.toJSON=function(){var h={salt:this.salt.toJSON(),iterationCount:this.iterationCount};"keyLength"in this&&l.defaultValues("keyLength")!==this.keyLength&&(h.keyLength=this.keyLength);"prf"in this&&!1===l.defaultValues("prf").isEqual(this.prf)&&(h.prf=this.prf.toJSON());return h}},function(R,H){H=function(){return this}();try{H=H||(new Function("return this"))()}catch(E){"object"===typeof window&&(H=window)}R.exports=H},function(R,
H,E){function u(v,C){r.cipher.registerAlgorithm(v,function(){return new r.aes.Algorithm(v,C)})}function K(){b=!0;N=[0,1,2,4,8,16,32,64,128,27,54];for(var v=Array(256),C=0;128>C;++C)v[C]=C<<1,v[C+128]=C+128<<1^283;p=Array(256);z=Array(256);B=Array(4);G=Array(4);for(C=0;4>C;++C)B[C]=Array(256),G[C]=Array(256);var t=0,S=0;for(C=0;256>C;++C){var k=S^S<<1^S<<2^S<<3^S<<4;k=k>>8^k&255^99;p[t]=k;z[k]=t;var e=v[k];var q=v[t];var I=v[q];var g=v[I];e^=e<<24^k<<16^k<<8^k;I=(q^I^g)<<24^(t^g)<<16^(t^I^g)<<8^t^
q^g;for(var y=0;4>y;++y)B[y][t]=e,G[y][k]=I,e=e<<24|e>>>8,I=I<<24|I>>>8;0===t?t=S=1:(t=q^v[v[v[q^g]]],S^=v[v[S]])}}function V(v,C){v=v.slice(0);for(var t,S=1,k=v.length,e=f*(k+6+1),q=k;q<e;++q)t=v[q-1],0===q%k?(t=p[t>>>16&255]<<24^p[t>>>8&255]<<16^p[t&255]<<8^p[t>>>24]^N[S]<<24,S++):6<k&&4===q%k&&(t=p[t>>>24]<<24^p[t>>>16&255]<<16^p[t>>>8&255]<<8^p[t&255]),v[q]=v[q-k]^t;if(C){t=G[0];S=G[1];k=G[2];var I=G[3],g=v.slice(0);e=v.length;q=0;for(var y=e-f;q<e;q+=f,y-=f)if(0===q||q===e-f)g[q]=v[y],g[q+1]=
v[y+3],g[q+2]=v[y+2],g[q+3]=v[y+1];else for(var J=0;J<f;++J)C=v[y+J],g[q+(3&-J)]=t[p[C>>>24]]^S[p[C>>>16&255]]^k[p[C>>>8&255]]^I[p[C&255]];v=g}return v}function l(v,C,t,S){var k=v.length/4-1;if(S){var e=G[0];var q=G[1];var I=G[2];var g=G[3];var y=z}else e=B[0],q=B[1],I=B[2],g=B[3],y=p;var J=C[0]^v[0];var Q=C[S?3:1]^v[1];var aa=C[2]^v[2];C=C[S?1:3]^v[3];for(var Z=3,ca=1;ca<k;++ca){var fa=e[J>>>24]^q[Q>>>16&255]^I[aa>>>8&255]^g[C&255]^v[++Z];var ha=e[Q>>>24]^q[aa>>>16&255]^I[C>>>8&255]^g[J&255]^v[++Z];
var pa=e[aa>>>24]^q[C>>>16&255]^I[J>>>8&255]^g[Q&255]^v[++Z];C=e[C>>>24]^q[J>>>16&255]^I[Q>>>8&255]^g[aa&255]^v[++Z];J=fa;Q=ha;aa=pa}t[0]=y[J>>>24]<<24^y[Q>>>16&255]<<16^y[aa>>>8&255]<<8^y[C&255]^v[++Z];t[S?3:1]=y[Q>>>24]<<24^y[aa>>>16&255]<<16^y[C>>>8&255]<<8^y[J&255]^v[++Z];t[2]=y[aa>>>24]<<24^y[C>>>16&255]<<16^y[J>>>8&255]<<8^y[Q&255]^v[++Z];t[S?1:3]=y[C>>>24]<<24^y[J>>>16&255]<<16^y[Q>>>8&255]<<8^y[aa&255]^v[++Z]}function h(v){v=v||{};var C="AES-"+(v.mode||"CBC").toUpperCase();var t=v.decrypt?
r.cipher.createDecipher(C,v.key):r.cipher.createCipher(C,v.key);var S=t.start;t.start=function(k,e){var q=null;e instanceof r.util.ByteBuffer&&(q=e,e={});e=e||{};e.output=q;e.iv=k;S.call(t,e)};return t}var r=E(5);E(36);E(48);E(7);R.exports=r.aes=r.aes||{};r.aes.startEncrypting=function(v,C,t,S){v=h({key:v,output:t,decrypt:!1,mode:S});v.start(C);return v};r.aes.createEncryptionCipher=function(v,C){return h({key:v,output:null,decrypt:!1,mode:C})};r.aes.startDecrypting=function(v,C,t,S){v=h({key:v,output:t,
decrypt:!0,mode:S});v.start(C);return v};r.aes.createDecryptionCipher=function(v,C){return h({key:v,output:null,decrypt:!0,mode:C})};r.aes.Algorithm=function(v,C){b||K();var t=this;t.name=v;t.mode=new C({blockSize:16,cipher:{encrypt:function(S,k){return l(t._w,S,k,!1)},decrypt:function(S,k){return l(t._w,S,k,!0)}}});t._init=!1};r.aes.Algorithm.prototype.initialize=function(v){if(!this._init){var C=v.key;if("string"===typeof C&&(16===C.length||24===C.length||32===C.length))C=r.util.createBuffer(C);
else if(r.util.isArray(C)&&(16===C.length||24===C.length||32===C.length)){var t=C;C=r.util.createBuffer();for(var S=0;S<t.length;++S)C.putByte(t[S])}if(!r.util.isArray(C)){t=C;C=[];var k=t.length();if(16===k||24===k||32===k)for(k>>>=2,S=0;S<k;++S)C.push(t.getInt32())}if(!r.util.isArray(C)||4!==C.length&&6!==C.length&&8!==C.length)throw Error("Invalid key parameter.");t=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=V(C,v.decrypt&&!t);this._init=!0}};r.aes._expandKey=function(v,C){b||
K();return V(v,C)};r.aes._updateBlock=l;u("AES-ECB",r.cipher.modes.ecb);u("AES-CBC",r.cipher.modes.cbc);u("AES-CFB",r.cipher.modes.cfb);u("AES-OFB",r.cipher.modes.ofb);u("AES-CTR",r.cipher.modes.ctr);u("AES-GCM",r.cipher.modes.gcm);var b=!1,f=4,p,z,N,B,G},function(R,H,E){function u(V,l){K[V]=l;K[l]=V}H=E(5);H.pki=H.pki||{};var K=R.exports=H.pki.oids=H.oids=H.oids||{};u("1.2.840.113549.1.1.1","rsaEncryption");u("1.2.840.113549.1.1.4","md5WithRSAEncryption");u("1.2.840.113549.1.1.5","sha1WithRSAEncryption");
u("1.2.840.113549.1.1.7","RSAES-OAEP");u("1.2.840.113549.1.1.8","mgf1");u("1.2.840.113549.1.1.9","pSpecified");u("1.2.840.113549.1.1.10","RSASSA-PSS");u("1.2.840.113549.1.1.11","sha256WithRSAEncryption");u("1.2.840.113549.1.1.12","sha384WithRSAEncryption");u("1.2.840.113549.1.1.13","sha512WithRSAEncryption");u("1.3.101.112","EdDSA25519");u("1.2.840.10040.4.3","dsa-with-sha1");u("1.3.14.3.2.7","desCBC");u("1.3.14.3.2.26","sha1");u("2.16.840.1.101.3.4.2.1","sha256");u("2.16.840.1.101.3.4.2.2","sha384");
u("2.16.840.1.101.3.4.2.3","sha512");u("1.2.840.113549.2.5","md5");u("1.2.840.113549.1.7.1","data");u("1.2.840.113549.1.7.2","signedData");u("1.2.840.113549.1.7.3","envelopedData");u("1.2.840.113549.1.7.4","signedAndEnvelopedData");u("1.2.840.113549.1.7.5","digestedData");u("1.2.840.113549.1.7.6","encryptedData");u("1.2.840.113549.1.9.1","emailAddress");u("1.2.840.113549.1.9.2","unstructuredName");u("1.2.840.113549.1.9.3","contentType");u("1.2.840.113549.1.9.4","messageDigest");u("1.2.840.113549.1.9.5",
"signingTime");u("1.2.840.113549.1.9.6","counterSignature");u("1.2.840.113549.1.9.7","challengePassword");u("1.2.840.113549.1.9.8","unstructuredAddress");u("1.2.840.113549.1.9.14","extensionRequest");u("1.2.840.113549.1.9.20","friendlyName");u("1.2.840.113549.1.9.21","localKeyId");u("1.2.840.113549.1.9.22.1","x509Certificate");u("1.2.840.113549.1.12.10.1.1","keyBag");u("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");u("1.2.840.113549.1.12.10.1.3","certBag");u("1.2.840.113549.1.12.10.1.4","crlBag");
u("1.2.840.113549.1.12.10.1.5","secretBag");u("1.2.840.113549.1.12.10.1.6","safeContentsBag");u("1.2.840.113549.1.5.13","pkcs5PBES2");u("1.2.840.113549.1.5.12","pkcs5PBKDF2");u("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");u("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");u("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");u("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");u("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");u("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");
u("1.2.840.113549.2.7","hmacWithSHA1");u("1.2.840.113549.2.8","hmacWithSHA224");u("1.2.840.113549.2.9","hmacWithSHA256");u("1.2.840.113549.2.10","hmacWithSHA384");u("1.2.840.113549.2.11","hmacWithSHA512");u("1.2.840.113549.3.7","des-EDE3-CBC");u("2.16.840.1.101.3.4.1.2","aes128-CBC");u("2.16.840.1.101.3.4.1.22","aes192-CBC");u("2.16.840.1.101.3.4.1.42","aes256-CBC");u("2.5.4.3","commonName");u("2.5.4.5","serialName");u("2.5.4.6","countryName");u("2.5.4.7","localityName");u("2.5.4.8","stateOrProvinceName");
u("2.5.4.9","streetAddress");u("2.5.4.10","organizationName");u("2.5.4.11","organizationalUnitName");u("2.5.4.13","description");u("2.5.4.15","businessCategory");u("2.5.4.17","postalCode");u("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");u("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");u("2.16.840.1.113730.1.1","nsCertType");u("2.16.840.1.113730.1.13","nsComment");K["2.5.29.1"]="authorityKeyIdentifier";K["2.5.29.2"]="keyAttributes";K["2.5.29.3"]=
"certificatePolicies";K["2.5.29.4"]="keyUsageRestriction";K["2.5.29.5"]="policyMapping";K["2.5.29.6"]="subtreesConstraint";K["2.5.29.7"]="subjectAltName";K["2.5.29.8"]="issuerAltName";K["2.5.29.9"]="subjectDirectoryAttributes";K["2.5.29.10"]="basicConstraints";K["2.5.29.11"]="nameConstraints";K["2.5.29.12"]="policyConstraints";K["2.5.29.13"]="basicConstraints";u("2.5.29.14","subjectKeyIdentifier");u("2.5.29.15","keyUsage");K["2.5.29.16"]="privateKeyUsagePeriod";u("2.5.29.17","subjectAltName");u("2.5.29.18",
"issuerAltName");u("2.5.29.19","basicConstraints");K["2.5.29.20"]="cRLNumber";K["2.5.29.21"]="cRLReason";K["2.5.29.22"]="expirationDate";K["2.5.29.23"]="instructionCode";K["2.5.29.24"]="invalidityDate";K["2.5.29.25"]="cRLDistributionPoints";K["2.5.29.26"]="issuingDistributionPoint";K["2.5.29.27"]="deltaCRLIndicator";K["2.5.29.28"]="issuingDistributionPoint";K["2.5.29.29"]="certificateIssuer";K["2.5.29.30"]="nameConstraints";u("2.5.29.31","cRLDistributionPoints");u("2.5.29.32","certificatePolicies");
K["2.5.29.33"]="policyMappings";K["2.5.29.34"]="policyConstraints";u("2.5.29.35","authorityKeyIdentifier");K["2.5.29.36"]="policyConstraints";u("2.5.29.37","extKeyUsage");K["2.5.29.46"]="freshestCRL";K["2.5.29.54"]="inhibitAnyPolicy";u("1.3.6.1.4.1.11129.2.4.2","timestampList");u("1.3.6.1.5.5.7.1.1","authorityInfoAccess");u("1.3.6.1.5.5.7.3.1","serverAuth");u("1.3.6.1.5.5.7.3.2","clientAuth");u("1.3.6.1.5.5.7.3.3","codeSigning");u("1.3.6.1.5.5.7.3.4","emailProtection");u("1.3.6.1.5.5.7.3.8","timeStamping")},
function(R,H,E){function u(V){for(var l=V.name+": ",h=[],r=function(f,p){return" "+p},b=0;b<V.values.length;++b)h.push(V.values[b].replace(/^(\S+\r\n)/,r));l+=h.join(",")+"\r\n";h=0;V=-1;for(b=0;b<l.length;++b,++h)if(65<h&&-1!==V)h=l[V],","===h?(++V,l=l.substr(0,V)+"\r\n "+l.substr(V)):l=l.substr(0,V)+"\r\n"+h+l.substr(V+1),h=b-V-1,V=-1,++b;else if(" "===l[b]||"\t"===l[b]||","===l[b])V=b;return l}var K=E(5);E(7);R=R.exports=K.pem=K.pem||{};R.encode=function(V,l){l=l||{};var h="-----BEGIN "+V.type+
"-----\r\n";if(V.procType){var r={name:"Proc-Type",values:[String(V.procType.version),V.procType.type]};h+=u(r)}V.contentDomain&&(r={name:"Content-Domain",values:[V.contentDomain]},h+=u(r));V.dekInfo&&(r={name:"DEK-Info",values:[V.dekInfo.algorithm]},V.dekInfo.parameters&&r.values.push(V.dekInfo.parameters),h+=u(r));if(V.headers)for(r=0;r<V.headers.length;++r)h+=u(V.headers[r]);V.procType&&(h+="\r\n");h+=K.util.encode64(V.body,l.maxline||64)+"\r\n";return h+="-----END "+V.type+"-----\r\n"};R.decode=
function(V){for(var l=[],h=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,r=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,b=/\r?\n/,f;;){f=h.exec(V);if(!f)break;var p={type:f[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:K.util.decode64(f[3])};l.push(p);if(f[2]){for(var z=f[2].split(b),N=0;f&&N<z.length;){f=z[N].replace(/\s+$/,"");for(var B=N+1;B<z.length;++B){var G=z[B];if(!/\s/.test(G[0]))break;f+=G;N=B}if(f=f.match(r)){B=
{name:f[1],values:[]};G=f[2].split(",");for(var v=0;v<G.length;++v)B.values.push(G[v].replace(/^\s+/,""));if(p.procType)if(p.contentDomain||"Content-Domain"!==B.name)if(p.dekInfo||"DEK-Info"!==B.name)p.headers.push(B);else{if(0===B.values.length)throw Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');p.dekInfo={algorithm:G[0],parameters:G[1]||null}}else p.contentDomain=G[0]||"";else{if("Proc-Type"!==B.name)throw Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');
if(2!==B.values.length)throw Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');p.procType={version:G[0],type:G[1]}}}++N}if("ENCRYPTED"===p.procType&&!p.dekInfo)throw Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".');}}if(0===l.length)throw Error("Invalid PEM formatted message.");return l}},function(R,H,E){E.d(H,"a",function(){return V});var u=E(0);E.n(u);var K=E(1),V=function(l){l=void 0===l?{}:l;this.prime=
Object(K.e)(l,"prime",V.defaultValues("prime"));this.exponent=Object(K.e)(l,"exponent",V.defaultValues("exponent"));this.coefficient=Object(K.e)(l,"coefficient",V.defaultValues("coefficient"));"schema"in l&&this.fromSchema(l.schema);"json"in l&&this.fromJSON(l.json)};V.defaultValues=function(l){switch(l){case "prime":return new u.Integer;case "exponent":return new u.Integer;case "coefficient":return new u.Integer;default:throw Error("Invalid member name for OtherPrimeInfo class: "+l);}};V.schema=
function(l){l=void 0===l?{}:l;l=Object(K.e)(l,"names",{});return new u.Sequence({name:l.blockName||"",value:[new u.Integer({name:l.prime||""}),new u.Integer({name:l.exponent||""}),new u.Integer({name:l.coefficient||""})]})};V.prototype.fromSchema=function(l){Object(K.c)(l,["prime","exponent","coefficient"]);l=u.compareSchema(l,l,V.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===l.verified)throw Error("Object's schema was not verified against input data for OtherPrimeInfo");
this.prime=l.result.prime.convertFromDER();this.exponent=l.result.exponent.convertFromDER();this.coefficient=l.result.coefficient.convertFromDER()};V.prototype.toSchema=function(){return new u.Sequence({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})};V.prototype.toJSON=function(){return{r:Object(K.i)(Object(K.a)(this.prime.valueBlock.valueHex),!0,!0),d:Object(K.i)(Object(K.a)(this.exponent.valueBlock.valueHex),!0,!0),t:Object(K.i)(Object(K.a)(this.coefficient.valueBlock.valueHex),
!0,!0)}};V.prototype.fromJSON=function(l){if("r"in l)this.prime=new u.Integer({valueHex:Object(K.h)(Object(K.d)(l.r,!0))});else throw Error('Absent mandatory parameter "r"');if("d"in l)this.exponent=new u.Integer({valueHex:Object(K.h)(Object(K.d)(l.d,!0))});else throw Error('Absent mandatory parameter "d"');if("t"in l)this.coefficient=new u.Integer({valueHex:Object(K.h)(Object(K.d)(l.t,!0))});else throw Error('Absent mandatory parameter "t"');}},function(R,H,E){E.d(H,"a",function(){return l});var u=
E(0);E.n(u);var K=E(1),V=E(3),l=function(h){h=void 0===h?{}:h;this.hashAlgorithm=Object(K.e)(h,"hashAlgorithm",l.defaultValues("hashAlgorithm"));this.maskGenAlgorithm=Object(K.e)(h,"maskGenAlgorithm",l.defaultValues("maskGenAlgorithm"));this.saltLength=Object(K.e)(h,"saltLength",l.defaultValues("saltLength"));this.trailerField=Object(K.e)(h,"trailerField",l.defaultValues("trailerField"));"schema"in h&&this.fromSchema(h.schema)};l.defaultValues=function(h){switch(h){case "hashAlgorithm":return new V.a({algorithmId:"1.3.14.3.2.26",
algorithmParams:new u.Null});case "maskGenAlgorithm":return new V.a({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:(new V.a({algorithmId:"1.3.14.3.2.26",algorithmParams:new u.Null})).toSchema()});case "saltLength":return 20;case "trailerField":return 1;default:throw Error("Invalid member name for RSASSAPSSParams class: "+h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(K.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.Constructed({idBlock:{tagClass:3,tagNumber:0},
optional:!0,value:[V.a.schema(h.hashAlgorithm||{})]}),new u.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[V.a.schema(h.maskGenAlgorithm||{})]}),new u.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new u.Integer({name:h.saltLength||""})]}),new u.Constructed({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new u.Integer({name:h.trailerField||""})]})]})};l.prototype.fromSchema=function(h){Object(K.c)(h,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);
h=u.compareSchema(h,h,l.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===h.verified)throw Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in h.result&&(this.hashAlgorithm=new V.a({schema:h.result.hashAlgorithm}));"maskGenAlgorithm"in h.result&&(this.maskGenAlgorithm=new V.a({schema:h.result.maskGenAlgorithm}));"saltLength"in
h.result&&(this.saltLength=h.result.saltLength.valueBlock.valueDec);"trailerField"in h.result&&(this.trailerField=h.result.trailerField.valueBlock.valueDec)};l.prototype.toSchema=function(){var h=[];this.hashAlgorithm.isEqual(l.defaultValues("hashAlgorithm"))||h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]}));this.maskGenAlgorithm.isEqual(l.defaultValues("maskGenAlgorithm"))||h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]}));
this.saltLength!==l.defaultValues("saltLength")&&h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new u.Integer({value:this.saltLength})]}));this.trailerField!==l.defaultValues("trailerField")&&h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:3},value:[new u.Integer({value:this.trailerField})]}));return new u.Sequence({value:h})};l.prototype.toJSON=function(){var h={};this.hashAlgorithm.isEqual(l.defaultValues("hashAlgorithm"))||(h.hashAlgorithm=this.hashAlgorithm.toJSON());
this.maskGenAlgorithm.isEqual(l.defaultValues("maskGenAlgorithm"))||(h.maskGenAlgorithm=this.maskGenAlgorithm.toJSON());this.saltLength!==l.defaultValues("saltLength")&&(h.saltLength=this.saltLength);this.trailerField!==l.defaultValues("trailerField")&&(h.trailerField=this.trailerField);return h}},function(R,H,E){var u=E(5);E(17);E(7);(R.exports=u.hmac=u.hmac||{}).create=function(){var K=null,V=null,l=null,h={start:function(r,b){if(null!==r)if("string"===typeof r)if(r=r.toLowerCase(),r in u.md.algorithms)K=
u.md.algorithms[r].create();else throw Error('Unknown hash algorithm "'+r+'"');else K=r;if(null!==b){if("string"===typeof b)b=u.util.createBuffer(b);else if(u.util.isArray(b)){r=b;b=u.util.createBuffer();for(var f=0;f<r.length;++f)b.putByte(r[f])}var p=b.length();p>K.blockLength&&(K.start(),K.update(b.bytes()),b=K.digest());V=u.util.createBuffer();l=u.util.createBuffer();p=b.length();for(f=0;f<p;++f)r=b.at(f),V.putByte(54^r),l.putByte(92^r);if(p<K.blockLength)for(r=K.blockLength-p,f=0;f<r;++f)V.putByte(54),
l.putByte(92);V=V.bytes();l=l.bytes()}K.start();K.update(V)},update:function(r){K.update(r)},getMac:function(){var r=K.digest().bytes();K.start();K.update(l);K.update(r);return K.digest()}};h.digest=h.getMac;return h}},function(R,H,E){function u(h,r,b){for(var f,p,z,N,B,G,v,C,t=b.length();64<=t;){p=h.h0;z=h.h1;N=h.h2;B=h.h3;G=h.h4;for(C=0;16>C;++C)f=b.getInt32(),r[C]=f,v=B^z&(N^B),f=(p<<5|p>>>27)+v+G+1518500249+f,G=B,B=N,N=(z<<30|z>>>2)>>>0,z=p,p=f;for(;20>C;++C)f=r[C-3]^r[C-8]^r[C-14]^r[C-16],f=
f<<1|f>>>31,r[C]=f,v=B^z&(N^B),f=(p<<5|p>>>27)+v+G+1518500249+f,G=B,B=N,N=(z<<30|z>>>2)>>>0,z=p,p=f;for(;32>C;++C)f=r[C-3]^r[C-8]^r[C-14]^r[C-16],f=f<<1|f>>>31,r[C]=f,v=z^N^B,f=(p<<5|p>>>27)+v+G+1859775393+f,G=B,B=N,N=(z<<30|z>>>2)>>>0,z=p,p=f;for(;40>C;++C)f=r[C-6]^r[C-16]^r[C-28]^r[C-32],f=f<<2|f>>>30,r[C]=f,v=z^N^B,f=(p<<5|p>>>27)+v+G+1859775393+f,G=B,B=N,N=(z<<30|z>>>2)>>>0,z=p,p=f;for(;60>C;++C)f=r[C-6]^r[C-16]^r[C-28]^r[C-32],f=f<<2|f>>>30,r[C]=f,v=z&N|B&(z^N),f=(p<<5|p>>>27)+v+G+2400959708+
f,G=B,B=N,N=(z<<30|z>>>2)>>>0,z=p,p=f;for(;80>C;++C)f=r[C-6]^r[C-16]^r[C-28]^r[C-32],f=f<<2|f>>>30,r[C]=f,v=z^N^B,f=(p<<5|p>>>27)+v+G+3395469782+f,G=B,B=N,N=(z<<30|z>>>2)>>>0,z=p,p=f;h.h0=h.h0+p|0;h.h1=h.h1+z|0;h.h2=h.h2+N|0;h.h3=h.h3+B|0;h.h4=h.h4+G|0;t-=64}}var K=E(5);E(17);E(7);R=R.exports=K.sha1=K.sha1||{};K.md.sha1=K.md.algorithms.sha1=R;R.create=function(){l||(V=String.fromCharCode(128),V+=K.util.fillString(String.fromCharCode(0),64),l=!0);var h=null,r=K.util.createBuffer(),b=Array(80),f={algorithm:"sha1",
blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){f.messageLength=0;f.fullMessageLength=f.messageLength64=[];for(var p=f.messageLengthSize/4,z=0;z<p;++z)f.fullMessageLength.push(0);r=K.util.createBuffer();h={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return f}};f.start();f.update=function(p,z){"utf8"===z&&(p=K.util.encodeUtf8(p));z=p.length;f.messageLength+=z;z=[z/4294967296>>>0,z>>>0];for(var N=f.fullMessageLength.length-
1;0<=N;--N)f.fullMessageLength[N]+=z[1],z[1]=z[0]+(f.fullMessageLength[N]/4294967296>>>0),f.fullMessageLength[N]>>>=0,z[0]=z[1]/4294967296>>>0;r.putBytes(p);u(h,b,r);(2048<r.read||0===r.length())&&r.compact();return f};f.digest=function(){var p=K.util.createBuffer();p.putBytes(r.bytes());p.putBytes(V.substr(0,f.blockLength-(f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize&f.blockLength-1)));for(var z,N,B=8*f.fullMessageLength[0],G=0;G<f.fullMessageLength.length-1;++G)z=8*f.fullMessageLength[G+
1],N=z/4294967296>>>0,B+=N,p.putInt32(B>>>0),B=z>>>0;p.putInt32(B);z={h0:h.h0,h1:h.h1,h2:h.h2,h3:h.h3,h4:h.h4};u(z,b,p);p=K.util.createBuffer();p.putInt32(z.h0);p.putInt32(z.h1);p.putInt32(z.h2);p.putInt32(z.h3);p.putInt32(z.h4);return p};return f};var V=null,l=!1},function(R,H,E){E.d(H,"a",function(){return V});var u=E(0);E.n(u);var K=E(1),V=function(l){l=void 0===l?{}:l;this.modulus=Object(K.e)(l,"modulus",V.defaultValues("modulus"));this.publicExponent=Object(K.e)(l,"publicExponent",V.defaultValues("publicExponent"));
"schema"in l&&this.fromSchema(l.schema);"json"in l&&this.fromJSON(l.json)};V.defaultValues=function(l){switch(l){case "modulus":return new u.Integer;case "publicExponent":return new u.Integer;default:throw Error("Invalid member name for RSAPublicKey class: "+l);}};V.schema=function(l){l=void 0===l?{}:l;l=Object(K.e)(l,"names",{});return new u.Sequence({name:l.blockName||"",value:[new u.Integer({name:l.modulus||""}),new u.Integer({name:l.publicExponent||""})]})};V.prototype.fromSchema=function(l){Object(K.c)(l,
["modulus","publicExponent"]);l=u.compareSchema(l,l,V.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===l.verified)throw Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=l.result.modulus.convertFromDER(256);this.publicExponent=l.result.publicExponent};V.prototype.toSchema=function(){return new u.Sequence({value:[this.modulus.convertToDER(),this.publicExponent]})};V.prototype.toJSON=function(){return{n:Object(K.i)(Object(K.a)(this.modulus.valueBlock.valueHex),
!0,!0,!0),e:Object(K.i)(Object(K.a)(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}};V.prototype.fromJSON=function(l){if("n"in l){var h=Object(K.h)(Object(K.d)(l.n,!0));this.modulus=new u.Integer({valueHex:h.slice(0,Math.pow(2,Object(K.g)(h.byteLength)))})}else throw Error('Absent mandatory parameter "n"');if("e"in l)this.publicExponent=new u.Integer({valueHex:Object(K.h)(Object(K.d)(l.e,!0)).slice(0,3)});else throw Error('Absent mandatory parameter "e"');}},function(R,H,E){E.d(H,"a",function(){return l});
var u=E(0);E.n(u);var K=E(1),V=E(13),l=function(h){h=void 0===h?{}:h;this.version=Object(K.e)(h,"version",l.defaultValues("version"));this.privateKey=Object(K.e)(h,"privateKey",l.defaultValues("privateKey"));"namedCurve"in h&&(this.namedCurve=Object(K.e)(h,"namedCurve",l.defaultValues("namedCurve")));"publicKey"in h&&(this.publicKey=Object(K.e)(h,"publicKey",l.defaultValues("publicKey")));"schema"in h&&this.fromSchema(h.schema);"json"in h&&this.fromJSON(h.json)};l.defaultValues=function(h){switch(h){case "version":return 1;
case "privateKey":return new u.OctetString;case "namedCurve":return"";case "publicKey":return new V.a;default:throw Error("Invalid member name for ECCPrivateKey class: "+h);}};l.compareWithDefault=function(h,r){switch(h){case "version":return r===l.defaultValues(h);case "privateKey":return r.isEqual(l.defaultValues(h));case "namedCurve":return""===r;case "publicKey":return V.a.compareWithDefault("namedCurve",r.namedCurve)&&V.a.compareWithDefault("x",r.x)&&V.a.compareWithDefault("y",r.y);default:throw Error("Invalid member name for ECCPrivateKey class: "+
h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(K.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.Integer({name:h.version||""}),new u.OctetString({name:h.privateKey||""}),new u.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new u.ObjectIdentifier({name:h.namedCurve||""})]}),new u.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new u.BitString({name:h.publicKey||""})]})]})};l.prototype.fromSchema=function(h){Object(K.c)(h,["version",
"privateKey","namedCurve","publicKey"]);h=u.compareSchema(h,h,l.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===h.verified)throw Error("Object's schema was not verified against input data for ECPrivateKey");this.version=h.result.version.valueBlock.valueDec;this.privateKey=h.result.privateKey;"namedCurve"in h.result&&(this.namedCurve=h.result.namedCurve.valueBlock.toString());"publicKey"in h.result&&(h={schema:h.result.publicKey.valueBlock.valueHex},
"namedCurve"in this&&(h.namedCurve=this.namedCurve),this.publicKey=new V.a(h))};l.prototype.toSchema=function(){var h=[new u.Integer({value:this.version}),this.privateKey];"namedCurve"in this&&h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new u.ObjectIdentifier({value:this.namedCurve})]}));"publicKey"in this&&h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new u.BitString({valueHex:this.publicKey.toSchema().toBER(!1)})]}));return new u.Sequence({value:h})};l.prototype.toJSON=
function(){if(!1==="namedCurve"in this||l.compareWithDefault("namedCurve",this.namedCurve))throw Error('Not enough information for making JSON: absent "namedCurve" value');var h="";switch(this.namedCurve){case "1.2.840.10045.3.1.7":h="P-256";break;case "1.3.132.0.34":h="P-384";break;case "1.3.132.0.35":h="P-521"}h={crv:h,d:Object(K.i)(Object(K.a)(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){var r=this.publicKey.toJSON();h.x=r.x;h.y=r.y}return h};l.prototype.fromJSON=function(h){var r=
0;if("crv"in h)switch(h.crv.toUpperCase()){case "P-256":this.namedCurve="1.2.840.10045.3.1.7";r=32;break;case "P-384":this.namedCurve="1.3.132.0.34";r=48;break;case "P-521":this.namedCurve="1.3.132.0.35",r=66}else throw Error('Absent mandatory parameter "crv"');if("d"in h){var b=Object(K.h)(Object(K.d)(h.d,!0));if(b.byteLength<r){r=new ArrayBuffer(r);var f=new Uint8Array(r);b=new Uint8Array(b);f.set(b,1);this.privateKey=new u.OctetString({valueHex:r})}else this.privateKey=new u.OctetString({valueHex:b.slice(0,
r)})}else throw Error('Absent mandatory parameter "d"');"x"in h&&"y"in h&&(this.publicKey=new V.a({json:h}))}},function(R,H,E){E.d(H,"a",function(){return l});var u=E(0);E.n(u);var K=E(1),V=E(23),l=function(h){h=void 0===h?{}:h;this.version=Object(K.e)(h,"version",l.defaultValues("version"));this.modulus=Object(K.e)(h,"modulus",l.defaultValues("modulus"));this.publicExponent=Object(K.e)(h,"publicExponent",l.defaultValues("publicExponent"));this.privateExponent=Object(K.e)(h,"privateExponent",l.defaultValues("privateExponent"));
this.prime1=Object(K.e)(h,"prime1",l.defaultValues("prime1"));this.prime2=Object(K.e)(h,"prime2",l.defaultValues("prime2"));this.exponent1=Object(K.e)(h,"exponent1",l.defaultValues("exponent1"));this.exponent2=Object(K.e)(h,"exponent2",l.defaultValues("exponent2"));this.coefficient=Object(K.e)(h,"coefficient",l.defaultValues("coefficient"));"otherPrimeInfos"in h&&(this.otherPrimeInfos=Object(K.e)(h,"otherPrimeInfos",l.defaultValues("otherPrimeInfos")));"schema"in h&&this.fromSchema(h.schema);"json"in
h&&this.fromJSON(h.json)};l.defaultValues=function(h){switch(h){case "version":return 0;case "modulus":return new u.Integer;case "publicExponent":return new u.Integer;case "privateExponent":return new u.Integer;case "prime1":return new u.Integer;case "prime2":return new u.Integer;case "exponent1":return new u.Integer;case "exponent2":return new u.Integer;case "coefficient":return new u.Integer;case "otherPrimeInfos":return[];default:throw Error("Invalid member name for RSAPrivateKey class: "+h);}};
l.schema=function(h){h=void 0===h?{}:h;h=Object(K.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.Integer({name:h.version||""}),new u.Integer({name:h.modulus||""}),new u.Integer({name:h.publicExponent||""}),new u.Integer({name:h.privateExponent||""}),new u.Integer({name:h.prime1||""}),new u.Integer({name:h.prime2||""}),new u.Integer({name:h.exponent1||""}),new u.Integer({name:h.exponent2||""}),new u.Integer({name:h.coefficient||""}),new u.Sequence({optional:!0,value:[new u.Repeated({name:h.otherPrimeInfosName||
"",value:V.a.schema(h.otherPrimeInfo||{})})]})]})};l.prototype.fromSchema=function(h){Object(K.c)(h,"version modulus publicExponent privateExponent prime1 prime2 exponent1 exponent2 coefficient otherPrimeInfos".split(" "));h=u.compareSchema(h,h,l.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));
if(!1===h.verified)throw Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=h.result.version.valueBlock.valueDec;this.modulus=h.result.modulus.convertFromDER(256);this.publicExponent=h.result.publicExponent;this.privateExponent=h.result.privateExponent.convertFromDER(256);this.prime1=h.result.prime1.convertFromDER(128);this.prime2=h.result.prime2.convertFromDER(128);this.exponent1=h.result.exponent1.convertFromDER(128);this.exponent2=h.result.exponent2.convertFromDER(128);
this.coefficient=h.result.coefficient.convertFromDER(128);"otherPrimeInfos"in h.result&&(this.otherPrimeInfos=Array.from(h.result.otherPrimeInfos,function(r){return new V.a({schema:r})}))};l.prototype.toSchema=function(){var h=[];h.push(new u.Integer({value:this.version}));h.push(this.modulus.convertToDER());h.push(this.publicExponent);h.push(this.privateExponent.convertToDER());h.push(this.prime1.convertToDER());h.push(this.prime2.convertToDER());h.push(this.exponent1.convertToDER());h.push(this.exponent2.convertToDER());
h.push(this.coefficient.convertToDER());"otherPrimeInfos"in this&&h.push(new u.Sequence({value:Array.from(this.otherPrimeInfos,function(r){return r.toSchema()})}));return new u.Sequence({value:h})};l.prototype.toJSON=function(){var h={n:Object(K.i)(Object(K.a)(this.modulus.valueBlock.valueHex),!0,!0,!0),e:Object(K.i)(Object(K.a)(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:Object(K.i)(Object(K.a)(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:Object(K.i)(Object(K.a)(this.prime1.valueBlock.valueHex),
!0,!0,!0),q:Object(K.i)(Object(K.a)(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:Object(K.i)(Object(K.a)(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:Object(K.i)(Object(K.a)(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:Object(K.i)(Object(K.a)(this.coefficient.valueBlock.valueHex),!0,!0,!0)};"otherPrimeInfos"in this&&(h.oth=Array.from(this.otherPrimeInfos,function(r){return r.toJSON()}));return h};l.prototype.fromJSON=function(h){if("n"in h)this.modulus=new u.Integer({valueHex:Object(K.h)(Object(K.d)(h.n,
!0,!0))});else throw Error('Absent mandatory parameter "n"');if("e"in h)this.publicExponent=new u.Integer({valueHex:Object(K.h)(Object(K.d)(h.e,!0,!0))});else throw Error('Absent mandatory parameter "e"');if("d"in h)this.privateExponent=new u.Integer({valueHex:Object(K.h)(Object(K.d)(h.d,!0,!0))});else throw Error('Absent mandatory parameter "d"');if("p"in h)this.prime1=new u.Integer({valueHex:Object(K.h)(Object(K.d)(h.p,!0,!0))});else throw Error('Absent mandatory parameter "p"');if("q"in h)this.prime2=
new u.Integer({valueHex:Object(K.h)(Object(K.d)(h.q,!0,!0))});else throw Error('Absent mandatory parameter "q"');if("dp"in h)this.exponent1=new u.Integer({valueHex:Object(K.h)(Object(K.d)(h.dp,!0,!0))});else throw Error('Absent mandatory parameter "dp"');if("dq"in h)this.exponent2=new u.Integer({valueHex:Object(K.h)(Object(K.d)(h.dq,!0,!0))});else throw Error('Absent mandatory parameter "dq"');if("qi"in h)this.coefficient=new u.Integer({valueHex:Object(K.h)(Object(K.d)(h.qi,!0,!0))});else throw Error('Absent mandatory parameter "qi"');
"oth"in h&&(this.otherPrimeInfos=Array.from(h.oth,function(r){return new V.a({json:r})}))}},function(R,H,E){E.d(H,"a",function(){return l});var u=E(0);E.n(u);var K=E(1),V=E(3),l=function(h){h=void 0===h?{}:h;this.keyDerivationFunc=Object(K.e)(h,"keyDerivationFunc",l.defaultValues("keyDerivationFunc"));this.encryptionScheme=Object(K.e)(h,"encryptionScheme",l.defaultValues("encryptionScheme"));"schema"in h&&this.fromSchema(h.schema)};l.defaultValues=function(h){switch(h){case "keyDerivationFunc":return new V.a;
case "encryptionScheme":return new V.a;default:throw Error("Invalid member name for PBES2Params class: "+h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(K.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[V.a.schema(h.keyDerivationFunc||{}),V.a.schema(h.encryptionScheme||{})]})};l.prototype.fromSchema=function(h){Object(K.c)(h,["keyDerivationFunc","encryptionScheme"]);h=u.compareSchema(h,h,l.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));
if(!1===h.verified)throw Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new V.a({schema:h.result.keyDerivationFunc});this.encryptionScheme=new V.a({schema:h.result.encryptionScheme})};l.prototype.toSchema=function(){return new u.Sequence({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})};l.prototype.toJSON=function(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}},
function(R,H){function E(){throw Error("setTimeout has not been defined");}function u(){throw Error("clearTimeout has not been defined");}function K(v){if(f===setTimeout)return setTimeout(v,0);if((f===E||!f)&&setTimeout)return f=setTimeout,setTimeout(v,0);try{return f(v,0)}catch(C){try{return f.call(null,v,0)}catch(t){return f.call(this,v,0)}}}function V(v){if(p===clearTimeout)return clearTimeout(v);if((p===u||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(v);try{return p(v)}catch(C){try{return p.call(null,
v)}catch(t){return p.call(this,v)}}}function l(){N&&B&&(N=!1,B.length?z=B.concat(z):G=-1,z.length&&h())}function h(){if(!N){var v=K(l);N=!0;for(var C=z.length;C;){B=z;for(z=[];++G<C;)B&&B[G].run();G=-1;C=z.length}B=null;N=!1;V(v)}}function r(v,C){this.fun=v;this.array=C}function b(){}R=R.exports={};try{var f="function"===typeof setTimeout?setTimeout:E}catch(v){f=E}try{var p="function"===typeof clearTimeout?clearTimeout:u}catch(v){p=u}var z=[],N=!1,B,G=-1;R.nextTick=function(v){var C=Array(arguments.length-
1);if(1<arguments.length)for(var t=1;t<arguments.length;t++)C[t-1]=arguments[t];z.push(new r(v,C));1!==z.length||N||K(h)};r.prototype.run=function(){this.fun.apply(null,this.array)};R.title="browser";R.browser=!0;R.env={};R.argv=[];R.version="";R.versions={};R.on=b;R.addListener=b;R.once=b;R.off=b;R.removeListener=b;R.removeAllListeners=b;R.emit=b;R.prependListener=b;R.prependOnceListener=b;R.listeners=function(v){return[]};R.binding=function(v){throw Error("process.binding is not supported");};R.cwd=
function(){return"/"};R.chdir=function(v){throw Error("process.chdir is not supported");};R.umask=function(){return 0}},function(R,H,E){function u(G,v){l.cipher.registerAlgorithm(G,function(){return new l.des.Algorithm(G,v)})}function K(G,v,C,t){var S=32===G.length?3:9;t=3===S?t?[30,-2,-2]:[0,32,2]:t?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var k=v[0],e=v[1];v=(k>>>4^e)&252645135;e^=v;k^=v<<4;v=(k>>>16^e)&65535;e^=v;k^=v<<16;v=(e>>>2^k)&858993459;k^=v;e^=v<<2;v=(e>>>8^k)&16711935;k^=
v;e^=v<<8;v=(k>>>1^e)&1431655765;e^=v;k^=v<<1;k=k<<1|k>>>31;e=e<<1|e>>>31;for(var q=0;q<S;q+=3){for(var I=t[q+1],g=t[q+2],y=t[q];y!=I;y+=g){var J=e^G[y],Q=(e>>>4|e<<28)^G[y+1];v=k;k=e;e=v^(r[J>>>24&63]|f[J>>>16&63]|z[J>>>8&63]|B[J&63]|h[Q>>>24&63]|b[Q>>>16&63]|p[Q>>>8&63]|N[Q&63])}v=k;k=e;e=v}k=k>>>1|k<<31;e=e>>>1|e<<31;v=(k>>>1^e)&1431655765;e^=v;k^=v<<1;v=(e>>>8^k)&16711935;k^=v;e^=v<<8;v=(e>>>2^k)&858993459;k^=v;e^=v<<2;v=(k>>>16^e)&65535;e^=v;k^=v<<16;v=(k>>>4^e)&252645135;C[0]=k^v<<4;C[1]=e^
v}function V(G){G=G||{};var v="DES-"+(G.mode||"CBC").toUpperCase();var C=G.decrypt?l.cipher.createDecipher(v,G.key):l.cipher.createCipher(v,G.key);var t=C.start;C.start=function(S,k){var e=null;k instanceof l.util.ByteBuffer&&(e=k,k={});k=k||{};k.output=e;k.iv=S;t.call(C,k)};return C}var l=E(5);E(36);E(48);E(7);R.exports=l.des=l.des||{};l.des.startEncrypting=function(G,v,C,t){G=V({key:G,output:C,decrypt:!1,mode:t||(null===v?"ECB":"CBC")});G.start(v);return G};l.des.createEncryptionCipher=function(G,
v){return V({key:G,output:null,decrypt:!1,mode:v})};l.des.startDecrypting=function(G,v,C,t){G=V({key:G,output:C,decrypt:!0,mode:t||(null===v?"ECB":"CBC")});G.start(v);return G};l.des.createDecryptionCipher=function(G,v){return V({key:G,output:null,decrypt:!0,mode:v})};l.des.Algorithm=function(G,v){var C=this;C.name=G;C.mode=new v({blockSize:8,cipher:{encrypt:function(t,S){return K(C._keys,t,S,!1)},decrypt:function(t,S){return K(C._keys,t,S,!0)}}});C._init=!1};l.des.Algorithm.prototype.initialize=
function(G){if(!this._init){G=l.util.createBuffer(G.key);if(0===this.name.indexOf("3DES")&&24!==G.length())throw Error("Invalid Triple-DES key size: "+8*G.length());for(var v=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],C=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],t=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,
16779272],S=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],k=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],e=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],q=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],I=[0,65536,2048,67584,536870912,536936448,
536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],g=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],y=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],J=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],Q=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,
69206016,85983232,69206528,85983744],aa=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],Z=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],ca=8<G.length()?3:1,fa=[],ha=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],pa=0,x,n=0;n<ca;n++){var w=G.getInt32(),F=G.getInt32();x=(w>>>4^F)&252645135;F^=x;w^=x<<4;x=(F>>>-16^w)&65535;w^=x;F^=x<<-16;x=(w>>>2^F)&858993459;F^=x;w^=x<<2;x=(F>>>-16^w)&65535;w^=x;F^=x<<-16;x=(w>>>1^F)&1431655765;F^=
x;w^=x<<1;x=(F>>>8^w)&16711935;w^=x;F^=x<<8;x=(w>>>1^F)&1431655765;F^=x;w^=x<<1;x=w<<8|F>>>20&240;w=F<<24|F<<8&16711680|F>>>8&65280|F>>>24&240;F=x;for(var W=0;W<ha.length;++W){ha[W]?(w=w<<2|w>>>26,F=F<<2|F>>>26):(w=w<<1|w>>>27,F=F<<1|F>>>27);w&=-15;F&=-15;var P=v[w>>>28]|C[w>>>24&15]|t[w>>>20&15]|S[w>>>16&15]|k[w>>>12&15]|e[w>>>8&15]|q[w>>>4&15],O=I[F>>>28]|g[F>>>24&15]|y[F>>>20&15]|J[F>>>16&15]|Q[F>>>12&15]|aa[F>>>8&15]|Z[F>>>4&15];x=(O>>>16^P)&65535;fa[pa++]=P^x;fa[pa++]=O^x<<16}}this._keys=fa;
this._init=!0}};u("DES-ECB",l.cipher.modes.ecb);u("DES-CBC",l.cipher.modes.cbc);u("DES-CFB",l.cipher.modes.cfb);u("DES-OFB",l.cipher.modes.ofb);u("DES-CTR",l.cipher.modes.ctr);u("3DES-ECB",l.cipher.modes.ecb);u("3DES-CBC",l.cipher.modes.cbc);u("3DES-CFB",l.cipher.modes.cfb);u("3DES-OFB",l.cipher.modes.ofb);u("3DES-CTR",l.cipher.modes.ctr);var h=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,
16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],r=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,
1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],b=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,
512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],f=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,
8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],p=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,
524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],z=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,
0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],N=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,
2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],B=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,
268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696]},function(R,H,E){function u(g,y,J){var Q=p.util.createBuffer();y=Math.ceil(y.n.bitLength()/8);if(g.length>y-11)throw Q=Error("Message is too long for PKCS#1 v1.5 padding."),Q.length=g.length,Q.max=y-11,Q;Q.putByte(0);Q.putByte(J);
y=y-3-g.length;if(0===J||1===J){J=0===J?0:255;for(var aa=0;aa<y;++aa)Q.putByte(J)}else for(;0<y;){var Z=0,ca=p.random.getBytes(y);for(aa=0;aa<y;++aa)J=ca.charCodeAt(aa),0===J?++Z:Q.putByte(J);y=Z}Q.putByte(0);Q.putBytes(g);return Q}function K(g,y,J,Q){y=Math.ceil(y.n.bitLength()/8);g=p.util.createBuffer(g);var aa=g.getByte(),Z=g.getByte();if(0!==aa||J&&0!==Z&&1!==Z||!J&&2!=Z||J&&0===Z&&"undefined"===typeof Q)throw Error("Encryption block is invalid.");J=0;if(0===Z)for(J=y-3-Q,Q=0;Q<J;++Q){if(0!==
g.getByte())throw Error("Encryption block is invalid.");}else if(1===Z)for(J=0;1<g.length();){if(255!==g.getByte()){--g.read;break}++J}else if(2===Z)for(J=0;1<g.length();){if(0===g.getByte()){--g.read;break}++J}if(0!==g.getByte()||J!==y-3-g.length())throw Error("Encryption block is invalid.");return g.getBytes()}function V(g,y,J){function Q(){aa(g.pBits,function(fa,ha){if(fa)return J(fa);g.p=ha;if(null!==g.q)return Z(fa,g.q);aa(g.qBits,Z)})}function aa(fa,ha){p.prime.generateProbablePrime(fa,ca,ha)}
function Z(fa,ha){if(fa)return J(fa);g.q=ha;0>g.p.compareTo(g.q)&&(fa=g.p,g.p=g.q,g.q=fa);0!==g.p.subtract(z.ONE).gcd(g.e).compareTo(z.ONE)?(g.p=null,Q()):0!==g.q.subtract(z.ONE).gcd(g.e).compareTo(z.ONE)?(g.q=null,aa(g.qBits,Z)):(g.p1=g.p.subtract(z.ONE),g.q1=g.q.subtract(z.ONE),g.phi=g.p1.multiply(g.q1),0!==g.phi.gcd(g.e).compareTo(z.ONE)?(g.p=g.q=null,Q()):(g.n=g.p.multiply(g.q),g.n.bitLength()!==g.bits?(g.q=null,aa(g.qBits,Z)):(fa=g.e.modInverse(g.phi),g.keys={privateKey:v.rsa.setPrivateKey(g.n,
g.e,fa,g.p,g.q,fa.mod(g.p1),fa.mod(g.q1),g.q.modInverse(g.p)),publicKey:v.rsa.setPublicKey(g.n,g.e)},J(null,g.keys))))}"function"===typeof y&&(J=y,y={});y=y||{};var ca={algorithm:{name:y.algorithm||"PRIMEINC",options:{workers:y.workers||2,workLoad:y.workLoad||100,workerScript:y.workerScript}}};"prng"in y&&(ca.prng=y.prng);Q()}function l(g){g=g.toString(16);"8"<=g[0]&&(g="00"+g);g=p.util.hexToBytes(g);return 1<g.length&&(0===g.charCodeAt(0)&&0===(g.charCodeAt(1)&128)||255===g.charCodeAt(0)&&128===
(g.charCodeAt(1)&128))?g.substr(1):g}function h(g){return 100>=g?27:150>=g?18:200>=g?15:250>=g?12:300>=g?9:350>=g?8:400>=g?7:500>=g?6:600>=g?5:800>=g?4:1250>=g?3:2}function r(g){return"undefined"!==typeof G.globalScope&&"object"===typeof G.globalScope.crypto&&"object"===typeof G.globalScope.crypto.subtle&&"function"===typeof G.globalScope.crypto.subtle[g]}function b(g){return"undefined"!==typeof G.globalScope&&"object"===typeof G.globalScope.msCrypto&&"object"===typeof G.globalScope.msCrypto.subtle&&
"function"===typeof G.globalScope.msCrypto.subtle[g]}function f(g){g=p.util.hexToBytes(g.toString(16));for(var y=new Uint8Array(g.length),J=0;J<g.length;++J)y[J]=g.charCodeAt(J);return y}var p=E(5);E(16);E(34);E(21);E(55);E(56);E(14);E(7);if("undefined"===typeof z)var z=p.jsbn.BigInteger;var N=p.util.isNodejs?E(39):null,B=p.asn1,G=p.util;p.pki=p.pki||{};R.exports=p.pki.rsa=p.rsa=p.rsa||{};var v=p.pki,C=[6,4,2,4,2,4,6,2],t={name:"PrivateKeyInfo",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,
value:[{name:"PrivateKeyInfo.version",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:B.Class.UNIVERSAL,type:B.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:B.Class.UNIVERSAL,type:B.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},S={name:"RSAPrivateKey",
tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:B.Class.UNIVERSAL,
type:B.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,
constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},k={name:"RSAPublicKey",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:B.Class.UNIVERSAL,type:B.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},
e=p.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:B.Class.UNIVERSAL,type:B.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:B.Class.UNIVERSAL,type:B.Type.BITSTRING,
constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:B.Class.UNIVERSAL,type:B.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},q=function(g){if(g.algorithm in v.oids)var y=v.oids[g.algorithm];else throw y=Error("Unknown message digest algorithm."),y.algorithm=g.algorithm,y;var J=B.oidToDer(y).getBytes();y=B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[]);var Q=B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[]);Q.value.push(B.create(B.Class.UNIVERSAL,
B.Type.OID,!1,J));Q.value.push(B.create(B.Class.UNIVERSAL,B.Type.NULL,!1,""));g=B.create(B.Class.UNIVERSAL,B.Type.OCTETSTRING,!1,g.digest().getBytes());y.value.push(Q);y.value.push(g);return B.toDer(y).getBytes()},I=function(g,y,J){if(J)return g.modPow(y.e,y.n);if(!y.p||!y.q)return g.modPow(y.d,y.n);y.dP||(y.dP=y.d.mod(y.p.subtract(z.ONE)));y.dQ||(y.dQ=y.d.mod(y.q.subtract(z.ONE)));y.qInv||(y.qInv=y.q.modInverse(y.p));do J=new z(p.util.bytesToHex(p.random.getBytes(y.n.bitLength()/8)),16);while(0<=
J.compareTo(y.n)||!J.gcd(y.n).equals(z.ONE));g=g.multiply(J.modPow(y.e,y.n)).mod(y.n);var Q=g.mod(y.p).modPow(y.dP,y.p);for(g=g.mod(y.q).modPow(y.dQ,y.q);0>Q.compareTo(g);)Q=Q.add(y.p);g=Q.subtract(g).multiply(y.qInv).mod(y.p).multiply(y.q).add(g);return g=g.multiply(J.modInverse(y.n)).mod(y.n)};v.rsa.encrypt=function(g,y,J){var Q=J,aa=Math.ceil(y.n.bitLength()/8);!1!==J&&!0!==J?(Q=2===J,J=u(g,y,J)):(J=p.util.createBuffer(),J.putBytes(g));g=new z(J.toHex(),16);y=I(g,y,Q).toString(16);Q=p.util.createBuffer();
for(aa-=Math.ceil(y.length/2);0<aa;)Q.putByte(0),--aa;Q.putBytes(p.util.hexToBytes(y));return Q.getBytes()};v.rsa.decrypt=function(g,y,J,Q){var aa=Math.ceil(y.n.bitLength()/8);if(g.length!==aa)throw y=Error("Encrypted message length is invalid."),y.length=g.length,y.expected=aa,y;g=new z(p.util.createBuffer(g).toHex(),16);if(0<=g.compareTo(y.n))throw Error("Encrypted message is invalid.");g=I(g,y,J).toString(16);var Z=p.util.createBuffer();for(aa-=Math.ceil(g.length/2);0<aa;)Z.putByte(0),--aa;Z.putBytes(p.util.hexToBytes(g));
return!1!==Q?K(Z.getBytes(),y,J):Z.getBytes()};v.rsa.createKeyPairGenerationState=function(g,y,J){"string"===typeof g&&(g=parseInt(g,10));g=g||2048;J=J||{};var Q=J.prng||p.random,aa={nextBytes:function(Z){for(var ca=Q.getBytesSync(Z.length),fa=0;fa<Z.length;++fa)Z[fa]=ca.charCodeAt(fa)}};J=J.algorithm||"PRIMEINC";if("PRIMEINC"===J)g={algorithm:J,state:0,bits:g,rng:aa,eInt:y||65537,e:new z(null),p:null,q:null,qBits:g>>1,pBits:g-(g>>1),pqState:0,num:null,keys:null},g.e.fromInt(g.eInt);else throw Error("Invalid key generation algorithm: "+
J);return g};v.rsa.stepKeyPairGenerationState=function(g,y){"algorithm"in g||(g.algorithm="PRIMEINC");var J=new z(null);J.fromInt(30);for(var Q=0,aa=function(pa,x){return pa|x},Z=+new Date,ca,fa=0;null===g.keys&&(0>=y||fa<y);){if(0===g.state){ca=null===g.p?g.pBits:g.qBits;var ha=ca-1;0===g.pqState?(g.num=new z(ca,g.rng),g.num.testBit(ha)||g.num.bitwiseTo(z.ONE.shiftLeft(ha),aa,g.num),g.num.dAddOffset(31-g.num.mod(J).byteValue(),0),Q=0,++g.pqState):1===g.pqState?g.num.bitLength()>ca?g.pqState=0:g.num.isProbablePrime(h(g.num.bitLength()))?
++g.pqState:g.num.dAddOffset(C[Q++%8],0):2===g.pqState?g.pqState=0===g.num.subtract(z.ONE).gcd(g.e).compareTo(z.ONE)?3:0:3===g.pqState&&(g.pqState=0,null===g.p?g.p=g.num:g.q=g.num,null!==g.p&&null!==g.q&&++g.state,g.num=null)}else 1===g.state?(0>g.p.compareTo(g.q)&&(g.num=g.p,g.p=g.q,g.q=g.num),++g.state):2===g.state?(g.p1=g.p.subtract(z.ONE),g.q1=g.q.subtract(z.ONE),g.phi=g.p1.multiply(g.q1),++g.state):3===g.state?0===g.phi.gcd(g.e).compareTo(z.ONE)?++g.state:(g.p=null,g.q=null,g.state=0):4===g.state?
(g.n=g.p.multiply(g.q),g.n.bitLength()===g.bits?++g.state:(g.q=null,g.state=0)):5===g.state&&(ca=g.e.modInverse(g.phi),g.keys={privateKey:v.rsa.setPrivateKey(g.n,g.e,ca,g.p,g.q,ca.mod(g.p1),ca.mod(g.q1),g.q.modInverse(g.p)),publicKey:v.rsa.setPublicKey(g.n,g.e)});ca=+new Date;fa+=ca-Z;Z=ca}return null!==g.keys};v.rsa.generateKeyPair=function(g,y,J,Q){1===arguments.length?"object"===typeof g?(J=g,g=void 0):"function"===typeof g&&(Q=g,g=void 0):2===arguments.length?"number"===typeof g?"function"===
typeof y?(Q=y,y=void 0):"number"!==typeof y&&(J=y,y=void 0):(J=g,Q=y,y=g=void 0):3===arguments.length&&("number"===typeof y?"function"===typeof J&&(Q=J,J=void 0):(Q=J,J=y,y=void 0));J=J||{};void 0===g&&(g=J.bits||2048);void 0===y&&(y=J.e||65537);if(!p.options.usePureJavaScript&&!J.prng&&256<=g&&16384>=g&&(65537===y||3===y))if(Q){if(p.util.isNodejs&&"function"===typeof N.generateKeyPair)return N.generateKeyPair("rsa",{modulusLength:g,publicExponent:y,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",
format:"pem"}},function(Z,ca,fa){if(Z)return Q(Z);Q(null,{privateKey:v.privateKeyFromPem(fa),publicKey:v.publicKeyFromPem(ca)})});if(r("generateKey")&&r("exportKey"))return G.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:g,publicExponent:f(y),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Z){return G.globalScope.crypto.subtle.exportKey("pkcs8",Z.privateKey)}).then(void 0,function(Z){Q(Z)}).then(function(Z){Z&&(Z=v.privateKeyFromAsn1(B.fromDer(p.util.createBuffer(Z))),
Q(null,{privateKey:Z,publicKey:v.setRsaPublicKey(Z.n,Z.e)}))});if(b("generateKey")&&b("exportKey")){var aa=G.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:g,publicExponent:f(y),hash:{name:"SHA-256"}},!0,["sign","verify"]);aa.oncomplete=function(Z){Z=G.globalScope.msCrypto.subtle.exportKey("pkcs8",Z.target.result.privateKey);Z.oncomplete=function(ca){ca=v.privateKeyFromAsn1(B.fromDer(p.util.createBuffer(ca.target.result)));Q(null,{privateKey:ca,publicKey:v.setRsaPublicKey(ca.n,
ca.e)})};Z.onerror=function(ca){Q(ca)}};aa.onerror=function(Z){Q(Z)};return}}else if(p.util.isNodejs&&"function"===typeof N.generateKeyPairSync)return aa=N.generateKeyPairSync("rsa",{modulusLength:g,publicExponent:y,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),{privateKey:v.privateKeyFromPem(aa.privateKey),publicKey:v.publicKeyFromPem(aa.publicKey)};aa=v.rsa.createKeyPairGenerationState(g,y,J);if(!Q)return v.rsa.stepKeyPairGenerationState(aa,0),aa.keys;
V(aa,J,Q)};v.setRsaPublicKey=v.rsa.setPublicKey=function(g,y){var J={n:g,e:y,encrypt:function(Q,aa,Z){"string"===typeof aa?aa=aa.toUpperCase():void 0===aa&&(aa="RSAES-PKCS1-V1_5");if("RSAES-PKCS1-V1_5"===aa)aa={encode:function(ca,fa,ha){return u(ca,fa,2).getBytes()}};else if("RSA-OAEP"===aa||"RSAES-OAEP"===aa)aa={encode:function(ca,fa){return p.pkcs1.encode_rsa_oaep(fa,ca,Z)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(aa))aa={encode:function(ca){return ca}};else if("string"===typeof aa)throw Error('Unsupported encryption scheme: "'+
aa+'".');Q=aa.encode(Q,J,!0);return v.rsa.encrypt(Q,J,!0)},verify:function(Q,aa,Z){"string"===typeof Z?Z=Z.toUpperCase():void 0===Z&&(Z="RSASSA-PKCS1-V1_5");if("RSASSA-PKCS1-V1_5"===Z)Z={verify:function(ca,fa){fa=K(fa,J,!0);fa=B.fromDer(fa);return ca===fa.value[1].value}};else if("NONE"===Z||"NULL"===Z||null===Z)Z={verify:function(ca,fa){fa=K(fa,J,!0);return ca===fa}};aa=v.rsa.decrypt(aa,J,!0,!1);return Z.verify(Q,aa,J.n.bitLength())}};return J};v.setRsaPrivateKey=v.rsa.setPrivateKey=function(g,y,
J,Q,aa,Z,ca,fa){var ha={n:g,e:y,d:J,p:Q,q:aa,dP:Z,dQ:ca,qInv:fa,decrypt:function(pa,x,n){"string"===typeof x?x=x.toUpperCase():void 0===x&&(x="RSAES-PKCS1-V1_5");pa=v.rsa.decrypt(pa,ha,!1,!1);if("RSAES-PKCS1-V1_5"===x)x={decode:K};else if("RSA-OAEP"===x||"RSAES-OAEP"===x)x={decode:function(w,F){return p.pkcs1.decode_rsa_oaep(F,w,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(x))x={decode:function(w){return w}};else throw Error('Unsupported encryption scheme: "'+x+'".');return x.decode(pa,ha,
!1)},sign:function(pa,x){var n=!1;"string"===typeof x&&(x=x.toUpperCase());if(void 0===x||"RSASSA-PKCS1-V1_5"===x)x={encode:q},n=1;else if("NONE"===x||"NULL"===x||null===x)x={encode:function(){return pa}},n=1;x=x.encode(pa,ha.n.bitLength());return v.rsa.encrypt(x,ha,n)}};return ha};v.wrapRsaPrivateKey=function(g){return B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,B.integerToDer(0).getBytes()),B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,
B.Type.OID,!1,B.oidToDer(v.oids.rsaEncryption).getBytes()),B.create(B.Class.UNIVERSAL,B.Type.NULL,!1,"")]),B.create(B.Class.UNIVERSAL,B.Type.OCTETSTRING,!1,B.toDer(g).getBytes())])};v.privateKeyFromAsn1=function(g){var y={},J=[];B.validate(g,t,y,J)&&(g=B.fromDer(p.util.createBuffer(y.privateKey)));y={};J=[];if(!B.validate(g,S,y,J))throw y=Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey."),y.errors=J,y;J=p.util.createBuffer(y.privateKeyModulus).toHex();g=p.util.createBuffer(y.privateKeyPublicExponent).toHex();
var Q=p.util.createBuffer(y.privateKeyPrivateExponent).toHex();var aa=p.util.createBuffer(y.privateKeyPrime1).toHex();var Z=p.util.createBuffer(y.privateKeyPrime2).toHex();var ca=p.util.createBuffer(y.privateKeyExponent1).toHex();var fa=p.util.createBuffer(y.privateKeyExponent2).toHex();y=p.util.createBuffer(y.privateKeyCoefficient).toHex();return v.setRsaPrivateKey(new z(J,16),new z(g,16),new z(Q,16),new z(aa,16),new z(Z,16),new z(ca,16),new z(fa,16),new z(y,16))};v.privateKeyToAsn1=v.privateKeyToRSAPrivateKey=
function(g){return B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,B.integerToDer(0).getBytes()),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,l(g.n)),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,l(g.e)),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,l(g.d)),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,l(g.p)),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,l(g.q)),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,l(g.dP)),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,
!1,l(g.dQ)),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,l(g.qInv))])};v.publicKeyFromAsn1=function(g){var y={},J=[];if(B.validate(g,e,y,J)){J=B.derToOid(y.publicKeyOid);if(J!==v.oids.rsaEncryption)throw y=Error("Cannot read public key. Unknown OID."),y.oid=J,y;g=y.rsaPublicKey}J=[];if(!B.validate(g,k,y,J))throw y=Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey."),y.errors=J,y;J=p.util.createBuffer(y.publicKeyModulus).toHex();y=p.util.createBuffer(y.publicKeyExponent).toHex();
return v.setRsaPublicKey(new z(J,16),new z(y,16))};v.publicKeyToAsn1=v.publicKeyToSubjectPublicKeyInfo=function(g){return B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.OID,!1,B.oidToDer(v.oids.rsaEncryption).getBytes()),B.create(B.Class.UNIVERSAL,B.Type.NULL,!1,"")]),B.create(B.Class.UNIVERSAL,B.Type.BITSTRING,!1,[v.publicKeyToRSAPublicKey(g)])])};v.publicKeyToRSAPublicKey=function(g){return B.create(B.Class.UNIVERSAL,
B.Type.SEQUENCE,!0,[B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,l(g.n)),B.create(B.Class.UNIVERSAL,B.Type.INTEGER,!1,l(g.e))])}},function(R,H,E){function u(g,y,J){this.data=[];null!=g&&("number"==typeof g?this.fromNumber(g,y,J):null==y&&"string"!=typeof g?this.fromString(g,256):this.fromString(g,y))}function K(){return new u(null)}function V(g,y,J,Q,aa,Z){for(;0<=--Z;){var ca=y*this.data[g++]+J.data[Q]+aa;aa=Math.floor(ca/67108864);J.data[Q++]=ca&67108863}return aa}function l(g,y,J,Q,aa,Z){var ca=
y&32767;for(y>>=15;0<=--Z;){var fa=this.data[g]&32767,ha=this.data[g++]>>15,pa=y*fa+ha*ca;fa=ca*fa+((pa&32767)<<15)+J.data[Q]+(aa&1073741823);aa=(fa>>>30)+(pa>>>15)+y*ha+(aa>>>30);J.data[Q++]=fa&1073741823}return aa}function h(g,y,J,Q,aa,Z){var ca=y&16383;for(y>>=14;0<=--Z;){var fa=this.data[g]&16383,ha=this.data[g++]>>14,pa=y*fa+ha*ca;fa=ca*fa+((pa&16383)<<14)+J.data[Q]+aa;aa=(fa>>28)+(pa>>14)+y*ha;J.data[Q++]=fa&268435455}return aa}function r(g,y){g=e[g.charCodeAt(y)];return null==g?-1:g}function b(g){var y=
K();y.fromInt(g);return y}function f(g){var y=1,J;0!=(J=g>>>16)&&(g=J,y+=16);0!=(J=g>>8)&&(g=J,y+=8);0!=(J=g>>4)&&(g=J,y+=4);0!=(J=g>>2)&&(g=J,y+=2);0!=g>>1&&(y+=1);return y}function p(g){this.m=g}function z(g){this.m=g;this.mp=g.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<g.DB-15)-1;this.mt2=2*g.t}function N(g,y){return g&y}function B(g,y){return g|y}function G(g,y){return g^y}function v(g,y){return g&~y}function C(){}function t(g){return g}function S(g){this.r2=K();this.q3=
K();u.ONE.dlShiftTo(2*g.t,this.r2);this.mu=this.r2.divide(g);this.m=g}function k(){return{nextBytes:function(g){for(var y=0;y<g.length;++y)g[y]=Math.floor(256*Math.random())}}}H=E(5);R.exports=H.jsbn=H.jsbn||{};H.jsbn.BigInteger=u;"undefined"===typeof navigator?(u.prototype.am=h,R=28):"Microsoft Internet Explorer"==navigator.appName?(u.prototype.am=l,R=30):"Netscape"!=navigator.appName?(u.prototype.am=V,R=26):(u.prototype.am=h,R=28);u.prototype.DB=R;u.prototype.DM=(1<<R)-1;u.prototype.DV=1<<R;u.prototype.FV=
Math.pow(2,52);u.prototype.F1=52-R;u.prototype.F2=2*R-52;var e=[];R=48;for(H=0;9>=H;++H)e[R++]=H;R=97;for(H=10;36>H;++H)e[R++]=H;R=65;for(H=10;36>H;++H)e[R++]=H;p.prototype.convert=function(g){return 0>g.s||0<=g.compareTo(this.m)?g.mod(this.m):g};p.prototype.revert=function(g){return g};p.prototype.reduce=function(g){g.divRemTo(this.m,null,g)};p.prototype.mulTo=function(g,y,J){g.multiplyTo(y,J);this.reduce(J)};p.prototype.sqrTo=function(g,y){g.squareTo(y);this.reduce(y)};z.prototype.convert=function(g){var y=
K();g.abs().dlShiftTo(this.m.t,y);y.divRemTo(this.m,null,y);0>g.s&&0<y.compareTo(u.ZERO)&&this.m.subTo(y,y);return y};z.prototype.revert=function(g){var y=K();g.copyTo(y);this.reduce(y);return y};z.prototype.reduce=function(g){for(;g.t<=this.mt2;)g.data[g.t++]=0;for(var y=0;y<this.m.t;++y){var J=g.data[y]&32767,Q=J*this.mpl+((J*this.mph+(g.data[y]>>15)*this.mpl&this.um)<<15)&g.DM;J=y+this.m.t;for(g.data[J]+=this.m.am(0,Q,g,y,0,this.m.t);g.data[J]>=g.DV;)g.data[J]-=g.DV,g.data[++J]++}g.clamp();g.drShiftTo(this.m.t,
g);0<=g.compareTo(this.m)&&g.subTo(this.m,g)};z.prototype.mulTo=function(g,y,J){g.multiplyTo(y,J);this.reduce(J)};z.prototype.sqrTo=function(g,y){g.squareTo(y);this.reduce(y)};u.prototype.copyTo=function(g){for(var y=this.t-1;0<=y;--y)g.data[y]=this.data[y];g.t=this.t;g.s=this.s};u.prototype.fromInt=function(g){this.t=1;this.s=0>g?-1:0;0<g?this.data[0]=g:-1>g?this.data[0]=g+this.DV:this.t=0};u.prototype.fromString=function(g,y){if(16==y)y=4;else if(8==y)y=3;else if(256==y)y=8;else if(2==y)y=1;else if(32==
y)y=5;else if(4==y)y=2;else{this.fromRadix(g,y);return}this.s=this.t=0;for(var J=g.length,Q=!1,aa=0;0<=--J;){var Z=8==y?g[J]&255:r(g,J);0>Z?"-"==g.charAt(J)&&(Q=!0):(Q=!1,0==aa?this.data[this.t++]=Z:aa+y>this.DB?(this.data[this.t-1]|=(Z&(1<<this.DB-aa)-1)<<aa,this.data[this.t++]=Z>>this.DB-aa):this.data[this.t-1]|=Z<<aa,aa+=y,aa>=this.DB&&(aa-=this.DB))}8==y&&0!=(g[0]&128)&&(this.s=-1,0<aa&&(this.data[this.t-1]|=(1<<this.DB-aa)-1<<aa));this.clamp();Q&&u.ZERO.subTo(this,this)};u.prototype.clamp=function(){for(var g=
this.s&this.DM;0<this.t&&this.data[this.t-1]==g;)--this.t};u.prototype.dlShiftTo=function(g,y){var J;for(J=this.t-1;0<=J;--J)y.data[J+g]=this.data[J];for(J=g-1;0<=J;--J)y.data[J]=0;y.t=this.t+g;y.s=this.s};u.prototype.drShiftTo=function(g,y){for(var J=g;J<this.t;++J)y.data[J-g]=this.data[J];y.t=Math.max(this.t-g,0);y.s=this.s};u.prototype.lShiftTo=function(g,y){var J=g%this.DB,Q=this.DB-J,aa=(1<<Q)-1;g=Math.floor(g/this.DB);var Z=this.s<<J&this.DM,ca;for(ca=this.t-1;0<=ca;--ca)y.data[ca+g+1]=this.data[ca]>>
Q|Z,Z=(this.data[ca]&aa)<<J;for(ca=g-1;0<=ca;--ca)y.data[ca]=0;y.data[g]=Z;y.t=this.t+g+1;y.s=this.s;y.clamp()};u.prototype.rShiftTo=function(g,y){y.s=this.s;var J=Math.floor(g/this.DB);if(J>=this.t)y.t=0;else{g%=this.DB;var Q=this.DB-g,aa=(1<<g)-1;y.data[0]=this.data[J]>>g;for(var Z=J+1;Z<this.t;++Z)y.data[Z-J-1]|=(this.data[Z]&aa)<<Q,y.data[Z-J]=this.data[Z]>>g;0<g&&(y.data[this.t-J-1]|=(this.s&aa)<<Q);y.t=this.t-J;y.clamp()}};u.prototype.subTo=function(g,y){for(var J=0,Q=0,aa=Math.min(g.t,this.t);J<
aa;)Q+=this.data[J]-g.data[J],y.data[J++]=Q&this.DM,Q>>=this.DB;if(g.t<this.t){for(Q-=g.s;J<this.t;)Q+=this.data[J],y.data[J++]=Q&this.DM,Q>>=this.DB;Q+=this.s}else{for(Q+=this.s;J<g.t;)Q-=g.data[J],y.data[J++]=Q&this.DM,Q>>=this.DB;Q-=g.s}y.s=0>Q?-1:0;-1>Q?y.data[J++]=this.DV+Q:0<Q&&(y.data[J++]=Q);y.t=J;y.clamp()};u.prototype.multiplyTo=function(g,y){var J=this.abs(),Q=g.abs(),aa=J.t;for(y.t=aa+Q.t;0<=--aa;)y.data[aa]=0;for(aa=0;aa<Q.t;++aa)y.data[aa+J.t]=J.am(0,Q.data[aa],y,aa,0,J.t);y.s=0;y.clamp();
this.s!=g.s&&u.ZERO.subTo(y,y)};u.prototype.squareTo=function(g){for(var y=this.abs(),J=g.t=2*y.t;0<=--J;)g.data[J]=0;for(J=0;J<y.t-1;++J){var Q=y.am(J,y.data[J],g,2*J,0,1);(g.data[J+y.t]+=y.am(J+1,2*y.data[J],g,2*J+1,Q,y.t-J-1))>=y.DV&&(g.data[J+y.t]-=y.DV,g.data[J+y.t+1]=1)}0<g.t&&(g.data[g.t-1]+=y.am(J,y.data[J],g,2*J,0,1));g.s=0;g.clamp()};u.prototype.divRemTo=function(g,y,J){var Q=g.abs();if(!(0>=Q.t)){var aa=this.abs();if(aa.t<Q.t)null!=y&&y.fromInt(0),null!=J&&this.copyTo(J);else{null==J&&
(J=K());var Z=K(),ca=this.s;g=g.s;var fa=this.DB-f(Q.data[Q.t-1]);0<fa?(Q.lShiftTo(fa,Z),aa.lShiftTo(fa,J)):(Q.copyTo(Z),aa.copyTo(J));Q=Z.t;aa=Z.data[Q-1];if(0!=aa){var ha=aa*(1<<this.F1)+(1<Q?Z.data[Q-2]>>this.F2:0),pa=this.FV/ha;ha=(1<<this.F1)/ha;var x=1<<this.F2,n=J.t,w=n-Q,F=null==y?K():y;Z.dlShiftTo(w,F);0<=J.compareTo(F)&&(J.data[J.t++]=1,J.subTo(F,J));u.ONE.dlShiftTo(Q,F);for(F.subTo(Z,Z);Z.t<Q;)Z.data[Z.t++]=0;for(;0<=--w;){var W=J.data[--n]==aa?this.DM:Math.floor(J.data[n]*pa+(J.data[n-
1]+x)*ha);if((J.data[n]+=Z.am(0,W,J,w,0,Q))<W)for(Z.dlShiftTo(w,F),J.subTo(F,J);J.data[n]<--W;)J.subTo(F,J)}null!=y&&(J.drShiftTo(Q,y),ca!=g&&u.ZERO.subTo(y,y));J.t=Q;J.clamp();0<fa&&J.rShiftTo(fa,J);0>ca&&u.ZERO.subTo(J,J)}}}};u.prototype.invDigit=function(){if(1>this.t)return 0;var g=this.data[0];if(0==(g&1))return 0;var y=g&3;y=y*(2-(g&15)*y)&15;y=y*(2-(g&255)*y)&255;y=y*(2-((g&65535)*y&65535))&65535;y=y*(2-g*y%this.DV)%this.DV;return 0<y?this.DV-y:-y};u.prototype.isEven=function(){return 0==(0<
this.t?this.data[0]&1:this.s)};u.prototype.exp=function(g,y){if(4294967295<g||1>g)return u.ONE;var J=K(),Q=K(),aa=y.convert(this),Z=f(g)-1;for(aa.copyTo(J);0<=--Z;)if(y.sqrTo(J,Q),0<(g&1<<Z))y.mulTo(Q,aa,J);else{var ca=J;J=Q;Q=ca}return y.revert(J)};u.prototype.toString=function(g){if(0>this.s)return"-"+this.negate().toString(g);if(16==g)g=4;else if(8==g)g=3;else if(2==g)g=1;else if(32==g)g=5;else if(4==g)g=2;else return this.toRadix(g);var y=(1<<g)-1,J,Q=!1,aa="",Z=this.t,ca=this.DB-Z*this.DB%g;
if(0<Z--)for(ca<this.DB&&0<(J=this.data[Z]>>ca)&&(Q=!0,aa="0123456789abcdefghijklmnopqrstuvwxyz".charAt(J));0<=Z;)ca<g?(J=(this.data[Z]&(1<<ca)-1)<<g-ca,J|=this.data[--Z]>>(ca+=this.DB-g)):(J=this.data[Z]>>(ca-=g)&y,0>=ca&&(ca+=this.DB,--Z)),0<J&&(Q=!0),Q&&(aa+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(J));return Q?aa:"0"};u.prototype.negate=function(){var g=K();u.ZERO.subTo(this,g);return g};u.prototype.abs=function(){return 0>this.s?this.negate():this};u.prototype.compareTo=function(g){var y=
this.s-g.s;if(0!=y)return y;var J=this.t;y=J-g.t;if(0!=y)return 0>this.s?-y:y;for(;0<=--J;)if(0!=(y=this.data[J]-g.data[J]))return y;return 0};u.prototype.bitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+f(this.data[this.t-1]^this.s&this.DM)};u.prototype.mod=function(g){var y=K();this.abs().divRemTo(g,null,y);0>this.s&&0<y.compareTo(u.ZERO)&&g.subTo(y,y);return y};u.prototype.modPowInt=function(g,y){y=256>g||y.isEven()?new p(y):new z(y);return this.exp(g,y)};u.ZERO=b(0);u.ONE=b(1);C.prototype.convert=
t;C.prototype.revert=t;C.prototype.mulTo=function(g,y,J){g.multiplyTo(y,J)};C.prototype.sqrTo=function(g,y){g.squareTo(y)};S.prototype.convert=function(g){if(0>g.s||g.t>2*this.m.t)return g.mod(this.m);if(0>g.compareTo(this.m))return g;var y=K();g.copyTo(y);this.reduce(y);return y};S.prototype.revert=function(g){return g};S.prototype.reduce=function(g){g.drShiftTo(this.m.t-1,this.r2);g.t>this.m.t+1&&(g.t=this.m.t+1,g.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,
this.m.t+1,this.r2);0>g.compareTo(this.r2);)g.dAddOffset(1,this.m.t+1);for(g.subTo(this.r2,g);0<=g.compareTo(this.m);)g.subTo(this.m,g)};S.prototype.mulTo=function(g,y,J){g.multiplyTo(y,J);this.reduce(J)};S.prototype.sqrTo=function(g,y){g.squareTo(y);this.reduce(y)};var q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,
313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],I=67108864/q[q.length-1];u.prototype.chunkSize=function(g){return Math.floor(Math.LN2*this.DB/Math.log(g))};u.prototype.toRadix=function(g){null==g&&(g=10);if(0==this.signum()||2>g||36<g)return"0";var y=this.chunkSize(g);y=Math.pow(g,y);var J=b(y),Q=K(),aa=K(),Z="";for(this.divRemTo(J,Q,aa);0<Q.signum();)Z=(y+aa.intValue()).toString(g).substr(1)+Z,Q.divRemTo(J,Q,aa);
return aa.intValue().toString(g)+Z};u.prototype.fromRadix=function(g,y){this.fromInt(0);null==y&&(y=10);for(var J=this.chunkSize(y),Q=Math.pow(y,J),aa=!1,Z=0,ca=0,fa=0;fa<g.length;++fa){var ha=r(g,fa);0>ha?"-"==g.charAt(fa)&&0==this.signum()&&(aa=!0):(ca=y*ca+ha,++Z>=J&&(this.dMultiply(Q),this.dAddOffset(ca,0),ca=Z=0))}0<Z&&(this.dMultiply(Math.pow(y,Z)),this.dAddOffset(ca,0));aa&&u.ZERO.subTo(this,this)};u.prototype.fromNumber=function(g,y,J){if("number"==typeof y)if(2>g)this.fromInt(1);else for(this.fromNumber(g,
J),this.testBit(g-1)||this.bitwiseTo(u.ONE.shiftLeft(g-1),B,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(y);)this.dAddOffset(2,0),this.bitLength()>g&&this.subTo(u.ONE.shiftLeft(g-1),this);else{J=[];var Q=g&7;J.length=(g>>3)+1;y.nextBytes(J);J[0]=0<Q?J[0]&(1<<Q)-1:0;this.fromString(J,256)}};u.prototype.bitwiseTo=function(g,y,J){var Q,aa=Math.min(g.t,this.t);for(Q=0;Q<aa;++Q)J.data[Q]=y(this.data[Q],g.data[Q]);if(g.t<this.t){var Z=g.s&this.DM;for(Q=aa;Q<this.t;++Q)J.data[Q]=y(this.data[Q],
Z);J.t=this.t}else{Z=this.s&this.DM;for(Q=aa;Q<g.t;++Q)J.data[Q]=y(Z,g.data[Q]);J.t=g.t}J.s=y(this.s,g.s);J.clamp()};u.prototype.changeBit=function(g,y){g=u.ONE.shiftLeft(g);this.bitwiseTo(g,y,g);return g};u.prototype.addTo=function(g,y){for(var J=0,Q=0,aa=Math.min(g.t,this.t);J<aa;)Q+=this.data[J]+g.data[J],y.data[J++]=Q&this.DM,Q>>=this.DB;if(g.t<this.t){for(Q+=g.s;J<this.t;)Q+=this.data[J],y.data[J++]=Q&this.DM,Q>>=this.DB;Q+=this.s}else{for(Q+=this.s;J<g.t;)Q+=g.data[J],y.data[J++]=Q&this.DM,
Q>>=this.DB;Q+=g.s}y.s=0>Q?-1:0;0<Q?y.data[J++]=Q:-1>Q&&(y.data[J++]=this.DV+Q);y.t=J;y.clamp()};u.prototype.dMultiply=function(g){this.data[this.t]=this.am(0,g-1,this,0,0,this.t);++this.t;this.clamp()};u.prototype.dAddOffset=function(g,y){if(0!=g){for(;this.t<=y;)this.data[this.t++]=0;for(this.data[y]+=g;this.data[y]>=this.DV;)this.data[y]-=this.DV,++y>=this.t&&(this.data[this.t++]=0),++this.data[y]}};u.prototype.multiplyLowerTo=function(g,y,J){var Q=Math.min(this.t+g.t,y);J.s=0;for(J.t=Q;0<Q;)J.data[--Q]=
0;var aa;for(aa=J.t-this.t;Q<aa;++Q)J.data[Q+this.t]=this.am(0,g.data[Q],J,Q,0,this.t);for(aa=Math.min(g.t,y);Q<aa;++Q)this.am(0,g.data[Q],J,Q,0,y-Q);J.clamp()};u.prototype.multiplyUpperTo=function(g,y,J){--y;var Q=J.t=this.t+g.t-y;for(J.s=0;0<=--Q;)J.data[Q]=0;for(Q=Math.max(y-this.t,0);Q<g.t;++Q)J.data[this.t+Q-y]=this.am(y-Q,g.data[Q],J,0,0,this.t+Q-y);J.clamp();J.drShiftTo(1,J)};u.prototype.modInt=function(g){if(0>=g)return 0;var y=this.DV%g,J=0>this.s?g-1:0;if(0<this.t)if(0==y)J=this.data[0]%
g;else for(var Q=this.t-1;0<=Q;--Q)J=(y*J+this.data[Q])%g;return J};u.prototype.millerRabin=function(g){var y=this.subtract(u.ONE),J=y.getLowestSetBit();if(0>=J)return!1;for(var Q=y.shiftRight(J),aa=k(),Z,ca=0;ca<g;++ca){do Z=new u(this.bitLength(),aa);while(0>=Z.compareTo(u.ONE)||0<=Z.compareTo(y));Z=Z.modPow(Q,this);if(0!=Z.compareTo(u.ONE)&&0!=Z.compareTo(y)){for(var fa=1;fa++<J&&0!=Z.compareTo(y);)if(Z=Z.modPowInt(2,this),0==Z.compareTo(u.ONE))return!1;if(0!=Z.compareTo(y))return!1}}return!0};
u.prototype.clone=function(){var g=K();this.copyTo(g);return g};u.prototype.intValue=function(){if(0>this.s){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]};u.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24};u.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16};u.prototype.signum=function(){return 0>this.s?-1:
0>=this.t||1==this.t&&0>=this.data[0]?0:1};u.prototype.toByteArray=function(){var g=this.t,y=[];y[0]=this.s;var J=this.DB-g*this.DB%8,Q,aa=0;if(0<g--)for(J<this.DB&&(Q=this.data[g]>>J)!=(this.s&this.DM)>>J&&(y[aa++]=Q|this.s<<this.DB-J);0<=g;)if(8>J?(Q=(this.data[g]&(1<<J)-1)<<8-J,Q|=this.data[--g]>>(J+=this.DB-8)):(Q=this.data[g]>>(J-=8)&255,0>=J&&(J+=this.DB,--g)),0!=(Q&128)&&(Q|=-256),0==aa&&(this.s&128)!=(Q&128)&&++aa,0<aa||Q!=this.s)y[aa++]=Q;return y};u.prototype.equals=function(g){return 0==
this.compareTo(g)};u.prototype.min=function(g){return 0>this.compareTo(g)?this:g};u.prototype.max=function(g){return 0<this.compareTo(g)?this:g};u.prototype.and=function(g){var y=K();this.bitwiseTo(g,N,y);return y};u.prototype.or=function(g){var y=K();this.bitwiseTo(g,B,y);return y};u.prototype.xor=function(g){var y=K();this.bitwiseTo(g,G,y);return y};u.prototype.andNot=function(g){var y=K();this.bitwiseTo(g,v,y);return y};u.prototype.not=function(){for(var g=K(),y=0;y<this.t;++y)g.data[y]=this.DM&
~this.data[y];g.t=this.t;g.s=~this.s;return g};u.prototype.shiftLeft=function(g){var y=K();0>g?this.rShiftTo(-g,y):this.lShiftTo(g,y);return y};u.prototype.shiftRight=function(g){var y=K();0>g?this.lShiftTo(-g,y):this.rShiftTo(g,y);return y};u.prototype.getLowestSetBit=function(){for(var g=0;g<this.t;++g)if(0!=this.data[g]){var y=g*this.DB;g=this.data[g];if(0==g)g=-1;else{var J=0;0==(g&65535)&&(g>>=16,J+=16);0==(g&255)&&(g>>=8,J+=8);0==(g&15)&&(g>>=4,J+=4);0==(g&3)&&(g>>=2,J+=2);0==(g&1)&&++J;g=J}return y+
g}return 0>this.s?this.t*this.DB:-1};u.prototype.bitCount=function(){for(var g=0,y=this.s&this.DM,J=0;J<this.t;++J){for(var Q=this.data[J]^y,aa=0;0!=Q;)Q&=Q-1,++aa;g+=aa}return g};u.prototype.testBit=function(g){var y=Math.floor(g/this.DB);return y>=this.t?0!=this.s:0!=(this.data[y]&1<<g%this.DB)};u.prototype.setBit=function(g){return this.changeBit(g,B)};u.prototype.clearBit=function(g){return this.changeBit(g,v)};u.prototype.flipBit=function(g){return this.changeBit(g,G)};u.prototype.add=function(g){var y=
K();this.addTo(g,y);return y};u.prototype.subtract=function(g){var y=K();this.subTo(g,y);return y};u.prototype.multiply=function(g){var y=K();this.multiplyTo(g,y);return y};u.prototype.divide=function(g){var y=K();this.divRemTo(g,y,null);return y};u.prototype.remainder=function(g){var y=K();this.divRemTo(g,null,y);return y};u.prototype.divideAndRemainder=function(g){var y=K(),J=K();this.divRemTo(g,y,J);return[y,J]};u.prototype.modPow=function(g,y){var J=g.bitLength(),Q=b(1);if(0>=J)return Q;var aa=
18>J?1:48>J?3:144>J?4:768>J?5:6;y=8>J?new p(y):y.isEven()?new S(y):new z(y);var Z=[],ca=3,fa=aa-1,ha=(1<<aa)-1;Z[1]=y.convert(this);if(1<aa)for(J=K(),y.sqrTo(Z[1],J);ca<=ha;)Z[ca]=K(),y.mulTo(J,Z[ca-2],Z[ca]),ca+=2;var pa=g.t-1,x=!0,n=K();for(J=f(g.data[pa])-1;0<=pa;){if(J>=fa)var w=g.data[pa]>>J-fa&ha;else w=(g.data[pa]&(1<<J+1)-1)<<fa-J,0<pa&&(w|=g.data[pa-1]>>this.DB+J-fa);for(ca=aa;0==(w&1);)w>>=1,--ca;0>(J-=ca)&&(J+=this.DB,--pa);if(x)Z[w].copyTo(Q),x=!1;else{for(;1<ca;)y.sqrTo(Q,n),y.sqrTo(n,
Q),ca-=2;0<ca?y.sqrTo(Q,n):(ca=Q,Q=n,n=ca);y.mulTo(n,Z[w],Q)}for(;0<=pa&&0==(g.data[pa]&1<<J);)y.sqrTo(Q,n),ca=Q,Q=n,n=ca,0>--J&&(J=this.DB-1,--pa)}return y.revert(Q)};u.prototype.modInverse=function(g){var y=g.isEven();if(this.isEven()&&y||0==g.signum())return u.ZERO;for(var J=g.clone(),Q=this.clone(),aa=b(1),Z=b(0),ca=b(0),fa=b(1);0!=J.signum();){for(;J.isEven();)J.rShiftTo(1,J),y?(aa.isEven()&&Z.isEven()||(aa.addTo(this,aa),Z.subTo(g,Z)),aa.rShiftTo(1,aa)):Z.isEven()||Z.subTo(g,Z),Z.rShiftTo(1,
Z);for(;Q.isEven();)Q.rShiftTo(1,Q),y?(ca.isEven()&&fa.isEven()||(ca.addTo(this,ca),fa.subTo(g,fa)),ca.rShiftTo(1,ca)):fa.isEven()||fa.subTo(g,fa),fa.rShiftTo(1,fa);0<=J.compareTo(Q)?(J.subTo(Q,J),y&&aa.subTo(ca,aa),Z.subTo(fa,Z)):(Q.subTo(J,Q),y&&ca.subTo(aa,ca),fa.subTo(Z,fa))}if(0!=Q.compareTo(u.ONE))return u.ZERO;if(0<=fa.compareTo(g))return fa.subtract(g);if(0>fa.signum())fa.addTo(g,fa);else return fa;return 0>fa.signum()?fa.add(g):fa};u.prototype.pow=function(g){return this.exp(g,new C)};u.prototype.gcd=
function(g){var y=0>this.s?this.negate():this.clone();g=0>g.s?g.negate():g.clone();if(0>y.compareTo(g)){var J=y;y=g;g=J}J=y.getLowestSetBit();var Q=g.getLowestSetBit();if(0>Q)return y;J<Q&&(Q=J);0<Q&&(y.rShiftTo(Q,y),g.rShiftTo(Q,g));for(;0<y.signum();)0<(J=y.getLowestSetBit())&&y.rShiftTo(J,y),0<(J=g.getLowestSetBit())&&g.rShiftTo(J,g),0<=y.compareTo(g)?(y.subTo(g,y),y.rShiftTo(1,y)):(g.subTo(y,g),g.rShiftTo(1,g));0<Q&&g.lShiftTo(Q,g);return g};u.prototype.isProbablePrime=function(g){var y,J=this.abs();
if(1==J.t&&J.data[0]<=q[q.length-1]){for(y=0;y<q.length;++y)if(J.data[0]==q[y])return!0;return!1}if(J.isEven())return!1;for(y=1;y<q.length;){for(var Q=q[y],aa=y+1;aa<q.length&&Q<I;)Q*=q[aa++];for(Q=J.modInt(Q);y<aa;)if(0==Q%q[y++])return!1}return J.millerRabin(g)}},function(R,H,E){function u(G,v,C,t,S,k){var e=[];switch(v.toUpperCase()){case "SHA-1":var q=20;var I=64;break;case "SHA-256":q=32;I=64;break;case "SHA-384":q=48;I=128;break;case "SHA-512":q=64;I=128;break;default:throw Error("Unsupported hashing algorithm");
}var g=new Uint8Array(t);t=new ArrayBuffer(2*t.byteLength+2);for(var y=new Uint8Array(t),J=0;J<g.length;J++)y[2*J]=0,y[2*J+1]=g[J];y[y.length-2]=0;y[y.length-1]=0;t=t.slice(0);var Q=new ArrayBuffer(I),aa=new Uint8Array(Q);for(g=0;g<Q.byteLength;g++)aa[g]=3;var Z=S.byteLength;J=I*Math.ceil(Z/I);g=new ArrayBuffer(J);y=new Uint8Array(g);S=new Uint8Array(S);for(var ca=0;ca<J;ca++)y[ca]=S[ca%Z];var fa=t.byteLength;S=I*Math.ceil(fa/I);J=new ArrayBuffer(S);ca=new Uint8Array(J);t=new Uint8Array(t);for(var ha=
0;ha<S;ha++)ca[ha]=t[ha%fa];var pa=new ArrayBuffer(g.byteLength+J.byteLength),x=new Uint8Array(pa);x.set(y);x.set(ca,y.length);q=Math.ceil((C>>3)/q);t=Promise.resolve(pa);for(g=0;g<=q;g++){t=t.then(function(n){n=new ArrayBuffer(Q.byteLength+n.byteLength);var w=new Uint8Array(n);w.set(aa);w.set(x,aa.length);return n});for(y=0;y<k;y++)t=t.then(function(n){return G.digest({name:v},new Uint8Array(n))});t=t.then(function(n){for(var w=new ArrayBuffer(I),F=new Uint8Array(w),W=0;W<w.byteLength;W++)F[W]=n[W%
n.length];W=Math.ceil(Z/I)+Math.ceil(fa/I);for(var P=[],O=0,L=I,sa=0;sa<W;sa++){var Aa=Array.from(new Uint8Array(pa.slice(O,O+L)));O+=I;O+I>pa.byteLength&&(L=pa.byteLength-O);for(var xa=511,Ea=w.byteLength-1;0<=Ea;Ea--)xa>>=8,xa+=F[Ea]+Aa[Ea],Aa[Ea]=xa&255;P.push.apply(P,$jscomp.arrayFromIterable(Aa))}pa=new ArrayBuffer(P.length);x=new Uint8Array(pa);x.set(P);e.push.apply(e,$jscomp.arrayFromIterable(new Uint8Array(n)));return pa})}return t=t.then(function(){var n=new ArrayBuffer(C>>3);(new Uint8Array(n)).set((new Uint8Array(e)).slice(0,
C>>3));return n})}E.d(H,"a",function(){return B});var K=E(0);E.n(K);var V=E(1),l=E(4),h=E(12),r=E(15),b=E(3),f=E(10),p=E(24),z=E(18),N=E(30),B=function(G){G=void 0===G?{}:G;this.crypto=Object(V.e)(G,"crypto",{});this.subtle=Object(V.e)(G,"subtle",{});this.name=Object(V.e)(G,"name","")};B.prototype.importKey=function(G,v,C,t,S){var k=this,e={};v instanceof Uint8Array&&(v=v.buffer);switch(G.toLowerCase()){case "raw":return this.subtle.importKey("raw",v,C,t,S);case "spki":v=K.fromBER(v);if(-1===v.offset)return Promise.reject("Incorrect keyData");
G=new h.a;try{G.fromSchema(v.result)}catch(I){return Promise.reject("Incorrect keyData")}switch(C.name.toUpperCase()){case "RSA-PSS":switch(C.hash.name.toUpperCase()){case "SHA-1":e.alg="PS1";break;case "SHA-256":e.alg="PS256";break;case "SHA-384":e.alg="PS384";break;case "SHA-512":e.alg="PS512";break;default:return Promise.reject("Incorrect hash algorithm: "+C.hash.name.toUpperCase())}case "RSASSA-PKCS1-V1_5":S=["verify"];e.kty="RSA";e.ext=t;e.key_ops=S;if("1.2.840.113549.1.1.1"!==G.algorithm.algorithmId)return Promise.reject("Incorrect public key algorithm: "+
G.algorithm.algorithmId);if(!1==="alg"in e)switch(C.hash.name.toUpperCase()){case "SHA-1":e.alg="RS1";break;case "SHA-256":e.alg="RS256";break;case "SHA-384":e.alg="RS384";break;case "SHA-512":e.alg="RS512";break;default:return Promise.reject("Incorrect hash algorithm: "+C.hash.name.toUpperCase())}G=G.toJSON();var q=$jscomp.makeIterator(Object.keys(G));for(v=q.next();!v.done;v=q.next())v=v.value,e[v]=G[v];break;case "ECDSA":S=["verify"];case "ECDH":e={kty:"EC",ext:t,key_ops:S};if("1.2.840.10045.2.1"!==
G.algorithm.algorithmId)return Promise.reject("Incorrect public key algorithm: "+G.algorithm.algorithmId);G=G.toJSON();q=$jscomp.makeIterator(Object.keys(G));for(v=q.next();!v.done;v=q.next())v=v.value,e[v]=G[v];break;case "RSA-OAEP":e.kty="RSA";e.ext=t;e.key_ops=S;if("safari"===this.name.toLowerCase())e.alg="RSA-OAEP";else switch(C.hash.name.toUpperCase()){case "SHA-1":e.alg="RSA-OAEP";break;case "SHA-256":e.alg="RSA-OAEP-256";break;case "SHA-384":e.alg="RSA-OAEP-384";break;case "SHA-512":e.alg=
"RSA-OAEP-512";break;default:return Promise.reject("Incorrect hash algorithm: "+C.hash.name.toUpperCase())}G=G.toJSON();q=$jscomp.makeIterator(Object.keys(G));for(v=q.next();!v.done;v=q.next())v=v.value,e[v]=G[v];break;case "RSAES-PKCS1-V1_5":e.kty="RSA";e.ext=t;e.key_ops=S;e.alg="PS1";G=G.toJSON();q=$jscomp.makeIterator(Object.keys(G));for(v=q.next();!v.done;v=q.next())v=v.value,e[v]=G[v];break;default:return Promise.reject("Incorrect algorithm name: "+C.name.toUpperCase())}break;case "pkcs8":G=
new r.a;v=K.fromBER(v);if(-1===v.offset)return Promise.reject("Incorrect keyData");try{G.fromSchema(v.result)}catch(I){return Promise.reject("Incorrect keyData")}if(!1==="parsedKey"in G)return Promise.reject("Incorrect keyData");switch(C.name.toUpperCase()){case "RSA-PSS":switch(C.hash.name.toUpperCase()){case "SHA-1":e.alg="PS1";break;case "SHA-256":e.alg="PS256";break;case "SHA-384":e.alg="PS384";break;case "SHA-512":e.alg="PS512";break;default:return Promise.reject("Incorrect hash algorithm: "+
C.hash.name.toUpperCase())}case "RSASSA-PKCS1-V1_5":S=["sign"];e.kty="RSA";e.ext=t;e.key_ops=S;if("1.2.840.113549.1.1.1"!==G.privateKeyAlgorithm.algorithmId)return Promise.reject("Incorrect private key algorithm: "+G.privateKeyAlgorithm.algorithmId);if(!1==="alg"in e)switch(C.hash.name.toUpperCase()){case "SHA-1":e.alg="RS1";break;case "SHA-256":e.alg="RS256";break;case "SHA-384":e.alg="RS384";break;case "SHA-512":e.alg="RS512";break;default:return Promise.reject("Incorrect hash algorithm: "+C.hash.name.toUpperCase())}G=
G.toJSON();q=$jscomp.makeIterator(Object.keys(G));for(v=q.next();!v.done;v=q.next())v=v.value,e[v]=G[v];break;case "ECDSA":S=["sign"];case "ECDH":e={kty:"EC",ext:t,key_ops:S};if("1.2.840.10045.2.1"!==G.privateKeyAlgorithm.algorithmId)return Promise.reject("Incorrect algorithm: "+G.privateKeyAlgorithm.algorithmId);G=G.toJSON();q=$jscomp.makeIterator(Object.keys(G));for(v=q.next();!v.done;v=q.next())v=v.value,e[v]=G[v];break;case "RSA-OAEP":e.kty="RSA";e.ext=t;e.key_ops=S;if("safari"===this.name.toLowerCase())e.alg=
"RSA-OAEP";else switch(C.hash.name.toUpperCase()){case "SHA-1":e.alg="RSA-OAEP";break;case "SHA-256":e.alg="RSA-OAEP-256";break;case "SHA-384":e.alg="RSA-OAEP-384";break;case "SHA-512":e.alg="RSA-OAEP-512";break;default:return Promise.reject("Incorrect hash algorithm: "+C.hash.name.toUpperCase())}G=G.toJSON();q=$jscomp.makeIterator(Object.keys(G));for(v=q.next();!v.done;v=q.next())v=v.value,e[v]=G[v];break;case "RSAES-PKCS1-V1_5":S=["decrypt"];e.kty="RSA";e.ext=t;e.key_ops=S;e.alg="PS1";G=G.toJSON();
q=$jscomp.makeIterator(Object.keys(G));for(v=q.next();!v.done;v=q.next())v=v.value,e[v]=G[v];break;default:return Promise.reject("Incorrect algorithm name: "+C.name.toUpperCase())}break;case "jwk":e=v;break;default:return Promise.reject("Incorrect format: "+G)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(function(){return k.subtle.importKey("jwk",Object(V.h)(JSON.stringify(e)),C,t,S)}).then(function(I){return I},function(){return k.subtle.importKey("jwk",e,C,t,S)}):this.subtle.importKey("jwk",
e,C,t,S)};B.prototype.exportKey=function(G,v){var C=this.subtle.exportKey("jwk",v);"safari"===this.name.toLowerCase()&&(C=C.then(function(t){return t instanceof ArrayBuffer?JSON.parse(Object(V.a)(t)):t}));switch(G.toLowerCase()){case "raw":return this.subtle.exportKey("raw",v);case "spki":C=C.then(function(t){var S=new h.a;try{S.fromJSON(t)}catch(k){return Promise.reject("Incorrect key data")}return S.toSchema().toBER(!1)});break;case "pkcs8":C=C.then(function(t){var S=new r.a;try{S.fromJSON(t)}catch(k){return Promise.reject("Incorrect key data")}return S.toSchema().toBER(!1)});
break;case "jwk":break;default:return Promise.reject("Incorrect format: "+G)}return C};B.prototype.convert=function(G,v,C,t,S,k){var e=this;switch(G.toLowerCase()){case "raw":switch(v.toLowerCase()){case "raw":return Promise.resolve(C);case "spki":return Promise.resolve().then(function(){return e.importKey("raw",C,t,S,k)}).then(function(q){return e.exportKey("spki",q)});case "pkcs8":return Promise.resolve().then(function(){return e.importKey("raw",C,t,S,k)}).then(function(q){return e.exportKey("pkcs8",
q)});case "jwk":return Promise.resolve().then(function(){return e.importKey("raw",C,t,S,k)}).then(function(q){return e.exportKey("jwk",q)});default:return Promise.reject("Incorrect outputFormat: "+v)}case "spki":switch(v.toLowerCase()){case "raw":return Promise.resolve().then(function(){return e.importKey("spki",C,t,S,k)}).then(function(q){return e.exportKey("raw",q)});case "spki":return Promise.resolve(C);case "pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case "jwk":return Promise.resolve().then(function(){return e.importKey("spki",
C,t,S,k)}).then(function(q){return e.exportKey("jwk",q)});default:return Promise.reject("Incorrect outputFormat: "+v)}case "pkcs8":switch(v.toLowerCase()){case "raw":return Promise.resolve().then(function(){return e.importKey("pkcs8",C,t,S,k)}).then(function(q){return e.exportKey("raw",q)});case "spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case "pkcs8":return Promise.resolve(C);case "jwk":return Promise.resolve().then(function(){return e.importKey("pkcs8",C,t,S,k)}).then(function(q){return e.exportKey("jwk",
q)});default:return Promise.reject("Incorrect outputFormat: "+v)}case "jwk":switch(v.toLowerCase()){case "raw":return Promise.resolve().then(function(){return e.importKey("jwk",C,t,S,k)}).then(function(q){return e.exportKey("raw",q)});case "spki":return Promise.resolve().then(function(){return e.importKey("jwk",C,t,S,k)}).then(function(q){return e.exportKey("spki",q)});case "pkcs8":return Promise.resolve().then(function(){return e.importKey("jwk",C,t,S,k)}).then(function(q){return e.exportKey("pkcs8",
q)});case "jwk":return Promise.resolve(C);default:return Promise.reject("Incorrect outputFormat: "+v)}default:return Promise.reject("Incorrect inputFormat: "+G)}};B.prototype.encrypt=function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.encrypt.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.decrypt=function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.decrypt.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.sign=
function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.sign.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.verify=function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.verify.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.digest=function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.digest.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.generateKey=
function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.generateKey.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.deriveKey=function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.deriveKey.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.deriveBits=function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.deriveBits.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.wrapKey=
function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.wrapKey.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.unwrapKey=function(G){for(var v=[],C=0;C<arguments.length;++C)v[C-0]=arguments[C];return this.subtle.unwrapKey.apply(this.subtle,$jscomp.arrayFromIterable(v))};B.prototype.getRandomValues=function(G){if(!1==="getRandomValues"in this.crypto)throw Error("No support for getRandomValues");return this.crypto.getRandomValues(G)};B.prototype.getAlgorithmByOID=
function(G){switch(G){case "1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case "1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case "1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case "1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case "1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case "1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case "1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};
case "1.2.840.10045.2.1":case "1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case "1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case "1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case "1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case "1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case "1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case "1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case "1.3.132.1.11.3":return{name:"ECDH",
kdf:"SHA-512"};case "2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case "2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case "2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case "2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case "2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case "2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case "2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case "2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",
length:192};case "2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case "2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case "2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case "2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case "1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case "1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case "1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case "1.2.840.113549.2.11":return{name:"HMAC",
hash:{name:"SHA-512"}};case "1.2.840.113549.1.9.16.3.5":return{name:"DH"};case "1.3.14.3.2.26":return{name:"SHA-1"};case "2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case "2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case "2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case "1.2.840.113549.1.5.12":return{name:"PBKDF2"};case "1.2.840.10045.3.1.7":return{name:"P-256"};case "1.3.132.0.34":return{name:"P-384"};case "1.3.132.0.35":return{name:"P-521"}}return{}};B.prototype.getOIDByAlgorithm=function(G){var v=
"";switch(G.name.toUpperCase()){case "RSAES-PKCS1-V1_5":v="1.2.840.113549.1.1.1";break;case "RSASSA-PKCS1-V1_5":switch(G.hash.name.toUpperCase()){case "SHA-1":v="1.2.840.113549.1.1.5";break;case "SHA-256":v="1.2.840.113549.1.1.11";break;case "SHA-384":v="1.2.840.113549.1.1.12";break;case "SHA-512":v="1.2.840.113549.1.1.13"}break;case "RSA-PSS":v="1.2.840.113549.1.1.10";break;case "RSA-OAEP":v="1.2.840.113549.1.1.7";break;case "ECDSA":switch(G.hash.name.toUpperCase()){case "SHA-1":v="1.2.840.10045.4.1";
break;case "SHA-256":v="1.2.840.10045.4.3.2";break;case "SHA-384":v="1.2.840.10045.4.3.3";break;case "SHA-512":v="1.2.840.10045.4.3.4"}break;case "ECDH":switch(G.kdf.toUpperCase()){case "SHA-1":v="1.3.133.16.840.63.0.2";break;case "SHA-256":v="1.3.132.1.11.1";break;case "SHA-384":v="1.3.132.1.11.2";break;case "SHA-512":v="1.3.132.1.11.3"}break;case "AES-CBC":switch(G.length){case 128:v="2.16.840.1.101.3.4.1.2";break;case 192:v="2.16.840.1.101.3.4.1.22";break;case 256:v="2.16.840.1.101.3.4.1.42"}break;
case "AES-GCM":switch(G.length){case 128:v="2.16.840.1.101.3.4.1.6";break;case 192:v="2.16.840.1.101.3.4.1.26";break;case 256:v="2.16.840.1.101.3.4.1.46"}break;case "AES-CFB":switch(G.length){case 128:v="2.16.840.1.101.3.4.1.4";break;case 192:v="2.16.840.1.101.3.4.1.24";break;case 256:v="2.16.840.1.101.3.4.1.44"}break;case "AES-KW":switch(G.length){case 128:v="2.16.840.1.101.3.4.1.5";break;case 192:v="2.16.840.1.101.3.4.1.25";break;case 256:v="2.16.840.1.101.3.4.1.45"}break;case "HMAC":switch(G.hash.name.toUpperCase()){case "SHA-1":v=
"1.2.840.113549.2.7";break;case "SHA-256":v="1.2.840.113549.2.9";break;case "SHA-384":v="1.2.840.113549.2.10";break;case "SHA-512":v="1.2.840.113549.2.11"}break;case "DH":v="1.2.840.113549.1.9.16.3.5";break;case "SHA-1":v="1.3.14.3.2.26";break;case "SHA-256":v="2.16.840.1.101.3.4.2.1";break;case "SHA-384":v="2.16.840.1.101.3.4.2.2";break;case "SHA-512":v="2.16.840.1.101.3.4.2.3";break;case "PBKDF2":v="1.2.840.113549.1.5.12";break;case "P-256":v="1.2.840.10045.3.1.7";break;case "P-384":v="1.3.132.0.34";
break;case "P-521":v="1.3.132.0.35"}return v};B.prototype.getAlgorithmParameters=function(G,v){var C={algorithm:{},usages:[]};switch(G.toUpperCase()){case "RSAES-PKCS1-V1_5":case "RSASSA-PKCS1-V1_5":switch(v.toLowerCase()){case "generatekey":C={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case "verify":case "sign":case "importkey":C={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};
break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case "RSA-PSS":switch(v.toLowerCase()){case "sign":case "verify":C={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case "generatekey":C={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case "importkey":C={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},
usages:[]}}break;case "RSA-OAEP":switch(v.toLowerCase()){case "encrypt":case "decrypt":C={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case "generatekey":C={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "importkey":C={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case "ECDSA":switch(v.toLowerCase()){case "generatekey":C=
{algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case "importkey":C={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case "verify":case "sign":C={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case "ECDH":switch(v.toLowerCase()){case "exportkey":case "importkey":case "generatekey":C={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case "derivekey":case "derivebits":C=
{algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case "AES-CTR":switch(v.toLowerCase()){case "importkey":case "exportkey":case "generatekey":C={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "decrypt":case "encrypt":C={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},
usages:[]}}break;case "AES-CBC":switch(v.toLowerCase()){case "importkey":case "exportkey":case "generatekey":C={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "decrypt":case "encrypt":C={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case "AES-GCM":switch(v.toLowerCase()){case "importkey":case "exportkey":case "generatekey":C=
{algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "decrypt":case "encrypt":C={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case "AES-KW":switch(v.toLowerCase()){case "importkey":case "exportkey":case "generatekey":case "wrapkey":case "unwrapkey":C={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};
break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case "HMAC":switch(v.toLowerCase()){case "sign":case "verify":C={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case "importkey":case "exportkey":case "generatekey":C={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case "HKDF":switch(v.toLowerCase()){case "derivekey":C={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),
info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case "PBKDF2":switch(v.toLowerCase()){case "derivekey":C={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1E4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}}return C};B.prototype.getHashAlgorithm=function(G){var v="";switch(G.algorithmId){case "1.2.840.10045.4.1":case "1.2.840.113549.1.1.5":v="SHA-1";break;
case "1.2.840.10045.4.3.2":case "1.2.840.113549.1.1.11":v="SHA-256";break;case "1.2.840.10045.4.3.3":case "1.2.840.113549.1.1.12":v="SHA-384";break;case "1.2.840.10045.4.3.4":case "1.2.840.113549.1.1.13":v="SHA-512";break;case "1.2.840.113549.1.1.10":try{var C=new p.a({schema:G.algorithmParams});if("hashAlgorithm"in C){var t=this.getAlgorithmByOID(C.hashAlgorithm.algorithmId);if(!1==="name"in t)return"";v=t.name}else v="SHA-1"}catch(S){}}return v};B.prototype.encryptEncryptedContentInfo=function(G){var v=
this;if(!1===G instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in G)return Promise.reject('Absent mandatory parameter "password"');if(!1==="contentEncryptionAlgorithm"in G)return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!1==="hmacHashAlgorithm"in G)return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!1==="iterationCount"in G)return Promise.reject('Absent mandatory parameter "iterationCount"');
if(!1==="contentToEncrypt"in G)return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!1==="contentType"in G)return Promise.reject('Absent mandatory parameter "contentType"');var C=this.getOIDByAlgorithm(G.contentEncryptionAlgorithm);if(""===C)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');var t=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===t)return Promise.reject("Can not find OID for PBKDF2");var S=this.getOIDByAlgorithm({name:"HMAC",hash:{name:G.hmacHashAlgorithm}});
if(""===S)return Promise.reject('Incorrect value for "hmacHashAlgorithm": '+G.hmacHashAlgorithm);var k=Promise.resolve(),e=new ArrayBuffer(16),q=new Uint8Array(e);this.getRandomValues(q);var I=new ArrayBuffer(64),g=new Uint8Array(I);this.getRandomValues(g);var y=new Uint8Array(G.contentToEncrypt),J=new z.a({salt:new K.OctetString({valueHex:I}),iterationCount:G.iterationCount,prf:new b.a({algorithmId:S,algorithmParams:new K.Null})});k=k.then(function(){var Q=new Uint8Array(G.password);return v.importKey("raw",
Q,"PBKDF2",!1,["deriveKey"])},function(Q){return Promise.reject(Q)});k=k.then(function(Q){return v.deriveKey({name:"PBKDF2",hash:{name:G.hmacHashAlgorithm},salt:g,iterations:G.iterationCount},Q,G.contentEncryptionAlgorithm,!1,["encrypt"])},function(Q){return Promise.reject(Q)});k=k.then(function(Q){return v.encrypt({name:G.contentEncryptionAlgorithm.name,iv:q},Q,y)},function(Q){return Promise.reject(Q)});return k=k.then(function(Q){var aa=new N.a({keyDerivationFunc:new b.a({algorithmId:t,algorithmParams:J.toSchema()}),
encryptionScheme:new b.a({algorithmId:C,algorithmParams:new K.OctetString({valueHex:e})})});return new f.a({contentType:G.contentType,contentEncryptionAlgorithm:new b.a({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:aa.toSchema()}),encryptedContent:new K.OctetString({valueHex:Q})})},function(Q){return Promise.reject(Q)})};B.prototype.decryptEncryptedContentInfo=function(G){var v=this;if(!1===G instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in
G)return Promise.reject('Absent mandatory parameter "password"');if(!1==="encryptedContentInfo"in G)return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==G.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject('Unknown "contentEncryptionAlgorithm": '+G.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);var C=Promise.resolve();try{var t=new N.a({schema:G.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(y){return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{var S=
new z.a({schema:t.keyDerivationFunc.algorithmParams})}catch(y){return Promise.reject('Incorrectly encoded "pbkdf2Params"')}var k=this.getAlgorithmByOID(t.encryptionScheme.algorithmId);if(!1==="name"in k)return Promise.reject('Incorrect OID for "contentEncryptionAlgorithm": '+t.encryptionScheme.algorithmId);var e=new Uint8Array(t.encryptionScheme.algorithmParams.valueBlock.valueHex),q=new Uint8Array(S.salt.valueBlock.valueHex),I=S.iterationCount,g="SHA-1";if("prf"in S){t=this.getAlgorithmByOID(S.prf.algorithmId);
if(!1==="name"in t)return Promise.reject("Incorrect OID for HMAC hash algorithm");g=t.hash.name}C=C.then(function(){return v.importKey("raw",G.password,"PBKDF2",!1,["deriveKey"])},function(y){return Promise.reject(y)});C=C.then(function(y){return v.deriveKey({name:"PBKDF2",hash:{name:g},salt:q,iterations:I},y,k,!1,["decrypt"])},function(y){return Promise.reject(y)});return C=C.then(function(y){var J=new ArrayBuffer(0);if(!1===G.encryptedContentInfo.encryptedContent.idBlock.isConstructed)J=G.encryptedContentInfo.encryptedContent.valueBlock.valueHex;
else for(var Q=$jscomp.makeIterator(G.encryptedContentInfo.encryptedContent.valueBlock.value),aa=Q.next();!aa.done;aa=Q.next())J=Object(V.j)(J,aa.value.valueBlock.valueHex);return v.decrypt({name:k.name,iv:e},y,J)},function(y){return Promise.reject(y)})};B.prototype.stampDataWithPassword=function(G){var v=this;if(!1===G instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in G)return Promise.reject('Absent mandatory parameter "password"');if(!1==="hashAlgorithm"in
G)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!1==="salt"in G)return Promise.reject('Absent mandatory parameter "iterationCount"');if(!1==="iterationCount"in G)return Promise.reject('Absent mandatory parameter "salt"');if(!1==="contentToStamp"in G)return Promise.reject('Absent mandatory parameter "contentToStamp"');switch(G.hashAlgorithm.toLowerCase()){case "sha-1":var C=160;break;case "sha-256":C=256;break;case "sha-384":C=384;break;case "sha-512":C=512;break;default:return Promise.reject('Incorrect "parameters.hashAlgorithm" parameter: '+
G.hashAlgorithm)}var t=Promise.resolve(),S={name:"HMAC",length:C,hash:{name:G.hashAlgorithm}};t=t.then(function(){return u(v,G.hashAlgorithm,C,G.password,G.salt,G.iterationCount)});t=t.then(function(k){return v.importKey("raw",new Uint8Array(k),S,!1,["sign"])});return t=t.then(function(k){return v.sign(S,k,new Uint8Array(G.contentToStamp))},function(k){return Promise.reject(k)})};B.prototype.verifyDataStampedWithPassword=function(G){var v=this;if(!1===G instanceof Object)return Promise.reject('Parameters must have type "Object"');
if(!1==="password"in G)return Promise.reject('Absent mandatory parameter "password"');if(!1==="hashAlgorithm"in G)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!1==="salt"in G)return Promise.reject('Absent mandatory parameter "iterationCount"');if(!1==="iterationCount"in G)return Promise.reject('Absent mandatory parameter "salt"');if(!1==="contentToVerify"in G)return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!1==="signatureToVerify"in G)return Promise.reject('Absent mandatory parameter "signatureToVerify"');
switch(G.hashAlgorithm.toLowerCase()){case "sha-1":var C=160;break;case "sha-256":C=256;break;case "sha-384":C=384;break;case "sha-512":C=512;break;default:return Promise.reject('Incorrect "parameters.hashAlgorithm" parameter: '+G.hashAlgorithm)}var t=Promise.resolve(),S={name:"HMAC",length:C,hash:{name:G.hashAlgorithm}};t=t.then(function(){return u(v,G.hashAlgorithm,C,G.password,G.salt,G.iterationCount)});t=t.then(function(k){return v.importKey("raw",new Uint8Array(k),S,!1,["verify"])});return t=
t.then(function(k){return v.verify(S,k,new Uint8Array(G.signatureToVerify),new Uint8Array(G.contentToVerify))},function(k){return Promise.reject(k)})};B.prototype.getSignatureParameters=function(G,v){v=void 0===v?"SHA-1":v;if(""===this.getOIDByAlgorithm({name:v}))return Promise.reject("Unsupported hash algorithm: "+v);var C=new b.a,t=this.getAlgorithmParameters(G.algorithm.name,"sign");t.algorithm.hash.name=v;switch(G.algorithm.name.toUpperCase()){case "RSASSA-PKCS1-V1_5":case "ECDSA":C.algorithmId=
this.getOIDByAlgorithm(t.algorithm);break;case "RSA-PSS":switch(v.toUpperCase()){case "SHA-256":t.algorithm.saltLength=32;break;case "SHA-384":t.algorithm.saltLength=48;break;case "SHA-512":t.algorithm.saltLength=64}G={};if("SHA-1"!==v.toUpperCase()){var S=this.getOIDByAlgorithm({name:v});if(""===S)return Promise.reject("Unsupported hash algorithm: "+v);G.hashAlgorithm=new b.a({algorithmId:S,algorithmParams:new K.Null});G.maskGenAlgorithm=new b.a({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:G.hashAlgorithm.toSchema()})}20!==
t.algorithm.saltLength&&(G.saltLength=t.algorithm.saltLength);v=new p.a(G);C.algorithmId="1.2.840.113549.1.1.10";C.algorithmParams=v.toSchema();break;default:return Promise.reject("Unsupported signature algorithm: "+G.algorithm.name)}return Promise.resolve().then(function(){return{signatureAlgorithm:C,parameters:t}})};B.prototype.signWithPrivateKey=function(G,v,C){return this.sign(C.algorithm,v,new Uint8Array(G)).then(function(t){"ECDSA"===C.algorithm.name&&(t=Object(l.a)(t));return t},function(t){return Promise.reject("Signing error: "+
t)})};B.prototype.fillPublicKeyParameters=function(G,v){var C={},t=this.getHashAlgorithm(v);if(""===t)return Promise.reject("Unsupported signature algorithm: "+v.algorithmId);v=this.getAlgorithmByOID("1.2.840.113549.1.1.10"===v.algorithmId?v.algorithmId:G.algorithm.algorithmId);C.algorithm=this.getAlgorithmParameters(v.name,"importkey");"hash"in C.algorithm.algorithm&&(C.algorithm.algorithm.hash.name=t);if("ECDSA"===v.name){t=!1;!0==="algorithmParams"in G.algorithm&&"idBlock"in G.algorithm.algorithmParams&&
1===G.algorithm.algorithmParams.idBlock.tagClass&&6===G.algorithm.algorithmParams.idBlock.tagNumber&&(t=!0);if(!1===t)return Promise.reject("Incorrect type for ECDSA public key parameters");t=this.getAlgorithmByOID(G.algorithm.algorithmParams.valueBlock.toString());if(!1==="name"in t)return Promise.reject("Unsupported named curve algorithm: "+G.algorithm.algorithmParams.valueBlock.toString());C.algorithm.algorithm.namedCurve=t.name}return C};B.prototype.getPublicKey=function(G,v,C){C=void 0===C?null:
C;null===C&&(C=this.fillPublicKeyParameters(G,v));G=G.toSchema().toBER(!1);G=new Uint8Array(G);return this.importKey("spki",G,C.algorithm.algorithm,!0,C.algorithm.usages)};B.prototype.verifyWithPublicKey=function(G,v,C,t,S){var k=this;S=void 0===S?null:S;var e=Promise.resolve();if(null===S){S=this.getHashAlgorithm(t);if(""===S)return Promise.reject("Unsupported signature algorithm: "+t.algorithmId);e=e.then(function(){return k.getPublicKey(C,t)})}else{var q={},I=this.getAlgorithmByOID("1.2.840.113549.1.1.10"===
t.algorithmId?t.algorithmId:C.algorithm.algorithmId);q.algorithm=this.getAlgorithmParameters(I.name,"importkey");"hash"in q.algorithm.algorithm&&(q.algorithm.algorithm.hash.name=S);if("ECDSA"===I.name){I=!1;!0==="algorithmParams"in C.algorithm&&"idBlock"in C.algorithm.algorithmParams&&1===C.algorithm.algorithmParams.idBlock.tagClass&&6===C.algorithm.algorithmParams.idBlock.tagNumber&&(I=!0);if(!1===I)return Promise.reject("Incorrect type for ECDSA public key parameters");I=this.getAlgorithmByOID(C.algorithm.algorithmParams.valueBlock.toString());
if(!1==="name"in I)return Promise.reject("Unsupported named curve algorithm: "+C.algorithm.algorithmParams.valueBlock.toString());q.algorithm.algorithm.namedCurve=I.name}e=e.then(function(){return k.getPublicKey(C,null,q)})}return e=e.then(function(g){var y=k.getAlgorithmParameters(g.algorithm.name,"verify");"hash"in y.algorithm&&(y.algorithm.hash.name=S);var J=v.valueBlock.valueHex;"ECDSA"===g.algorithm.name&&(J=K.fromBER(J),J=Object(l.b)(J.result));if("RSA-PSS"===g.algorithm.name){try{var Q=new p.a({schema:t.algorithmParams})}catch(Z){return Promise.reject(Z)}y.algorithm.saltLength=
"saltLength"in Q?Q.saltLength:20;var aa="SHA-1";if("hashAlgorithm"in Q){aa=k.getAlgorithmByOID(Q.hashAlgorithm.algorithmId);if(!1==="name"in aa)return Promise.reject("Unrecognized hash algorithm: "+Q.hashAlgorithm.algorithmId);aa=aa.name}y.algorithm.hash.name=aa}return k.verify(y.algorithm,g,new Uint8Array(J),new Uint8Array(G))})}},function(R,H,E){var u=E(5);E(7);R.exports=u.cipher=u.cipher||{};u.cipher.algorithms=u.cipher.algorithms||{};u.cipher.createCipher=function(K,V){var l=K;"string"===typeof l&&
(l=u.cipher.getAlgorithm(l))&&(l=l());if(!l)throw Error("Unsupported algorithm: "+K);return new u.cipher.BlockCipher({algorithm:l,key:V,decrypt:!1})};u.cipher.createDecipher=function(K,V){var l=K;"string"===typeof l&&(l=u.cipher.getAlgorithm(l))&&(l=l());if(!l)throw Error("Unsupported algorithm: "+K);return new u.cipher.BlockCipher({algorithm:l,key:V,decrypt:!0})};u.cipher.registerAlgorithm=function(K,V){K=K.toUpperCase();u.cipher.algorithms[K]=V};u.cipher.getAlgorithm=function(K){K=K.toUpperCase();
return K in u.cipher.algorithms?u.cipher.algorithms[K]:null};R=u.cipher.BlockCipher=function(K){this.algorithm=K.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this.output=this._input=null;this._op=K.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=K.decrypt;this.algorithm.initialize(K)};R.prototype.start=function(K){K=K||{};var V={},l;for(l in K)V[l]=K[l];V.decrypt=this._decrypt;this._finish=!1;this._input=u.util.createBuffer();this.output=K.output||
u.util.createBuffer();this.mode.start(V)};R.prototype.update=function(K){for(K&&this._input.putBuffer(K);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};R.prototype.finish=function(K){!K||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(l){return K(this.blockSize,l,!1)},this.mode.unpad=function(l){return K(this.blockSize,l,!0)});var V={};V.decrypt=this._decrypt;V.overflow=this._input.length()%this.blockSize;if(!this._decrypt&&
this.mode.pad&&!this.mode.pad(this._input,V))return!1;this._finish=!0;this.update();return this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,V)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,V)?!1:!0}},function(R,H,E){function u(){l=String.fromCharCode(128);l+=V.util.fillString(String.fromCharCode(0),64);h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];r=[7,12,17,22,7,
12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];b=Array(64);for(var p=0;64>p;++p)b[p]=Math.floor(4294967296*Math.abs(Math.sin(p+1)));f=!0}function K(p,z,N){for(var B,G,v,C,t,S,k,e=N.length();64<=e;){G=p.h0;v=p.h1;C=p.h2;t=p.h3;for(k=0;16>k;++k)z[k]=N.getInt32Le(),B=t^v&(C^t),B=G+B+b[k]+z[k],S=r[k],G=t,t=C,C=v,v+=B<<S|B>>>32-S;for(;32>k;++k)B=C^t&(v^C),B=G+B+b[k]+z[h[k]],S=r[k],G=t,t=C,C=
v,v+=B<<S|B>>>32-S;for(;48>k;++k)B=v^C^t,B=G+B+b[k]+z[h[k]],S=r[k],G=t,t=C,C=v,v+=B<<S|B>>>32-S;for(;64>k;++k)B=C^(v|~t),B=G+B+b[k]+z[h[k]],S=r[k],G=t,t=C,C=v,v+=B<<S|B>>>32-S;p.h0=p.h0+G|0;p.h1=p.h1+v|0;p.h2=p.h2+C|0;p.h3=p.h3+t|0;e-=64}}var V=E(5);E(17);E(7);R=R.exports=V.md5=V.md5||{};V.md.md5=V.md.algorithms.md5=R;R.create=function(){f||u();var p=null,z=V.util.createBuffer(),N=Array(16),B={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,
start:function(){B.messageLength=0;B.fullMessageLength=B.messageLength64=[];for(var G=B.messageLengthSize/4,v=0;v<G;++v)B.fullMessageLength.push(0);z=V.util.createBuffer();p={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878};return B}};B.start();B.update=function(G,v){"utf8"===v&&(G=V.util.encodeUtf8(G));v=G.length;B.messageLength+=v;v=[v/4294967296>>>0,v>>>0];for(var C=B.fullMessageLength.length-1;0<=C;--C)B.fullMessageLength[C]+=v[1],v[1]=v[0]+(B.fullMessageLength[C]/4294967296>>>0),B.fullMessageLength[C]>>>=
0,v[0]=v[1]/4294967296>>>0;z.putBytes(G);K(p,N,z);(2048<z.read||0===z.length())&&z.compact();return B};B.digest=function(){var G=V.util.createBuffer();G.putBytes(z.bytes());G.putBytes(l.substr(0,B.blockLength-(B.fullMessageLength[B.fullMessageLength.length-1]+B.messageLengthSize&B.blockLength-1)));for(var v,C=0,t=B.fullMessageLength.length-1;0<=t;--t)v=8*B.fullMessageLength[t]+C,C=v/4294967296>>>0,G.putInt32Le(v>>>0);v={h0:p.h0,h1:p.h1,h2:p.h2,h3:p.h3};K(v,N,G);G=V.util.createBuffer();G.putInt32Le(v.h0);
G.putInt32Le(v.h1);G.putInt32Le(v.h2);G.putInt32Le(v.h3);return G};return B};var l=null,h=null,r=null,b=null,f=!1},function(R,H,E){(function(u){var K=E(5);E(25);E(17);E(7);var V=K.pkcs5=K.pkcs5||{},l;K.util.isNodejs&&!K.options.usePureJavaScript&&(l=E(39));R.exports=K.pbkdf2=V.pbkdf2=function(h,r,b,f,p,z){function N(){if(e>v)return z(null,S);t.start(null,null);t.update(r);t.update(K.util.int32ToBytes(e));q=k=t.digest().getBytes();I=2;B()}function B(){if(I<=b)return t.start(null,null),t.update(k),
g=t.digest().getBytes(),q=K.util.xorBytes(q,g,G),k=g,++I,K.util.setImmediate(B);S+=e<v?q:q.substr(0,C);++e;N()}"function"===typeof p&&(z=p,p=null);if(K.util.isNodejs&&!K.options.usePureJavaScript&&l.pbkdf2&&(null===p||"object"!==typeof p)&&(4<l.pbkdf2Sync.length||!p||"sha1"===p))return"string"!==typeof p&&(p="sha1"),h=u.from(h,"binary"),r=u.from(r,"binary"),z?4===l.pbkdf2Sync.length?l.pbkdf2(h,r,b,f,function(y,J){if(y)return z(y);z(null,J.toString("binary"))}):l.pbkdf2(h,r,b,f,p,function(y,J){if(y)return z(y);
z(null,J.toString("binary"))}):4===l.pbkdf2Sync.length?l.pbkdf2Sync(h,r,b,f).toString("binary"):l.pbkdf2Sync(h,r,b,f,p).toString("binary");if("undefined"===typeof p||null===p)p="sha1";if("string"===typeof p){if(!(p in K.md.algorithms))throw Error("Unknown hash algorithm: "+p);p=K.md[p].create()}var G=p.digestLength;if(f>4294967295*G){h=Error("Derived key is too long.");if(z)return z(h);throw h;}var v=Math.ceil(f/G),C=f-(v-1)*G,t=K.hmac.create();t.start(p,h);var S="",k;if(!z){for(var e=1;e<=v;++e){t.start(null,
null);t.update(r);t.update(K.util.int32ToBytes(e));var q=k=t.digest().getBytes();for(var I=2;I<=b;++I){t.start(null,null);t.update(k);var g=t.digest().getBytes();q=K.util.xorBytes(q,g,G);k=g}S+=e<v?q:q.substr(0,C)}return S}e=1;N()}}).call(this,E(6).Buffer)},function(R,H){},function(R,H,E){function u(k,e){"string"===typeof e&&(e={shortName:e});for(var q=null,I,g=0;null===q&&g<k.attributes.length;++g)I=k.attributes[g],e.type&&e.type===I.type?q=I:e.name&&e.name===I.name?q=I:e.shortName&&e.shortName===
I.shortName&&(q=I);return q}function K(k){var e=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);k=k.attributes;for(var q=0;q<k.length;++q){var I=k[q];var g=I.value,y=f.Type.PRINTABLESTRING;"valueTagClass"in I&&(y=I.valueTagClass,y===f.Type.UTF8&&(g=b.util.encodeUtf8(g)));I=f.create(f.Class.UNIVERSAL,f.Type.SET,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(I.type).getBytes()),f.create(f.Class.UNIVERSAL,y,!1,g)])]);e.value.push(I)}return e}
function V(k){for(var e,q=0;q<k.length;++q){e=k[q];"undefined"===typeof e.name&&(e.type&&e.type in p.oids?e.name=p.oids[e.type]:e.shortName&&e.shortName in N&&(e.name=p.oids[N[e.shortName]]));if("undefined"===typeof e.type)if(e.name&&e.name in p.oids)e.type=p.oids[e.name];else throw k=Error("Attribute type not specified."),k.attribute=e,k;"undefined"===typeof e.shortName&&e.name&&e.name in N&&(e.shortName=N[e.name]);if(e.type===z.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=f.Type.SEQUENCE,
!e.value&&e.extensions)){e.value=[];for(var I=0;I<e.extensions.length;++I)e.value.push(p.certificateExtensionToAsn1(l(e.extensions[I])))}if("undefined"===typeof e.value)throw k=Error("Attribute value not specified."),k.attribute=e,k;}}function l(k,e){e=e||{};"undefined"===typeof k.name&&k.id&&k.id in p.oids&&(k.name=p.oids[k.id]);if("undefined"===typeof k.id)if(k.name&&k.name in p.oids)k.id=p.oids[k.name];else{var q=Error("Extension ID not specified.");q.extension=k;throw q;}if("undefined"!==typeof k.value)return k;
if("keyUsage"===k.name){var I=q=e=0;k.digitalSignature&&(q|=128,e=7);k.nonRepudiation&&(q|=64,e=6);k.keyEncipherment&&(q|=32,e=5);k.dataEncipherment&&(q|=16,e=4);k.keyAgreement&&(q|=8,e=3);k.keyCertSign&&(q|=4,e=2);k.cRLSign&&(q|=2,e=1);k.encipherOnly&&(q|=1,e=0);k.decipherOnly&&(I|=128,e=7);e=String.fromCharCode(e);0!==I?e+=String.fromCharCode(q)+String.fromCharCode(I):0!==q&&(e+=String.fromCharCode(q));k.value=f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,e)}else if("basicConstraints"===k.name)k.value=
f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),k.cA&&k.value.value.push(f.create(f.Class.UNIVERSAL,f.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in k&&k.value.value.push(f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(k.pathLenConstraint).getBytes()));else if("extKeyUsage"===k.name)for(I in k.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),q=k.value.value,k)!0===k[I]&&(I in z?q.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(z[I]).getBytes())):-1!==
I.indexOf(".")&&q.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(I).getBytes())));else if("nsCertType"===k.name)q=e=0,k.client&&(q|=128,e=7),k.server&&(q|=64,e=6),k.email&&(q|=32,e=5),k.objsign&&(q|=16,e=4),k.reserved&&(q|=8,e=3),k.sslCA&&(q|=4,e=2),k.emailCA&&(q|=2,e=1),k.objCA&&(q|=1,e=0),e=String.fromCharCode(e),0!==q&&(e+=String.fromCharCode(q)),k.value=f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,e);else if("subjectAltName"===k.name||"issuerAltName"===k.name){k.value=f.create(f.Class.UNIVERSAL,
f.Type.SEQUENCE,!0,[]);for(var g=0;g<k.altNames.length;++g){I=k.altNames[g];e=I.value;if(7===I.type&&I.ip){if(e=b.util.bytesFromIP(I.ip),null===e)throw q=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.'),q.extension=k,q;}else 8===I.type&&(e=I.oid?f.oidToDer(f.oidToDer(I.oid)):f.oidToDer(e));k.value.value.push(f.create(f.Class.CONTEXT_SPECIFIC,I.type,!1,e))}}else if("nsComment"===k.name&&e.cert){if(!/^[\x00-\x7F]*$/.test(k.comment)||1>k.comment.length||128<k.comment.length)throw Error('Invalid "nsComment" content.');
k.value=f.create(f.Class.UNIVERSAL,f.Type.IA5STRING,!1,k.comment)}else if("subjectKeyIdentifier"===k.name&&e.cert)q=e.cert.generateSubjectKeyIdentifier(),k.subjectKeyIdentifier=q.toHex(),k.value=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,q.getBytes());else if("authorityKeyIdentifier"===k.name&&e.cert)k.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),q=k.value.value,k.keyIdentifier&&(I=!0===k.keyIdentifier?e.cert.generateSubjectKeyIdentifier().getBytes():k.keyIdentifier,q.push(f.create(f.Class.CONTEXT_SPECIFIC,
0,!1,I))),k.authorityCertIssuer&&(I=[f.create(f.Class.CONTEXT_SPECIFIC,4,!0,[K(!0===k.authorityCertIssuer?e.cert.issuer:k.authorityCertIssuer)])],q.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,I))),k.serialNumber&&(e=b.util.hexToBytes(!0===k.serialNumber?e.cert.serialNumber:k.serialNumber),q.push(f.create(f.Class.CONTEXT_SPECIFIC,2,!1,e)));else if("cRLDistributionPoints"===k.name){k.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);q=k.value.value;var y=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,
!0,[]),J=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[]);for(g=0;g<k.altNames.length;++g){I=k.altNames[g];e=I.value;if(7===I.type&&I.ip){if(e=b.util.bytesFromIP(I.ip),null===e)throw q=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.'),q.extension=k,q;}else 8===I.type&&(e=I.oid?f.oidToDer(f.oidToDer(I.oid)):f.oidToDer(e));J.value.push(f.create(f.Class.CONTEXT_SPECIFIC,I.type,!1,e))}y.value.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[J]));q.push(y)}if("undefined"===typeof k.value)throw q=
Error("Extension value not specified."),q.extension=k,q;return k}function h(k,e){switch(k){case z["RSASSA-PSS"]:return k=[],void 0!==e.hash.algorithmOid&&k.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.hash.algorithmOid).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])])),void 0!==e.mgf.algorithmOid&&k.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,
!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.mgf.algorithmOid).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.mgf.hash.algorithmOid).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])])])),void 0!==e.saltLength&&k.push(f.create(f.Class.CONTEXT_SPECIFIC,2,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(e.saltLength).getBytes())])),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,k);default:return f.create(f.Class.UNIVERSAL,
f.Type.NULL,!1,"")}}function r(k){return k>=t&&k<S?f.create(f.Class.UNIVERSAL,f.Type.UTCTIME,!1,f.dateToUtcTime(k)):f.create(f.Class.UNIVERSAL,f.Type.GENERALIZEDTIME,!1,f.dateToGeneralizedTime(k))}var b=E(5);E(20);E(16);E(32);E(17);E(76);E(21);E(22);E(41);E(33);E(7);var f=b.asn1,p=R.exports=b.pki=b.pki||{},z=p.oids,N={};N.CN=z.commonName;N.commonName="CN";N.C=z.countryName;N.countryName="C";N.L=z.localityName;N.localityName="L";N.ST=z.stateOrProvinceName;N.stateOrProvinceName="ST";N.O=z.organizationName;
N.organizationName="O";N.OU=z.organizationalUnitName;N.organizationalUnitName="OU";N.E=z.emailAddress;N.emailAddress="E";R=b.pki.rsa.publicKeyValidator;var B={name:"Certificate",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:f.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",
tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",
tagClass:f.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:f.Class.UNIVERSAL,type:f.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",
tagClass:f.Class.UNIVERSAL,type:f.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:f.Class.UNIVERSAL,type:f.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:f.Class.UNIVERSAL,type:f.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",
tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},R,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:f.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:f.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",
tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:f.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"certSignatureOid"},
{name:"Certificate.TBSCertificate.signature.parameters",tagClass:f.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},G={name:"rsapss",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:f.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,
type:f.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:f.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,
type:f.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:f.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:f.Class.UNIVERSAL,type:f.Class.INTEGER,
constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:f.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:f.Class.UNIVERSAL,type:f.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},v={name:"CertificationRequest",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",
tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},R,{name:"CertificationRequestInfo.attributes",tagClass:f.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,
constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:f.Class.UNIVERSAL,type:f.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"csrSignatureOid"},
{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:f.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};p.RDNAttributesAsArray=function(k,e){for(var q=[],I,g,y,J=0;J<k.value.length;++J){I=k.value[J];for(var Q=0;Q<I.value.length;++Q)y={},g=I.value[Q],y.type=f.derToOid(g.value[0].value),y.value=g.value[1].value,y.valueTagClass=g.value[1].type,
y.type in z&&(y.name=z[y.type],y.name in N&&(y.shortName=N[y.name])),e&&(e.update(y.type),e.update(y.value)),q.push(y)}return q};p.CRIAttributesAsArray=function(k){for(var e=[],q=0;q<k.length;++q){var I=k[q],g=f.derToOid(I.value[0].value);I=I.value[1].value;for(var y=0;y<I.length;++y){var J={};J.type=g;J.value=I[y].value;J.valueTagClass=I[y].type;J.type in z&&(J.name=z[J.type],J.name in N&&(J.shortName=N[J.name]));if(J.type===z.extensionRequest){J.extensions=[];for(var Q=0;Q<J.value.length;++Q)J.extensions.push(p.certificateExtensionFromAsn1(J.value[Q]))}e.push(J)}}return e};
var C=function(k,e,q){var I={};if(k!==z["RSASSA-PSS"])return I;q&&(I={hash:{algorithmOid:z.sha1},mgf:{algorithmOid:z.mgf1,hash:{algorithmOid:z.sha1}},saltLength:20});q={};k=[];if(!f.validate(e,G,q,k))throw e=Error("Cannot read RSASSA-PSS parameter block."),e.errors=k,e;void 0!==q.hashOid&&(I.hash=I.hash||{},I.hash.algorithmOid=f.derToOid(q.hashOid));void 0!==q.maskGenOid&&(I.mgf=I.mgf||{},I.mgf.algorithmOid=f.derToOid(q.maskGenOid),I.mgf.hash=I.mgf.hash||{},I.mgf.hash.algorithmOid=f.derToOid(q.maskGenHashOid));
void 0!==q.saltLength&&(I.saltLength=q.saltLength.charCodeAt(0));return I};p.certificateFromPem=function(k,e,q){k=b.pem.decode(k)[0];if("CERTIFICATE"!==k.type&&"X509 CERTIFICATE"!==k.type&&"TRUSTED CERTIFICATE"!==k.type)throw e=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".'),e.headerType=k.type,e;if(k.procType&&"ENCRYPTED"===k.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");
q=f.fromDer(k.body,q);return p.certificateFromAsn1(q,e)};p.certificateToPem=function(k,e){k={type:"CERTIFICATE",body:f.toDer(p.certificateToAsn1(k)).getBytes()};return b.pem.encode(k,{maxline:e})};p.publicKeyFromPem=function(k){k=b.pem.decode(k)[0];if("PUBLIC KEY"!==k.type&&"RSA PUBLIC KEY"!==k.type){var e=Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');e.headerType=k.type;throw e;}if(k.procType&&"ENCRYPTED"===k.procType.type)throw Error("Could not convert public key from PEM; PEM is encrypted.");
k=f.fromDer(k.body);return p.publicKeyFromAsn1(k)};p.publicKeyToPem=function(k,e){k={type:"PUBLIC KEY",body:f.toDer(p.publicKeyToAsn1(k)).getBytes()};return b.pem.encode(k,{maxline:e})};p.publicKeyToRSAPublicKeyPem=function(k,e){k={type:"RSA PUBLIC KEY",body:f.toDer(p.publicKeyToRSAPublicKey(k)).getBytes()};return b.pem.encode(k,{maxline:e})};p.getPublicKeyFingerprint=function(k,e){e=e||{};var q=e.md||b.md.sha1.create();switch(e.type||"RSAPublicKey"){case "RSAPublicKey":k=f.toDer(p.publicKeyToRSAPublicKey(k)).getBytes();
break;case "SubjectPublicKeyInfo":k=f.toDer(p.publicKeyToAsn1(k)).getBytes();break;default:throw Error('Unknown fingerprint type "'+e.type+'".');}q.start();q.update(k);q=q.digest();if("hex"===e.encoding)return q=q.toHex(),e.delimiter?q.match(/.{2}/g).join(e.delimiter):q;if("binary"===e.encoding)return q.getBytes();if(e.encoding)throw Error('Unknown encoding "'+e.encoding+'".');return q};p.certificationRequestFromPem=function(k,e,q){k=b.pem.decode(k)[0];if("CERTIFICATE REQUEST"!==k.type)throw e=Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".'),
e.headerType=k.type,e;if(k.procType&&"ENCRYPTED"===k.procType.type)throw Error("Could not convert certification request from PEM; PEM is encrypted.");q=f.fromDer(k.body,q);return p.certificationRequestFromAsn1(q,e)};p.certificationRequestToPem=function(k,e){k={type:"CERTIFICATE REQUEST",body:f.toDer(p.certificationRequestToAsn1(k)).getBytes()};return b.pem.encode(k,{maxline:e})};p.createCertificate=function(){var k={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};k.siginfo.algorithmOid=
null;k.validity={};k.validity.notBefore=new Date;k.validity.notAfter=new Date;k.issuer={};k.issuer.getField=function(e){return u(k.issuer,e)};k.issuer.addField=function(e){V([e]);k.issuer.attributes.push(e)};k.issuer.attributes=[];k.issuer.hash=null;k.subject={};k.subject.getField=function(e){return u(k.subject,e)};k.subject.addField=function(e){V([e]);k.subject.attributes.push(e)};k.subject.attributes=[];k.subject.hash=null;k.extensions=[];k.publicKey=null;k.md=null;k.setSubject=function(e,q){V(e);
k.subject.attributes=e;delete k.subject.uniqueId;q&&(k.subject.uniqueId=q);k.subject.hash=null};k.setIssuer=function(e,q){V(e);k.issuer.attributes=e;delete k.issuer.uniqueId;q&&(k.issuer.uniqueId=q);k.issuer.hash=null};k.setExtensions=function(e){for(var q=0;q<e.length;++q)l(e[q],{cert:k});k.extensions=e};k.getExtension=function(e){"string"===typeof e&&(e={name:e});for(var q=null,I,g=0;null===q&&g<k.extensions.length;++g)I=k.extensions[g],e.id&&I.id===e.id?q=I:e.name&&I.name===e.name&&(q=I);return q};
k.sign=function(e,q){k.md=q||b.md.sha1.create();q=z[k.md.algorithm+"WithRSAEncryption"];if(!q)throw e=Error("Could not compute certificate digest. Unknown message digest algorithm OID."),e.algorithm=k.md.algorithm,e;k.signatureOid=k.siginfo.algorithmOid=q;k.tbsCertificate=p.getTBSCertificate(k);q=f.toDer(k.tbsCertificate);k.md.update(q.getBytes());k.signature=e.sign(k.md)};k.verify=function(e){var q=!1;if(!k.issued(e)){q=k.subject;var I=Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");
I.expectedIssuer=e.issuer.attributes;I.actualIssuer=q.attributes;throw I;}I=e.md;if(null===I){if(e.signatureOid in z)switch(z[e.signatureOid]){case "sha1WithRSAEncryption":I=b.md.sha1.create();break;case "md5WithRSAEncryption":I=b.md.md5.create();break;case "sha256WithRSAEncryption":I=b.md.sha256.create();break;case "sha384WithRSAEncryption":I=b.md.sha384.create();break;case "sha512WithRSAEncryption":I=b.md.sha512.create();break;case "RSASSA-PSS":I=b.md.sha256.create()}if(null===I)throw I=Error("Could not compute certificate digest. Unknown signature OID."),
I.signatureOid=e.signatureOid,I;var g=e.tbsCertificate||p.getTBSCertificate(e);g=f.toDer(g);I.update(g.getBytes())}if(null!==I){switch(e.signatureOid){case z.sha1WithRSAEncryption:var y=void 0;break;case z["RSASSA-PSS"]:q=z[e.signatureParameters.mgf.hash.algorithmOid];if(void 0===q||void 0===b.md[q])throw I=Error("Unsupported MGF hash function."),I.oid=e.signatureParameters.mgf.hash.algorithmOid,I.name=q,I;y=z[e.signatureParameters.mgf.algorithmOid];if(void 0===y||void 0===b.mgf[y])throw I=Error("Unsupported MGF function."),
I.oid=e.signatureParameters.mgf.algorithmOid,I.name=y,I;y=b.mgf[y].create(b.md[q].create());q=z[e.signatureParameters.hash.algorithmOid];if(void 0===q||void 0===b.md[q])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:q};y=b.pss.create(b.md[q].create(),y,e.signatureParameters.saltLength)}q=k.publicKey.verify(I.digest().getBytes(),e.signature,y)}return q};k.isIssuer=function(e){var q=!1,I=k.issuer;e=e.subject;if(I.hash&&e.hash)q=I.hash===e.hash;
else if(I.attributes.length===e.attributes.length){q=!0;for(var g,y,J=0;q&&J<I.attributes.length;++J)if(g=I.attributes[J],y=e.attributes[J],g.type!==y.type||g.value!==y.value)q=!1}return q};k.issued=function(e){return e.isIssuer(k)};k.generateSubjectKeyIdentifier=function(){return p.getPublicKeyFingerprint(k.publicKey,{type:"RSAPublicKey"})};k.verifySubjectKeyIdentifier=function(){for(var e=z.subjectKeyIdentifier,q=0;q<k.extensions.length;++q){var I=k.extensions[q];if(I.id===e)return e=k.generateSubjectKeyIdentifier().getBytes(),
b.util.hexToBytes(I.subjectKeyIdentifier)===e}return!1};return k};p.certificateFromAsn1=function(k,e){var q={},I=[];if(!f.validate(k,B,q,I))throw q=Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate."),q.errors=I,q;I=f.derToOid(q.publicKeyOid);if(I!==p.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var g=p.createCertificate();g.version=q.certVersion?q.certVersion.charCodeAt(0):0;I=b.util.createBuffer(q.certSerialNumber);g.serialNumber=I.toHex();
g.signatureOid=b.asn1.derToOid(q.certSignatureOid);g.signatureParameters=C(g.signatureOid,q.certSignatureParams,!0);g.siginfo.algorithmOid=b.asn1.derToOid(q.certinfoSignatureOid);g.siginfo.parameters=C(g.siginfo.algorithmOid,q.certinfoSignatureParams,!1);g.signature=q.certSignature;I=[];void 0!==q.certValidity1UTCTime&&I.push(f.utcTimeToDate(q.certValidity1UTCTime));void 0!==q.certValidity2GeneralizedTime&&I.push(f.generalizedTimeToDate(q.certValidity2GeneralizedTime));void 0!==q.certValidity3UTCTime&&
I.push(f.utcTimeToDate(q.certValidity3UTCTime));void 0!==q.certValidity4GeneralizedTime&&I.push(f.generalizedTimeToDate(q.certValidity4GeneralizedTime));if(2<I.length)throw Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(2>I.length)throw Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");g.validity.notBefore=I[0];g.validity.notAfter=I[1];g.tbsCertificate=q.tbsCertificate;
if(e){g.md=null;if(g.signatureOid in z)switch(I=z[g.signatureOid],I){case "sha1WithRSAEncryption":g.md=b.md.sha1.create();break;case "md5WithRSAEncryption":g.md=b.md.md5.create();break;case "sha256WithRSAEncryption":g.md=b.md.sha256.create();break;case "sha384WithRSAEncryption":g.md=b.md.sha384.create();break;case "sha512WithRSAEncryption":g.md=b.md.sha512.create();break;case "RSASSA-PSS":g.md=b.md.sha256.create()}if(null===g.md)throw q=Error("Could not compute certificate digest. Unknown signature OID."),
q.signatureOid=g.signatureOid,q;e=f.toDer(g.tbsCertificate);g.md.update(e.getBytes())}e=b.md.sha1.create();g.issuer.getField=function(y){return u(g.issuer,y)};g.issuer.addField=function(y){V([y]);g.issuer.attributes.push(y)};g.issuer.attributes=p.RDNAttributesAsArray(q.certIssuer,e);q.certIssuerUniqueId&&(g.issuer.uniqueId=q.certIssuerUniqueId);g.issuer.hash=e.digest().toHex();e=b.md.sha1.create();g.subject.getField=function(y){return u(g.subject,y)};g.subject.addField=function(y){V([y]);g.subject.attributes.push(y)};
g.subject.attributes=p.RDNAttributesAsArray(q.certSubject,e);q.certSubjectUniqueId&&(g.subject.uniqueId=q.certSubjectUniqueId);g.subject.hash=e.digest().toHex();g.extensions=q.certExtensions?p.certificateExtensionsFromAsn1(q.certExtensions):[];g.publicKey=p.publicKeyFromAsn1(q.subjectPublicKeyInfo);return g};p.certificateExtensionsFromAsn1=function(k){for(var e=[],q=0;q<k.value.length;++q)for(var I=k.value[q],g=0;g<I.value.length;++g)e.push(p.certificateExtensionFromAsn1(I.value[g]));return e};p.certificateExtensionFromAsn1=
function(k){var e={};e.id=f.derToOid(k.value[0].value);e.critical=!1;k.value[1].type===f.Type.BOOLEAN?(e.critical=0!==k.value[1].value.charCodeAt(0),e.value=k.value[2].value):e.value=k.value[1].value;if(e.id in z)if(e.name=z[e.id],"keyUsage"===e.name){k=f.fromDer(e.value);var q=0,I=0;1<k.value.length&&(q=k.value.charCodeAt(1),I=2<k.value.length?k.value.charCodeAt(2):0);e.digitalSignature=128===(q&128);e.nonRepudiation=64===(q&64);e.keyEncipherment=32===(q&32);e.dataEncipherment=16===(q&16);e.keyAgreement=
8===(q&8);e.keyCertSign=4===(q&4);e.cRLSign=2===(q&2);e.encipherOnly=1===(q&1);e.decipherOnly=128===(I&128)}else if("basicConstraints"===e.name)k=f.fromDer(e.value),e.cA=0<k.value.length&&k.value[0].type===f.Type.BOOLEAN?0!==k.value[0].value.charCodeAt(0):!1,q=null,0<k.value.length&&k.value[0].type===f.Type.INTEGER?q=k.value[0].value:1<k.value.length&&(q=k.value[1].value),null!==q&&(e.pathLenConstraint=f.derToInteger(q));else if("extKeyUsage"===e.name)for(k=f.fromDer(e.value),q=0;q<k.value.length;++q)I=
f.derToOid(k.value[q].value),I in z?e[z[I]]=!0:e[I]=!0;else if("nsCertType"===e.name)k=f.fromDer(e.value),q=0,1<k.value.length&&(q=k.value.charCodeAt(1)),e.client=128===(q&128),e.server=64===(q&64),e.email=32===(q&32),e.objsign=16===(q&16),e.reserved=8===(q&8),e.sslCA=4===(q&4),e.emailCA=2===(q&2),e.objCA=1===(q&1);else if("subjectAltName"===e.name||"issuerAltName"===e.name)for(e.altNames=[],k=f.fromDer(e.value),I=0;I<k.value.length;++I){q=k.value[I];var g={type:q.type,value:q.value};e.altNames.push(g);
switch(q.type){case 7:g.ip=b.util.bytesToIP(q.value);break;case 8:g.oid=f.derToOid(q.value)}}else"subjectKeyIdentifier"===e.name&&(k=f.fromDer(e.value),e.subjectKeyIdentifier=b.util.bytesToHex(k.value));return e};p.certificationRequestFromAsn1=function(k,e){var q={},I=[];if(!f.validate(k,v,q,I))throw q=Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest."),q.errors=I,q;I=f.derToOid(q.publicKeyOid);if(I!==p.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");
var g=p.createCertificationRequest();g.version=q.csrVersion?q.csrVersion.charCodeAt(0):0;g.signatureOid=b.asn1.derToOid(q.csrSignatureOid);g.signatureParameters=C(g.signatureOid,q.csrSignatureParams,!0);g.siginfo.algorithmOid=b.asn1.derToOid(q.csrSignatureOid);g.siginfo.parameters=C(g.siginfo.algorithmOid,q.csrSignatureParams,!1);g.signature=q.csrSignature;g.certificationRequestInfo=q.certificationRequestInfo;if(e){g.md=null;if(g.signatureOid in z)switch(I=z[g.signatureOid],I){case "sha1WithRSAEncryption":g.md=
b.md.sha1.create();break;case "md5WithRSAEncryption":g.md=b.md.md5.create();break;case "sha256WithRSAEncryption":g.md=b.md.sha256.create();break;case "sha384WithRSAEncryption":g.md=b.md.sha384.create();break;case "sha512WithRSAEncryption":g.md=b.md.sha512.create();break;case "RSASSA-PSS":g.md=b.md.sha256.create()}if(null===g.md)throw q=Error("Could not compute certification request digest. Unknown signature OID."),q.signatureOid=g.signatureOid,q;e=f.toDer(g.certificationRequestInfo);g.md.update(e.getBytes())}e=
b.md.sha1.create();g.subject.getField=function(y){return u(g.subject,y)};g.subject.addField=function(y){V([y]);g.subject.attributes.push(y)};g.subject.attributes=p.RDNAttributesAsArray(q.certificationRequestInfoSubject,e);g.subject.hash=e.digest().toHex();g.publicKey=p.publicKeyFromAsn1(q.subjectPublicKeyInfo);g.getAttribute=function(y){return u(g,y)};g.addAttribute=function(y){V([y]);g.attributes.push(y)};g.attributes=p.CRIAttributesAsArray(q.certificationRequestInfoAttributes||[]);return g};p.createCertificationRequest=
function(){var k={version:0,signatureOid:null,signature:null,siginfo:{}};k.siginfo.algorithmOid=null;k.subject={};k.subject.getField=function(e){return u(k.subject,e)};k.subject.addField=function(e){V([e]);k.subject.attributes.push(e)};k.subject.attributes=[];k.subject.hash=null;k.publicKey=null;k.attributes=[];k.getAttribute=function(e){return u(k,e)};k.addAttribute=function(e){V([e]);k.attributes.push(e)};k.md=null;k.setSubject=function(e){V(e);k.subject.attributes=e;k.subject.hash=null};k.setAttributes=
function(e){V(e);k.attributes=e};k.sign=function(e,q){k.md=q||b.md.sha1.create();q=z[k.md.algorithm+"WithRSAEncryption"];if(!q)throw e=Error("Could not compute certification request digest. Unknown message digest algorithm OID."),e.algorithm=k.md.algorithm,e;k.signatureOid=k.siginfo.algorithmOid=q;k.certificationRequestInfo=p.getCertificationRequestInfo(k);q=f.toDer(k.certificationRequestInfo);k.md.update(q.getBytes());k.signature=e.sign(k.md)};k.verify=function(){var e=!1,q=k.md;if(null===q){if(k.signatureOid in
z)switch(z[k.signatureOid]){case "sha1WithRSAEncryption":q=b.md.sha1.create();break;case "md5WithRSAEncryption":q=b.md.md5.create();break;case "sha256WithRSAEncryption":q=b.md.sha256.create();break;case "sha384WithRSAEncryption":q=b.md.sha384.create();break;case "sha512WithRSAEncryption":q=b.md.sha512.create();break;case "RSASSA-PSS":q=b.md.sha256.create()}if(null===q)throw q=Error("Could not compute certification request digest. Unknown signature OID."),q.signatureOid=k.signatureOid,q;var I=k.certificationRequestInfo||
p.getCertificationRequestInfo(k);I=f.toDer(I);q.update(I.getBytes())}if(null!==q){switch(k.signatureOid){case z["RSASSA-PSS"]:e=z[k.signatureParameters.mgf.hash.algorithmOid];if(void 0===e||void 0===b.md[e])throw q=Error("Unsupported MGF hash function."),q.oid=k.signatureParameters.mgf.hash.algorithmOid,q.name=e,q;var g=z[k.signatureParameters.mgf.algorithmOid];if(void 0===g||void 0===b.mgf[g])throw q=Error("Unsupported MGF function."),q.oid=k.signatureParameters.mgf.algorithmOid,q.name=g,q;g=b.mgf[g].create(b.md[e].create());
e=z[k.signatureParameters.hash.algorithmOid];if(void 0===e||void 0===b.md[e])throw q=Error("Unsupported RSASSA-PSS hash function."),q.oid=k.signatureParameters.hash.algorithmOid,q.name=e,q;g=b.pss.create(b.md[e].create(),g,k.signatureParameters.saltLength)}e=k.publicKey.verify(q.digest().getBytes(),k.signature,g)}return e};return k};var t=new Date("1950-01-01T00:00:00Z"),S=new Date("2050-01-01T00:00:00Z");p.getTBSCertificate=function(k){var e=r(k.validity.notBefore),q=r(k.validity.notAfter);e=f.create(f.Class.UNIVERSAL,
f.Type.SEQUENCE,!0,[f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(k.version).getBytes())]),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,b.util.hexToBytes(k.serialNumber)),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(k.siginfo.algorithmOid).getBytes()),h(k.siginfo.algorithmOid,k.siginfo.parameters)]),K(k.issuer),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[e,q]),K(k.subject),p.publicKeyToAsn1(k.publicKey)]);
k.issuer.uniqueId&&e.value.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,[f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+k.issuer.uniqueId)]));k.subject.uniqueId&&e.value.push(f.create(f.Class.CONTEXT_SPECIFIC,2,!0,[f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+k.subject.uniqueId)]));0<k.extensions.length&&e.value.push(p.certificateExtensionsToAsn1(k.extensions));return e};p.getCertificationRequestInfo=function(k){var e=f,q=e.create,I=f.Class.UNIVERSAL,
g=f.Type.SEQUENCE,y=f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(k.version).getBytes()),J=K(k.subject),Q=p.publicKeyToAsn1(k.publicKey);var aa=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0!==k.attributes.length){k=k.attributes;for(var Z=0;Z<k.length;++Z){var ca=k[Z],fa=ca.value,ha=f.Type.UTF8;"valueTagClass"in ca&&(ha=ca.valueTagClass);ha===f.Type.UTF8&&(fa=b.util.encodeUtf8(fa));var pa=!1;"valueConstructed"in ca&&(pa=ca.valueConstructed);ca=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,
!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(ca.type).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SET,!0,[f.create(f.Class.UNIVERSAL,ha,pa,fa)])]);aa.value.push(ca)}}return q.call(e,I,g,!0,[y,J,Q,aa])};p.distinguishedNameToAsn1=function(k){return K(k)};p.certificateToAsn1=function(k){var e=k.tbsCertificate||p.getTBSCertificate(k);return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[e,f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(k.signatureOid).getBytes()),
h(k.signatureOid,k.signatureParameters)]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+k.signature)])};p.certificateExtensionsToAsn1=function(k){var e=f.create(f.Class.CONTEXT_SPECIFIC,3,!0,[]),q=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);e.value.push(q);for(var I=0;I<k.length;++I)q.value.push(p.certificateExtensionToAsn1(k[I]));return e};p.certificateExtensionToAsn1=function(k){var e=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);e.value.push(f.create(f.Class.UNIVERSAL,
f.Type.OID,!1,f.oidToDer(k.id).getBytes()));k.critical&&e.value.push(f.create(f.Class.UNIVERSAL,f.Type.BOOLEAN,!1,String.fromCharCode(255)));var q=k.value;"string"!==typeof k.value&&(q=f.toDer(q).getBytes());e.value.push(f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,q));return e};p.certificationRequestToAsn1=function(k){var e=k.certificationRequestInfo||p.getCertificationRequestInfo(k);return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[e,f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,
f.Type.OID,!1,f.oidToDer(k.signatureOid).getBytes()),h(k.signatureOid,k.signatureParameters)]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+k.signature)])};p.createCaStore=function(k){function e(y){q(y);return I.certs[y.hash]||null}function q(y){if(!y.hash){var J=b.md.sha1.create();y.attributes=p.RDNAttributesAsArray(K(y),J);y.hash=J.digest().toHex()}}var I={certs:{},getIssuer:function(y){return e(y.issuer)},addCertificate:function(y){"string"===typeof y&&(y=b.pki.certificateFromPem(y));
q(y.subject);if(!I.hasCertificate(y))if(y.subject.hash in I.certs){var J=I.certs[y.subject.hash];b.util.isArray(J)||(J=[J]);J.push(y);I.certs[y.subject.hash]=J}else I.certs[y.subject.hash]=y},hasCertificate:function(y){"string"===typeof y&&(y=b.pki.certificateFromPem(y));var J=e(y.subject);if(!J)return!1;b.util.isArray(J)||(J=[J]);y=f.toDer(p.certificateToAsn1(y)).getBytes();for(var Q=0;Q<J.length;++Q){var aa=f.toDer(p.certificateToAsn1(J[Q])).getBytes();if(y===aa)return!0}return!1},listAllCertificates:function(){var y=
[],J;for(J in I.certs)if(I.certs.hasOwnProperty(J)){var Q=I.certs[J];if(b.util.isArray(Q))for(var aa=0;aa<Q.length;++aa)y.push(Q[aa]);else y.push(Q)}return y},removeCertificate:function(y){"string"===typeof y&&(y=b.pki.certificateFromPem(y));q(y.subject);if(!I.hasCertificate(y))return null;var J=e(y.subject);if(!b.util.isArray(J)){var Q=I.certs[y.subject.hash];delete I.certs[y.subject.hash];return Q}for(var aa=f.toDer(p.certificateToAsn1(y)).getBytes(),Z=0;Z<J.length;++Z){var ca=f.toDer(p.certificateToAsn1(J[Z])).getBytes();
aa===ca&&(Q=J[Z],J.splice(Z,1))}0===J.length&&delete I.certs[y.subject.hash];return Q}};if(k)for(var g=0;g<k.length;++g)I.addCertificate(k[g]);return I};p.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};p.verifyCertificateChain=
function(k,e,q){"function"===typeof q&&(q={verify:q});q=q||{};e=e.slice(0);var I=e.slice(0),g=q.validityCheckDate;"undefined"===typeof g&&(g=new Date);var y=!0,J=null,Q=0;do{var aa=e.shift(),Z=null,ca=!1;g&&(g<aa.validity.notBefore||g>aa.validity.notAfter)&&(J={message:"Certificate is not valid yet or has expired.",error:p.certificateError.certificate_expired,notBefore:aa.validity.notBefore,notAfter:aa.validity.notAfter,now:g});if(null===J){Z=e[0]||k.getIssuer(aa);null===Z&&aa.isIssuer(aa)&&(ca=!0,
Z=aa);if(Z){var fa=Z;b.util.isArray(fa)||(fa=[fa]);for(var ha=!1;!ha&&0<fa.length;){Z=fa.shift();try{ha=Z.verify(aa)}catch(x){}}ha||(J={message:"Certificate signature is invalid.",error:p.certificateError.bad_certificate})}null!==J||Z&&!ca||k.hasCertificate(aa)||(J={message:"Certificate is not trusted.",error:p.certificateError.unknown_ca})}null===J&&Z&&!aa.isIssuer(Z)&&(J={message:"Certificate issuer is invalid.",error:p.certificateError.bad_certificate});if(null===J)for(fa={keyUsage:!0,basicConstraints:!0},
ha=0;null===J&&ha<aa.extensions.length;++ha){var pa=aa.extensions[ha];!pa.critical||pa.name in fa||(J={message:"Certificate has an unsupported critical extension.",error:p.certificateError.unsupported_certificate})}null!==J||y&&(0!==e.length||Z&&!ca)||(y=aa.getExtension("basicConstraints"),aa=aa.getExtension("keyUsage"),null!==aa&&(aa.keyCertSign&&null!==y||(J={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",
error:p.certificateError.bad_certificate})),null!==J||null===y||y.cA||(J={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:p.certificateError.bad_certificate}),null===J&&null!==aa&&"pathLenConstraint"in y&&Q-1>y.pathLenConstraint&&(J={message:"Certificate basicConstraints pathLenConstraint violated.",error:p.certificateError.bad_certificate}));aa=null===J?!0:J.error;y=q.verify?q.verify(aa,Q,I):aa;if(!0===y)J=null;else{!0===aa&&(J={message:"The application rejected the certificate.",
error:p.certificateError.bad_certificate});if(y||0===y)"object"!==typeof y||b.util.isArray(y)?"string"===typeof y&&(J.error=y):(y.message&&(J.message=y.message),y.error&&(J.error=y.error));throw J;}y=!1;++Q}while(0<e.length);return!0}},function(R,H,E){var u=E(5);E(14);E(7);(R.exports=u.pss=u.pss||{}).create=function(K){3===arguments.length&&(K={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var V=K.md,l=K.mgf,h=V.digestLength,r=K.salt||null;"string"===typeof r&&(r=u.util.createBuffer(r));
if("saltLength"in K)var b=K.saltLength;else if(null!==r)b=r.length();else throw Error("Salt length not specified or specific salt not given.");if(null!==r&&r.length()!==b)throw Error("Given salt length does not match length of given salt.");var f=K.prng||u.random;return{encode:function(p,z){--z;var N=Math.ceil(z/8);p=p.digest().getBytes();if(N<h+b+2)throw Error("Message is too long to encrypt.");var B=null===r?f.getBytesSync(b):r.bytes();var G=new u.util.ByteBuffer;G.fillWithByte(0,8);G.putBytes(p);
G.putBytes(B);V.start();V.update(G.getBytes());p=V.digest().getBytes();G=new u.util.ByteBuffer;G.fillWithByte(0,N-b-h-2);G.putByte(1);G.putBytes(B);var v=G.getBytes(),C=N-h-1,t=l.generate(p,C);B="";for(G=0;G<C;G++)B+=String.fromCharCode(v.charCodeAt(G)^t.charCodeAt(G));z=65280>>8*N-z&255;B=String.fromCharCode(B.charCodeAt(0)&~z)+B.substr(1);return B+p+String.fromCharCode(188)},verify:function(p,z,N){var B=N-1;N=Math.ceil(B/8);z=z.substr(-N);if(N<h+b+2)throw Error("Inconsistent parameters to PSS signature verification.");
if(188!==z.charCodeAt(N-1))throw Error("Encoded message does not end in 0xBC.");var G=N-h-1,v=z.substr(0,G);z=z.substr(G,h);var C=65280>>8*N-B&255;if(0!==(v.charCodeAt(0)&C))throw Error("Bits beyond keysize not zero as expected.");var t=l.generate(z,G),S="";for(B=0;B<G;B++)S+=String.fromCharCode(v.charCodeAt(B)^t.charCodeAt(B));S=String.fromCharCode(S.charCodeAt(0)&~C)+S.substr(1);N=N-h-b-2;for(B=0;B<N;B++)if(0!==S.charCodeAt(B))throw Error("Leftmost octets not zero as expected");if(1!==S.charCodeAt(N))throw Error("Inconsistent PSS signature, 0x01 marker not found");
N=S.substr(-b);G=new u.util.ByteBuffer;G.fillWithByte(0,8);G.putBytes(p);G.putBytes(N);V.start();V.update(G.getBytes());p=V.digest().getBytes();return z===p}}}},function(R,H){},function(R,H,E){function u(a,D,M,Y){var ja=arguments.length,ta=3>ja?D:null===Y?Y=Object.getOwnPropertyDescriptor(D,M):Y,Ca;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)ta=Reflect.decorate(a,D,M,Y);else for(var Ja=a.length-1;0<=Ja;Ja--)if(Ca=a[Ja])ta=(3>ja?Ca(ta):3<ja?Ca(D,M,ta):Ca(D,M))||ta;return 3<ja&&
ta&&Object.defineProperty(D,M,ta),ta}function K(a,D){return a==D?0:a?D?a.prefix?D.prefix?a.prefix<D.prefix?-1:a.prefix>D.prefix?1:0:1:-1:1:-1}function V(a,D){if(!a.namespaceURI&&D.namespaceURI)return-1;if(!D.namespaceURI&&a.namespaceURI)return 1;a=a.namespaceURI+a.localName;D=D.namespaceURI+D.localName;return a===D?0:a<D?-1:1}function l(a,D,M){M=void 0===M?0:M;if(a.prefix===(D||null))return++M;if(a.attributes)for(var Y=0;Y<a.attributes.length;Y++)if(!h(a.attributes[Y])&&D&&a.attributes[Y].prefix===
D)return++M;for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType===t.n.Element&&(Y=l(a,D,M),a.nodeType===t.n.Element&&Y))return++M+Y;return M}function h(a){var D=/xmlns:/;return null===a||a.nodeType!==t.n.Attribute||"xmlns"!==a.nodeName&&!D.test(a.nodeName)?!1:!0}function r(a,D){D=new D;D.LoadXml(a.Element);return D}function b(a){switch(a){case "P-256":return"urn:oid:1.2.840.10045.3.1.7";case "P-384":return"urn:oid:1.3.132.0.34";case "P-521":return"urn:oid:1.3.132.0.35"}throw new t.m(t.f.CRYPTOGRAPHIC,
"Unknown NamedCurve");}function f(a,D){if(a.nodeType!==t.n.Element)return null;if(a.hasAttribute("Id")&&a.getAttribute("Id")===D)return a;if(a.childNodes&&a.childNodes.length)for(var M=0;M<a.childNodes.length;M++){var Y=f(a.childNodes[M],D);if(Y)return Y}return null}function p(a,D){D=void 0===D?{}:D;if(a&&a.nodeType===t.n.Element){if(a.namespaceURI&&"http://www.w3.org/XML/1998/namespace"!==a.namespaceURI){var M=a.prefix?a.prefix:"";M in D||(D[M]=a.namespaceURI)}for(M=0;M<a.attributes.length;M++){var Y=
a.attributes.item(M);if(Y&&"xmlns"===Y.prefix){var ja=Y.localName?Y.localName:"";ja in D||(D[ja]=Y.value)}}a.parentNode&&p(a.parentNode,D)}}function z(a,D,M,Y){var ja=arguments.length,ta=3>ja?D:null===Y?Y=Object.getOwnPropertyDescriptor(D,M):Y,Ca;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)ta=Reflect.decorate(a,D,M,Y);else for(var Ja=a.length-1;0<=Ja;Ja--)if(Ca=a[Ja])ta=(3>ja?Ca(ta):3<ja?Ca(D,M,ta):Ca(D,M))||ta;return 3<ja&&ta&&Object.defineProperty(D,M,ta),ta}function N(a,
D,M,Y){1!==arguments.length||"string"!==C(a)||/\d/.test(a)||(D=a,a=void 0);a=a||new Date;a instanceof Date||(a=new Date(a));if(isNaN(a))throw TypeError("Invalid date");D=String(ue[D]||D||ue.default);var ja=D.slice(0,4);if("UTC:"===ja||"GMT:"===ja)D=D.slice(4),M=!0,"GMT:"===ja&&(Y=!0);var ta=M?"getUTC":"get";ja=a[ta+"Date"]();var Ca=a[ta+"Day"](),Ja=a[ta+"Month"](),Ra=a[ta+"FullYear"](),Sa=a[ta+"Hours"](),Ya=a[ta+"Minutes"](),eb=a[ta+"Seconds"]();ta=a[ta+"Milliseconds"]();var xb=M?0:a.getTimezoneOffset(),
ob=G(a),qb=v(a),tb={d:ja,dd:B(ja),ddd:Jb.dayNames[Ca],dddd:Jb.dayNames[Ca+7],m:Ja+1,mm:B(Ja+1),mmm:Jb.monthNames[Ja],mmmm:Jb.monthNames[Ja+12],yy:String(Ra).slice(2),yyyy:Ra,h:Sa%12||12,hh:B(Sa%12||12),H:Sa,HH:B(Sa),M:Ya,MM:B(Ya),s:eb,ss:B(eb),l:B(ta,3),L:B(Math.round(ta/10)),t:12>Sa?Jb.timeNames[0]:Jb.timeNames[1],tt:12>Sa?Jb.timeNames[2]:Jb.timeNames[3],T:12>Sa?Jb.timeNames[4]:Jb.timeNames[5],TT:12>Sa?Jb.timeNames[6]:Jb.timeNames[7],Z:Y?"GMT":M?"UTC":(String(a).match(Dg)||[""]).pop().replace(Eg,
""),o:(0<xb?"-":"+")+B(100*Math.floor(Math.abs(xb)/60)+Math.abs(xb)%60,4),W:ob,N:qb};return D.replace(Fg,function(qc){return qc in tb?tb[qc]:qc.slice(1,qc.length-1)})}function B(a,D){D=void 0===D?2:D;for(a=String(a);a.length<D;)a="0"+a;return a}function G(a){a=new Date(a.getFullYear(),a.getMonth(),a.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var D=new Date(a.getFullYear(),0,4);D.setDate(D.getDate()-(D.getDay()+6)%7+3);var M=a.getTimezoneOffset()-D.getTimezoneOffset();a.setHours(a.getHours()-
M);a=(a.getTime()-D.getTime())/6048E5;return 1+Math.floor(a)}function v(a){a=a.getDay();0===a&&(a=7);return a}function C(a){return null===a?"null":void 0===a?"undefined":"object"!==typeof a?typeof a:Array.isArray(a)?"array":{}.toString.call(a).slice(8,-1).toLowerCase()}E.d(H,"a",function(){return t.d});E.d(H,"b",function(){return Hb});var t=E(2),S=E(4),k=E(0),e=E(1),q=function(a){a=void 0===a?{}:a;this.type=Object(e.e)(a,"type",q.defaultValues("type"));this.value=Object(e.e)(a,"value",q.defaultValues("value"));
"schema"in a&&this.fromSchema(a.schema)};q.defaultValues=function(a){switch(a){case "type":return"";case "value":return{};default:throw Error("Invalid member name for AttributeTypeAndValue class: "+a);}};q.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.type||""}),new k.Any({name:a.value||""})]})};q.blockName=function(){return"AttributeTypeAndValue"};q.prototype.fromSchema=function(a){Object(e.c)(a,
["type","typeValue"]);a=k.compareSchema(a,a,q.schema({names:{type:"type",value:"typeValue"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=a.result.type.valueBlock.toString();this.value=a.result.typeValue};q.prototype.toSchema=function(){return new k.Sequence({value:[new k.ObjectIdentifier({value:this.type}),this.value]})};q.prototype.toJSON=function(){var a={type:this.type};0!==Object.keys(this.value).length?a.value=this.value.toJSON():
a.value=this.value;return a};q.prototype.isEqual=function(a){var D=[k.Utf8String.blockName(),k.BmpString.blockName(),k.UniversalString.blockName(),k.NumericString.blockName(),k.PrintableString.blockName(),k.TeletexString.blockName(),k.VideotexString.blockName(),k.IA5String.blockName(),k.GraphicString.blockName(),k.VisibleString.blockName(),k.GeneralString.blockName(),k.CharacterString.blockName()];if(a.constructor.blockName()===q.blockName()){if(this.type!==a.type)return!1;var M=!1,Y=this.value.constructor.blockName();
if(Y===a.value.constructor.blockName()){D=$jscomp.makeIterator(D);for(var ja=D.next();!ja.done;ja=D.next())if(Y===ja.value){M=!0;break}}if(M){if(M=Object(S.j)(this.value.valueBlock.value),a=Object(S.j)(a.value.valueBlock.value),0!==M.localeCompare(a))return!1}else if(!1===Object(e.f)(this.value.valueBeforeDecode,a.value.valueBeforeDecode))return!1;return!0}return a instanceof ArrayBuffer?Object(e.f)(this.value.valueBeforeDecode,a):!1};var I=function(a){a=void 0===a?{}:a;this.typesAndValues=Object(e.e)(a,
"typesAndValues",I.defaultValues("typesAndValues"));this.valueBeforeDecode=Object(e.e)(a,"valueBeforeDecode",I.defaultValues("valueBeforeDecode"));"schema"in a&&this.fromSchema(a.schema)};I.defaultValues=function(a){switch(a){case "typesAndValues":return[];case "valueBeforeDecode":return new ArrayBuffer(0);default:throw Error("Invalid member name for RelativeDistinguishedNames class: "+a);}};I.compareWithDefault=function(a,D){switch(a){case "typesAndValues":return 0===D.length;case "valueBeforeDecode":return 0===
D.byteLength;default:throw Error("Invalid member name for RelativeDistinguishedNames class: "+a);}};I.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.repeatedSequence||"",value:new k.Set({value:[new k.Repeated({name:a.repeatedSet||"",value:q.schema(a.typeAndValue||{})})]})})]})};I.prototype.fromSchema=function(a){Object(e.c)(a,["RDN","typesAndValues"]);a=k.compareSchema(a,a,I.schema({names:{blockName:"RDN",
repeatedSet:"typesAndValues"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in a.result&&(this.typesAndValues=Array.from(a.result.typesAndValues,function(D){return new q({schema:D})}));this.valueBeforeDecode=a.result.RDN.valueBeforeDecode};I.prototype.toSchema=function(){return 0===this.valueBeforeDecode.byteLength?new k.Sequence({value:[new k.Set({value:Array.from(this.typesAndValues,function(a){return a.toSchema()})})]}):
k.fromBER(this.valueBeforeDecode).result};I.prototype.toJSON=function(){return{typesAndValues:Array.from(this.typesAndValues,function(a){return a.toJSON()})}};I.prototype.isEqual=function(a){if(a instanceof I){if(this.typesAndValues.length!==a.typesAndValues.length)return!1;for(var D=$jscomp.makeIterator(this.typesAndValues.entries()),M=D.next();!M.done;M=D.next()){M=$jscomp.makeIterator(M.value);var Y=M.next().value;if(!1===M.next().value.isEqual(a.typesAndValues[Y]))return!1}return!0}return a instanceof
ArrayBuffer?Object(e.f)(this.valueBeforeDecode,a):!1};var g=function(a){a=void 0===a?{}:a;this.type=Object(e.e)(a,"type",g.defaultValues("type"));this.value=Object(e.e)(a,"value",g.defaultValues("value"));"schema"in a&&this.fromSchema(a.schema)};g.defaultValues=function(a){switch(a){case "type":return 9;case "value":return{};default:throw Error("Invalid member name for GeneralName class: "+a);}};g.compareWithDefault=function(a,D){switch(a){case "type":return D===g.defaultValues(a);case "value":return 0===
Object.keys(D).length;default:throw Error("Invalid member name for GeneralName class: "+a);}};g.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});var D=k.Choice,M=new k.Constructed({idBlock:{tagClass:3,tagNumber:0},name:a.blockName||"",value:[new k.ObjectIdentifier,new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new k.Any]})]}),Y=new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),ja=new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),
ta=k.Constructed,Ca=a.blockName||"",Ja=a.builtInStandardAttributes||{};var Ra=!1;Ja=void 0===Ja?{}:Ja;Ra=void 0===Ra?!1:Ra;Ja=Object(e.e)(Ja,"names",{});Ra=new k.Sequence({optional:Ra,value:[new k.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:Ja.country_name||"",value:[new k.Choice({value:[new k.NumericString,new k.PrintableString]})]}),new k.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:Ja.administration_domain_name||"",value:[new k.Choice({value:[new k.NumericString,
new k.PrintableString]})]}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:Ja.network_address||"",isHexOnly:!0}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:Ja.terminal_identifier||"",isHexOnly:!0}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:Ja.private_domain_name||"",value:[new k.Choice({value:[new k.NumericString,new k.PrintableString]})]}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:Ja.organization_name||
"",isHexOnly:!0}),new k.Primitive({optional:!0,name:Ja.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new k.Constructed({optional:!0,name:Ja.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new k.Primitive({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},
isHexOnly:!0})]}),new k.Constructed({optional:!0,name:Ja.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new k.Repeated({value:new k.PrintableString})]})]});Ja=!0;Ja=new k.Sequence({optional:void 0===Ja?!1:Ja,value:[new k.PrintableString,new k.PrintableString]});var Sa=!0;Sa=new k.Set({optional:void 0===Sa?!1:Sa,value:[new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new k.Any]})]});
return new D({value:[M,Y,ja,new ta({idBlock:{tagClass:3,tagNumber:3},name:Ca,value:[Ra,Ja,Sa]}),new k.Constructed({idBlock:{tagClass:3,tagNumber:4},name:a.blockName||"",value:[I.schema(a.directoryName||{})]}),new k.Constructed({idBlock:{tagClass:3,tagNumber:5},name:a.blockName||"",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Choice({value:[new k.TeletexString,new k.PrintableString,new k.UniversalString,new k.Utf8String,new k.BmpString]})]}),new k.Constructed({idBlock:{tagClass:3,
tagNumber:1},value:[new k.Choice({value:[new k.TeletexString,new k.PrintableString,new k.UniversalString,new k.Utf8String,new k.BmpString]})]})]}),new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})};g.prototype.fromSchema=function(a){Object(e.c)(a,"blockName otherName rfc822Name dNSName x400Address directoryName ediPartyName uniformResourceIdentifier iPAddress registeredID".split(" "));
a=k.compareSchema(a,a,g.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for GeneralName");this.type=a.result.blockName.idBlock.tagNumber;switch(this.type){case 0:this.value=
a.result.blockName;break;case 1:case 2:case 6:a=a.result.blockName;a.idBlock.tagClass=1;a.idBlock.tagNumber=22;a=a.toBER(!1);this.value=k.fromBER(a).result.valueBlock.value;break;case 3:this.value=a.result.blockName;break;case 4:this.value=new I({schema:a.result.directoryName});break;case 5:this.value=a.result.ediPartyName;break;case 7:this.value=new k.OctetString({valueHex:a.result.blockName.valueBlock.valueHex});break;case 8:a=a.result.blockName,a.idBlock.tagClass=1,a.idBlock.tagNumber=6,a=a.toBER(!1),
this.value=k.fromBER(a).result.valueBlock.toString()}};g.prototype.toSchema=function(){switch(this.type){case 0:case 3:case 5:return new k.Constructed({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:var a=new k.IA5String({value:this.value});a.idBlock.tagClass=3;a.idBlock.tagNumber=this.type;return a;case 4:return new k.Constructed({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:return a=this.value,a.idBlock.tagClass=3,a.idBlock.tagNumber=
this.type,a;case 8:return a=new k.ObjectIdentifier({value:this.value}),a.idBlock.tagClass=3,a.idBlock.tagNumber=this.type,a;default:return g.schema()}};g.prototype.toJSON=function(){var a={type:this.type,value:""};if("string"===typeof this.value)a.value=this.value;else try{a.value=this.value.toJSON()}catch(D){}return a};var y=function(a){a=void 0===a?{}:a;this.accessMethod=Object(e.e)(a,"accessMethod",y.defaultValues("accessMethod"));this.accessLocation=Object(e.e)(a,"accessLocation",y.defaultValues("accessLocation"));
"schema"in a&&this.fromSchema(a.schema)};y.defaultValues=function(a){switch(a){case "accessMethod":return"";case "accessLocation":return new g;default:throw Error("Invalid member name for AccessDescription class: "+a);}};y.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.accessMethod||""}),g.schema(a.accessLocation||{})]})};y.prototype.fromSchema=function(a){Object(e.c)(a,["accessMethod","accessLocation"]);
a=k.compareSchema(a,a,y.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=a.result.accessMethod.valueBlock.toString();this.accessLocation=new g({schema:a.result.accessLocation})};y.prototype.toSchema=function(){return new k.Sequence({value:[new k.ObjectIdentifier({value:this.accessMethod}),this.accessLocation.toSchema()]})};
y.prototype.toJSON=function(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}};var J=E(3),Q=function(a){a=void 0===a?{}:a;this.altNames=Object(e.e)(a,"altNames",Q.defaultValues("altNames"));"schema"in a&&this.fromSchema(a.schema)};Q.defaultValues=function(a){switch(a){case "altNames":return[];default:throw Error("Invalid member name for AltName class: "+a);}};Q.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||
"",value:[new k.Repeated({name:a.altNames||"",value:g.schema()})]})};Q.prototype.fromSchema=function(a){Object(e.c)(a,["altNames"]);a=k.compareSchema(a,a,Q.schema({names:{altNames:"altNames"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for AltName");"altNames"in a.result&&(this.altNames=Array.from(a.result.altNames,function(D){return new g({schema:D})}))};Q.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.altNames,function(a){return a.toSchema()})})};
Q.prototype.toJSON=function(){return{altNames:Array.from(this.altNames,function(a){return a.toJSON()})}};var aa=E(8),Z=E(15);E(10);var ca=function(a){a=void 0===a?{}:a;this.type=Object(e.e)(a,"type",ca.defaultValues("type"));this.value=Object(e.e)(a,"value",ca.defaultValues("value"));"schema"in a&&this.fromSchema(a.schema)};ca.defaultValues=function(a){switch(a){case "type":return 0;case "value":return new Date(0,0,0);default:throw Error("Invalid member name for Time class: "+a);}};ca.schema=function(a,
D){a=void 0===a?{}:a;D=void 0===D?!1:D;a=Object(e.e)(a,"names",{});return new k.Choice({optional:D,value:[new k.UTCTime({name:a.utcTimeName||""}),new k.GeneralizedTime({name:a.generalTimeName||""})]})};ca.prototype.fromSchema=function(a){Object(e.c)(a,["utcTimeName","generalTimeName"]);a=k.compareSchema(a,a,ca.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Time");"utcTimeName"in
a.result&&(this.type=0,this.value=a.result.utcTimeName.toDate());"generalTimeName"in a.result&&(this.type=1,this.value=a.result.generalTimeName.toDate())};ca.prototype.toSchema=function(){var a={};0===this.type&&(a=new k.UTCTime({valueDate:this.value}));1===this.type&&(a=new k.GeneralizedTime({valueDate:this.value}));return a};ca.prototype.toJSON=function(){return{type:this.type,value:this.value}};var fa=E(12),ha=function(a){a=void 0===a?{}:a;this.attributes=Object(e.e)(a,"attributes",ha.defaultValues("attributes"));
"schema"in a&&this.fromSchema(a.schema)};ha.defaultValues=function(a){switch(a){case "attributes":return[];default:throw Error("Invalid member name for SubjectDirectoryAttributes class: "+a);}};ha.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.attributes||"",value:aa.a.schema()})]})};ha.prototype.fromSchema=function(a){Object(e.c)(a,["attributes"]);a=k.compareSchema(a,a,ha.schema({names:{attributes:"attributes"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(a.result.attributes,function(D){return new aa.a({schema:D})})};ha.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.attributes,function(a){return a.toSchema()})})};ha.prototype.toJSON=function(){return{attributes:Array.from(this.attributes,function(a){return a.toJSON()})}};var pa=function(a){a=void 0===a?{}:a;"notBefore"in a&&(this.notBefore=
Object(e.e)(a,"notBefore",pa.defaultValues("notBefore")));"notAfter"in a&&(this.notAfter=Object(e.e)(a,"notAfter",pa.defaultValues("notAfter")));"schema"in a&&this.fromSchema(a.schema)};pa.defaultValues=function(a){switch(a){case "notBefore":return new Date;case "notAfter":return new Date;default:throw Error("Invalid member name for PrivateKeyUsagePeriod class: "+a);}};pa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Primitive({name:a.notBefore||
"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new k.Primitive({name:a.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};pa.prototype.fromSchema=function(a){Object(e.c)(a,["notBefore","notAfter"]);a=k.compareSchema(a,a,pa.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in a.result){var D=new k.GeneralizedTime;D.fromBuffer(a.result.notBefore.valueBlock.valueHex);
this.notBefore=D.toDate()}"notAfter"in a.result&&(D=new k.GeneralizedTime({valueHex:a.result.notAfter.valueBlock.valueHex}),D.fromBuffer(a.result.notAfter.valueBlock.valueHex),this.notAfter=D.toDate())};pa.prototype.toSchema=function(){var a=[];"notBefore"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:(new k.GeneralizedTime({valueDate:this.notBefore})).valueBlock.valueHex}));"notAfter"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:(new k.GeneralizedTime({valueDate:this.notAfter})).valueBlock.valueHex}));
return new k.Sequence({value:a})};pa.prototype.toJSON=function(){var a={};"notBefore"in this&&(a.notBefore=this.notBefore);"notAfter"in this&&(a.notAfter=this.notAfter);return a};var x=function(a){a=void 0===a?{}:a;this.cA=Object(e.e)(a,"cA",!1);"pathLenConstraint"in a&&(this.pathLenConstraint=Object(e.e)(a,"pathLenConstraint",0));"schema"in a&&this.fromSchema(a.schema)};x.defaultValues=function(a){switch(a){case "cA":return!1;default:throw Error("Invalid member name for BasicConstraints class: "+
a);}};x.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Boolean({optional:!0,name:a.cA||""}),new k.Integer({optional:!0,name:a.pathLenConstraint||""})]})};x.prototype.fromSchema=function(a){Object(e.c)(a,["cA","pathLenConstraint"]);a=k.compareSchema(a,a,x.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for BasicConstraints");
"cA"in a.result&&(this.cA=a.result.cA.valueBlock.value);"pathLenConstraint"in a.result&&(this.pathLenConstraint=a.result.pathLenConstraint.valueBlock.isHexOnly?a.result.pathLenConstraint:a.result.pathLenConstraint.valueBlock.valueDec)};x.prototype.toSchema=function(){var a=[];this.cA!==x.defaultValues("cA")&&a.push(new k.Boolean({value:this.cA}));"pathLenConstraint"in this&&(this.pathLenConstraint instanceof k.Integer?a.push(this.pathLenConstraint):a.push(new k.Integer({value:this.pathLenConstraint})));
return new k.Sequence({value:a})};x.prototype.toJSON=function(){var a={};this.cA!==x.defaultValues("cA")&&(a.cA=this.cA);"pathLenConstraint"in this&&(a.pathLenConstraint=this.pathLenConstraint instanceof k.Integer?this.pathLenConstraint.toJSON():this.pathLenConstraint);return a};var n=function(a){a=void 0===a?{}:a;"distributionPoint"in a&&(this.distributionPoint=Object(e.e)(a,"distributionPoint",n.defaultValues("distributionPoint")));this.onlyContainsUserCerts=Object(e.e)(a,"onlyContainsUserCerts",
n.defaultValues("onlyContainsUserCerts"));this.onlyContainsCACerts=Object(e.e)(a,"onlyContainsCACerts",n.defaultValues("onlyContainsCACerts"));"onlySomeReasons"in a&&(this.onlySomeReasons=Object(e.e)(a,"onlySomeReasons",n.defaultValues("onlySomeReasons")));this.indirectCRL=Object(e.e)(a,"indirectCRL",n.defaultValues("indirectCRL"));this.onlyContainsAttributeCerts=Object(e.e)(a,"onlyContainsAttributeCerts",n.defaultValues("onlyContainsAttributeCerts"));"schema"in a&&this.fromSchema(a.schema)};n.defaultValues=
function(a){switch(a){case "distributionPoint":return[];case "onlyContainsUserCerts":return!1;case "onlyContainsCACerts":return!1;case "onlySomeReasons":return 0;case "indirectCRL":return!1;case "onlyContainsAttributeCerts":return!1;default:throw Error("Invalid member name for IssuingDistributionPoint class: "+a);}};n.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Choice({value:[new k.Constructed({name:a.distributionPoint||
"",idBlock:{tagClass:3,tagNumber:0},value:[new k.Repeated({name:a.distributionPointNames||"",value:g.schema()})]}),new k.Constructed({name:a.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:I.schema().valueBlock.value})]})]}),new k.Primitive({name:a.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new k.Primitive({name:a.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new k.Primitive({name:a.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,
tagNumber:3}}),new k.Primitive({name:a.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new k.Primitive({name:a.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})};n.prototype.fromSchema=function(a){Object(e.c)(a,"distributionPoint distributionPointNames onlyContainsUserCerts onlyContainsCACerts onlySomeReasons indirectCRL onlyContainsAttributeCerts".split(" "));a=k.compareSchema(a,a,n.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",
onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in a.result)switch(!0){case 0===a.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(a.result.distributionPointNames,function(D){return new g({schema:D})});
break;case 1===a.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new I({schema:new k.Sequence({value:a.result.distributionPoint.valueBlock.value})});break;default:throw Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}");}"onlyContainsUserCerts"in a.result&&(this.onlyContainsUserCerts=0!==(new Uint8Array(a.result.onlyContainsUserCerts.valueBlock.valueHex))[0]);"onlyContainsCACerts"in a.result&&(this.onlyContainsCACerts=0!==(new Uint8Array(a.result.onlyContainsCACerts.valueBlock.valueHex))[0]);
"onlySomeReasons"in a.result&&(this.onlySomeReasons=(new Uint8Array(a.result.onlySomeReasons.valueBlock.valueHex))[0]);"indirectCRL"in a.result&&(this.indirectCRL=0!==(new Uint8Array(a.result.indirectCRL.valueBlock.valueHex))[0]);"onlyContainsAttributeCerts"in a.result&&(this.onlyContainsAttributeCerts=0!==(new Uint8Array(a.result.onlyContainsAttributeCerts.valueBlock.valueHex))[0])};n.prototype.toSchema=function(){var a=[];if("distributionPoint"in this){if(this.distributionPoint instanceof Array)var D=
new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(M){return M.toSchema()})});else D=this.distributionPoint.toSchema(),D.idBlock.tagClass=3,D.idBlock.tagNumber=1;a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[D]}))}this.onlyContainsUserCerts!==n.defaultValues("onlyContainsUserCerts")&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:(new Uint8Array([255])).buffer}));this.onlyContainsCACerts!==n.defaultValues("onlyContainsCACerts")&&
a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:(new Uint8Array([255])).buffer}));"onlySomeReasons"in this&&(D=new ArrayBuffer(1),(new Uint8Array(D))[0]=this.onlySomeReasons,a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:3},valueHex:D})));this.indirectCRL!==n.defaultValues("indirectCRL")&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:4},valueHex:(new Uint8Array([255])).buffer}));this.onlyContainsAttributeCerts!==n.defaultValues("onlyContainsAttributeCerts")&&a.push(new k.Primitive({idBlock:{tagClass:3,
tagNumber:5},valueHex:(new Uint8Array([255])).buffer}));return new k.Sequence({value:a})};n.prototype.toJSON=function(){var a={};"distributionPoint"in this&&(a.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,function(D){return D.toJSON()}):this.distributionPoint.toJSON());this.onlyContainsUserCerts!==n.defaultValues("onlyContainsUserCerts")&&(a.onlyContainsUserCerts=this.onlyContainsUserCerts);this.onlyContainsCACerts!==n.defaultValues("onlyContainsCACerts")&&
(a.onlyContainsCACerts=this.onlyContainsCACerts);"onlySomeReasons"in this&&(a.onlySomeReasons=this.onlySomeReasons);this.indirectCRL!==n.defaultValues("indirectCRL")&&(a.indirectCRL=this.indirectCRL);this.onlyContainsAttributeCerts!==n.defaultValues("onlyContainsAttributeCerts")&&(a.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts);return a};var w=function(a){a=void 0===a?{}:a;this.names=Object(e.e)(a,"names",w.defaultValues("names"));"schema"in a&&this.fromSchema(a.schema)};w.defaultValues=
function(a){switch(a){case "names":return[];default:throw Error("Invalid member name for GeneralNames class: "+a);}};w.schema=function(a,D){a=void 0===a?{}:a;D=void 0===D?!1:D;a=Object(e.e)(a,"names",{});return new k.Sequence({optional:D,name:a.blockName||"",value:[new k.Repeated({name:a.generalNames||"",value:g.schema()})]})};w.prototype.fromSchema=function(a){Object(e.c)(a,["names","generalNames"]);a=k.compareSchema(a,a,w.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===
a.verified)throw Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(a.result.generalNames,function(D){return new g({schema:D})})};w.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.names,function(a){return a.toSchema()})})};w.prototype.toJSON=function(){return{names:Array.from(this.names,function(a){return a.toJSON()})}};var F=function(a){a=void 0===a?{}:a;this.base=Object(e.e)(a,"base",F.defaultValues("base"));this.minimum=
Object(e.e)(a,"minimum",F.defaultValues("minimum"));"maximum"in a&&(this.maximum=Object(e.e)(a,"maximum",F.defaultValues("maximum")));"schema"in a&&this.fromSchema(a.schema)};F.defaultValues=function(a){switch(a){case "base":return new g;case "minimum":return 0;case "maximum":return 0;default:throw Error("Invalid member name for GeneralSubtree class: "+a);}};F.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[g.schema(a.base||{}),new k.Constructed({optional:!0,
idBlock:{tagClass:3,tagNumber:0},value:[new k.Integer({name:a.minimum||""})]}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new k.Integer({name:a.maximum||""})]})]})};F.prototype.fromSchema=function(a){Object(e.c)(a,["base","minimum","maximum"]);a=k.compareSchema(a,a,F.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new g({schema:a.result.base});
"minimum"in a.result&&(this.minimum=a.result.minimum.valueBlock.isHexOnly?a.result.minimum:a.result.minimum.valueBlock.valueDec);"maximum"in a.result&&(this.maximum=a.result.maximum.valueBlock.isHexOnly?a.result.maximum:a.result.maximum.valueBlock.valueDec)};F.prototype.toSchema=function(){var a=[];a.push(this.base.toSchema());if(0!==this.minimum){var D=this.minimum instanceof k.Integer?this.minimum:new k.Integer({value:this.minimum});a.push(new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},
value:[D]}))}"maximum"in this&&(D=this.maximum instanceof k.Integer?this.maximum:new k.Integer({value:this.maximum}),a.push(new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[D]})));return new k.Sequence({value:a})};F.prototype.toJSON=function(){var a={base:this.base.toJSON()};0!==this.minimum&&(a.minimum="number"===typeof this.minimum?this.minimum:this.minimum.toJSON());"maximum"in this&&(a.maximum="number"===typeof this.maximum?this.maximum:this.maximum.toJSON());return a};var W=
function(a){a=void 0===a?{}:a;"permittedSubtrees"in a&&(this.permittedSubtrees=Object(e.e)(a,"permittedSubtrees",W.defaultValues("permittedSubtrees")));"excludedSubtrees"in a&&(this.excludedSubtrees=Object(e.e)(a,"excludedSubtrees",W.defaultValues("excludedSubtrees")));"schema"in a&&this.fromSchema(a.schema)};W.defaultValues=function(a){switch(a){case "permittedSubtrees":return[];case "excludedSubtrees":return[];default:throw Error("Invalid member name for NameConstraints class: "+a);}};W.schema=
function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Repeated({name:a.permittedSubtrees||"",value:F.schema()})]}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new k.Repeated({name:a.excludedSubtrees||"",value:F.schema()})]})]})};W.prototype.fromSchema=function(a){Object(e.c)(a,["permittedSubtrees","excludedSubtrees"]);a=k.compareSchema(a,a,
W.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in a.result&&(this.permittedSubtrees=Array.from(a.result.permittedSubtrees,function(D){return new F({schema:D})}));"excludedSubtrees"in a.result&&(this.excludedSubtrees=Array.from(a.result.excludedSubtrees,function(D){return new F({schema:D})}))};W.prototype.toSchema=function(){var a=
[];"permittedSubtrees"in this&&a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,function(D){return D.toSchema()})}));"excludedSubtrees"in this&&a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,function(D){return D.toSchema()})}));return new k.Sequence({value:a})};W.prototype.toJSON=function(){var a={};"permittedSubtrees"in this&&(a.permittedSubtrees=Array.from(this.permittedSubtrees,function(D){return D.toJSON()}));
"excludedSubtrees"in this&&(a.excludedSubtrees=Array.from(this.excludedSubtrees,function(D){return D.toJSON()}));return a};var P=function(a){a=void 0===a?{}:a;"distributionPoint"in a&&(this.distributionPoint=Object(e.e)(a,"distributionPoint",P.defaultValues("distributionPoint")));"reasons"in a&&(this.reasons=Object(e.e)(a,"reasons",P.defaultValues("reasons")));"cRLIssuer"in a&&(this.cRLIssuer=Object(e.e)(a,"cRLIssuer",P.defaultValues("cRLIssuer")));"schema"in a&&this.fromSchema(a.schema)};P.defaultValues=
function(a){switch(a){case "distributionPoint":return[];case "reasons":return new k.BitString;case "cRLIssuer":return[];default:throw Error("Invalid member name for DistributionPoint class: "+a);}};P.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Choice({value:[new k.Constructed({name:a.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},
value:[new k.Repeated({name:a.distributionPointNames||"",value:g.schema()})]}),new k.Constructed({name:a.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:I.schema().valueBlock.value})]})]}),new k.Primitive({name:a.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new k.Constructed({name:a.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new k.Repeated({name:a.cRLIssuerNames||"",value:g.schema()})]})]})};P.prototype.fromSchema=function(a){Object(e.c)(a,
["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);a=k.compareSchema(a,a,P.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in a.result&&(0===a.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=
Array.from(a.result.distributionPointNames,function(D){return new g({schema:D})})),1===a.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new I({schema:new k.Sequence({value:a.result.distributionPoint.valueBlock.value})})));"reasons"in a.result&&(this.reasons=new k.BitString({valueHex:a.result.reasons.valueBlock.valueHex}));"cRLIssuer"in a.result&&(this.cRLIssuer=Array.from(a.result.cRLIssuerNames,function(D){return new g({schema:D})}))};P.prototype.toSchema=function(){var a=[];
if("distributionPoint"in this){var D=this.distributionPoint instanceof Array?new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(M){return M.toSchema()})}):new k.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]});a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[D]}))}"reasons"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex}));"cRLIssuer"in
this&&a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,function(M){return M.toSchema()})}));return new k.Sequence({value:a})};P.prototype.toJSON=function(){var a={};"distributionPoint"in this&&(a.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,function(D){return D.toJSON()}):this.distributionPoint.toJSON());"reasons"in this&&(a.reasons=this.reasons.toJSON());"cRLIssuer"in this&&(a.cRLIssuer=Array.from(this.cRLIssuer,
function(D){return D.toJSON()}));return a};var O=function(a){a=void 0===a?{}:a;this.distributionPoints=Object(e.e)(a,"distributionPoints",O.defaultValues("distributionPoints"));"schema"in a&&this.fromSchema(a.schema)};O.defaultValues=function(a){switch(a){case "distributionPoints":return[];default:throw Error("Invalid member name for CRLDistributionPoints class: "+a);}};O.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.distributionPoints||
"",value:P.schema()})]})};O.prototype.fromSchema=function(a){Object(e.c)(a,["distributionPoints"]);a=k.compareSchema(a,a,O.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(a.result.distributionPoints,function(D){return new P({schema:D})})};O.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.distributionPoints,function(a){return a.toSchema()})})};
O.prototype.toJSON=function(){return{distributionPoints:Array.from(this.distributionPoints,function(a){return a.toJSON()})}};var L=function(a){a=void 0===a?{}:a;this.policyQualifierId=Object(e.e)(a,"policyQualifierId",L.defaultValues("policyQualifierId"));this.qualifier=Object(e.e)(a,"qualifier",L.defaultValues("qualifier"));"schema"in a&&this.fromSchema(a.schema)};L.defaultValues=function(a){switch(a){case "policyQualifierId":return"";case "qualifier":return new k.Any;default:throw Error("Invalid member name for PolicyQualifierInfo class: "+
a);}};L.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.policyQualifierId||""}),new k.Any({name:a.qualifier||""})]})};L.prototype.fromSchema=function(a){Object(e.c)(a,["policyQualifierId","qualifier"]);a=k.compareSchema(a,a,L.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyQualifierInfo");
this.policyQualifierId=a.result.policyQualifierId.valueBlock.toString();this.qualifier=a.result.qualifier};L.prototype.toSchema=function(){return new k.Sequence({value:[new k.ObjectIdentifier({value:this.policyQualifierId}),this.qualifier]})};L.prototype.toJSON=function(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}};var sa=function(a){a=void 0===a?{}:a;this.policyIdentifier=Object(e.e)(a,"policyIdentifier",sa.defaultValues("policyIdentifier"));"policyQualifiers"in
a&&(this.policyQualifiers=Object(e.e)(a,"policyQualifiers",sa.defaultValues("policyQualifiers")));"schema"in a&&this.fromSchema(a.schema)};sa.defaultValues=function(a){switch(a){case "policyIdentifier":return"";case "policyQualifiers":return[];default:throw Error("Invalid member name for PolicyInformation class: "+a);}};sa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.policyIdentifier||""}),new k.Sequence({optional:!0,
value:[new k.Repeated({name:a.policyQualifiers||"",value:L.schema()})]})]})};sa.prototype.fromSchema=function(a){Object(e.c)(a,["policyIdentifier","policyQualifiers"]);a=k.compareSchema(a,a,sa.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=a.result.policyIdentifier.valueBlock.toString();"policyQualifiers"in a.result&&(this.policyQualifiers=
Array.from(a.result.policyQualifiers,function(D){return new L({schema:D})}))};sa.prototype.toSchema=function(){var a=[];a.push(new k.ObjectIdentifier({value:this.policyIdentifier}));"policyQualifiers"in this&&a.push(new k.Sequence({value:Array.from(this.policyQualifiers,function(D){return D.toSchema()})}));return new k.Sequence({value:a})};sa.prototype.toJSON=function(){var a={policyIdentifier:this.policyIdentifier};"policyQualifiers"in this&&(a.policyQualifiers=Array.from(this.policyQualifiers,function(D){return D.toJSON()}));
return a};var Aa=function(a){a=void 0===a?{}:a;this.certificatePolicies=Object(e.e)(a,"certificatePolicies",Aa.defaultValues("certificatePolicies"));"schema"in a&&this.fromSchema(a.schema)};Aa.defaultValues=function(a){switch(a){case "certificatePolicies":return[];default:throw Error("Invalid member name for CertificatePolicies class: "+a);}};Aa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.certificatePolicies||
"",value:sa.schema()})]})};Aa.prototype.fromSchema=function(a){Object(e.c)(a,["certificatePolicies"]);a=k.compareSchema(a,a,Aa.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(a.result.certificatePolicies,function(D){return new sa({schema:D})})};Aa.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.certificatePolicies,
function(a){return a.toSchema()})})};Aa.prototype.toJSON=function(){return{certificatePolicies:Array.from(this.certificatePolicies,function(a){return a.toJSON()})}};var xa=function(a){a=void 0===a?{}:a;this.issuerDomainPolicy=Object(e.e)(a,"issuerDomainPolicy",xa.defaultValues("issuerDomainPolicy"));this.subjectDomainPolicy=Object(e.e)(a,"subjectDomainPolicy",xa.defaultValues("subjectDomainPolicy"));"schema"in a&&this.fromSchema(a.schema)};xa.defaultValues=function(a){switch(a){case "issuerDomainPolicy":return"";
case "subjectDomainPolicy":return"";default:throw Error("Invalid member name for PolicyMapping class: "+a);}};xa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.issuerDomainPolicy||""}),new k.ObjectIdentifier({name:a.subjectDomainPolicy||""})]})};xa.prototype.fromSchema=function(a){Object(e.c)(a,["issuerDomainPolicy","subjectDomainPolicy"]);a=k.compareSchema(a,a,xa.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",
subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=a.result.issuerDomainPolicy.valueBlock.toString();this.subjectDomainPolicy=a.result.subjectDomainPolicy.valueBlock.toString()};xa.prototype.toSchema=function(){return new k.Sequence({value:[new k.ObjectIdentifier({value:this.issuerDomainPolicy}),new k.ObjectIdentifier({value:this.subjectDomainPolicy})]})};xa.prototype.toJSON=
function(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}};var Ea=function(a){a=void 0===a?{}:a;this.mappings=Object(e.e)(a,"mappings",Ea.defaultValues("mappings"));"schema"in a&&this.fromSchema(a.schema)};Ea.defaultValues=function(a){switch(a){case "mappings":return[];default:throw Error("Invalid member name for PolicyMappings class: "+a);}};Ea.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||
"",value:[new k.Repeated({name:a.mappings||"",value:xa.schema()})]})};Ea.prototype.fromSchema=function(a){Object(e.c)(a,["mappings"]);a=k.compareSchema(a,a,Ea.schema({names:{mappings:"mappings"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(a.result.mappings,function(D){return new xa({schema:D})})};Ea.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.mappings,function(a){return a.toSchema()})})};
Ea.prototype.toJSON=function(){return{mappings:Array.from(this.mappings,function(a){return a.toJSON()})}};var za=function(a){a=void 0===a?{}:a;"keyIdentifier"in a&&(this.keyIdentifier=Object(e.e)(a,"keyIdentifier",za.defaultValues("keyIdentifier")));"authorityCertIssuer"in a&&(this.authorityCertIssuer=Object(e.e)(a,"authorityCertIssuer",za.defaultValues("authorityCertIssuer")));"authorityCertSerialNumber"in a&&(this.authorityCertSerialNumber=Object(e.e)(a,"authorityCertSerialNumber",za.defaultValues("authorityCertSerialNumber")));
"schema"in a&&this.fromSchema(a.schema)};za.defaultValues=function(a){switch(a){case "keyIdentifier":return new k.OctetString;case "authorityCertIssuer":return[];case "authorityCertSerialNumber":return new k.Integer;default:throw Error("Invalid member name for AuthorityKeyIdentifier class: "+a);}};za.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Primitive({name:a.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),
new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new k.Repeated({name:a.authorityCertIssuer||"",value:g.schema()})]}),new k.Primitive({name:a.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})};za.prototype.fromSchema=function(a){Object(e.c)(a,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);a=k.compareSchema(a,a,za.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in a.result&&(this.keyIdentifier=new k.OctetString({valueHex:a.result.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in a.result&&(this.authorityCertIssuer=Array.from(a.result.authorityCertIssuer,function(D){return new g({schema:D})}));"authorityCertSerialNumber"in a.result&&(this.authorityCertSerialNumber=new k.Integer({valueHex:a.result.authorityCertSerialNumber.valueBlock.valueHex}))};
za.prototype.toSchema=function(){var a=[];"keyIdentifier"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in this&&a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,function(D){return D.toSchema()})}));"authorityCertSerialNumber"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex}));return new k.Sequence({value:a})};
za.prototype.toJSON=function(){var a={};"keyIdentifier"in this&&(a.keyIdentifier=this.keyIdentifier.toJSON());"authorityCertIssuer"in this&&(a.authorityCertIssuer=Array.from(this.authorityCertIssuer,function(D){return D.toJSON()}));"authorityCertSerialNumber"in this&&(a.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON());return a};var c=function(a){a=void 0===a?{}:a;"requireExplicitPolicy"in a&&(this.requireExplicitPolicy=Object(e.e)(a,"requireExplicitPolicy",c.defaultValues("requireExplicitPolicy")));
"inhibitPolicyMapping"in a&&(this.inhibitPolicyMapping=Object(e.e)(a,"inhibitPolicyMapping",c.defaultValues("inhibitPolicyMapping")));"schema"in a&&this.fromSchema(a.schema)};c.defaultValues=function(a){switch(a){case "requireExplicitPolicy":return 0;case "inhibitPolicyMapping":return 0;default:throw Error("Invalid member name for PolicyConstraints class: "+a);}};c.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Primitive({name:a.requireExplicitPolicy||
"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new k.Primitive({name:a.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};c.prototype.fromSchema=function(a){Object(e.c)(a,["requireExplicitPolicy","inhibitPolicyMapping"]);a=k.compareSchema(a,a,c.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in
a.result){var D=a.result.requireExplicitPolicy;D.idBlock.tagClass=1;D.idBlock.tagNumber=2;D=D.toBER(!1);this.requireExplicitPolicy=k.fromBER(D).result.valueBlock.valueDec}"inhibitPolicyMapping"in a.result&&(a=a.result.inhibitPolicyMapping,a.idBlock.tagClass=1,a.idBlock.tagNumber=2,a=a.toBER(!1),this.inhibitPolicyMapping=k.fromBER(a).result.valueBlock.valueDec)};c.prototype.toSchema=function(){var a=[];if("requireExplicitPolicy"in this){var D=new k.Integer({value:this.requireExplicitPolicy});D.idBlock.tagClass=
3;D.idBlock.tagNumber=0;a.push(D)}"inhibitPolicyMapping"in this&&(D=new k.Integer({value:this.inhibitPolicyMapping}),D.idBlock.tagClass=3,D.idBlock.tagNumber=1,a.push(D));return new k.Sequence({value:a})};c.prototype.toJSON=function(){var a={};"requireExplicitPolicy"in this&&(a.requireExplicitPolicy=this.requireExplicitPolicy);"inhibitPolicyMapping"in this&&(a.inhibitPolicyMapping=this.inhibitPolicyMapping);return a};var X=function(a){a=void 0===a?{}:a;this.keyPurposes=Object(e.e)(a,"keyPurposes",
X.defaultValues("keyPurposes"));"schema"in a&&this.fromSchema(a.schema)};X.defaultValues=function(a){switch(a){case "keyPurposes":return[];default:throw Error("Invalid member name for ExtKeyUsage class: "+a);}};X.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.keyPurposes||"",value:new k.ObjectIdentifier})]})};X.prototype.fromSchema=function(a){Object(e.c)(a,["keyPurposes"]);a=k.compareSchema(a,a,X.schema({names:{keyPurposes:"keyPurposes"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(a.result.keyPurposes,function(D){return D.valueBlock.toString()})};X.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.keyPurposes,function(a){return new k.ObjectIdentifier({value:a})})})};X.prototype.toJSON=function(){return{keyPurposes:Array.from(this.keyPurposes)}};var ma=function(a){a=void 0===a?{}:a;this.accessDescriptions=Object(e.e)(a,"accessDescriptions",
ma.defaultValues("accessDescriptions"));"schema"in a&&this.fromSchema(a.schema)};ma.defaultValues=function(a){switch(a){case "accessDescriptions":return[];default:throw Error("Invalid member name for InfoAccess class: "+a);}};ma.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.accessDescriptions||"",value:y.schema()})]})};ma.prototype.fromSchema=function(a){Object(e.c)(a,["accessDescriptions"]);a=k.compareSchema(a,
a,ma.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(a.result.accessDescriptions,function(D){return new y({schema:D})})};ma.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.accessDescriptions,function(a){return a.toSchema()})})};ma.prototype.toJSON=function(){return{accessDescriptions:Array.from(this.accessDescriptions,function(a){return a.toJSON()})}};
var ka=function(a){a=void 0===a?{}:a;this.clear();for(var D=$jscomp.makeIterator(Object.keys(a)),M=D.next();!M.done;M=D.next())switch(M.value){case "length":this.length=a.length;break;case "stub":for(M=0;M<this._view.length;M++)this._view[M]=a.stub;break;case "view":this.fromUint8Array(a.view);break;case "buffer":this.fromArrayBuffer(a.buffer);break;case "string":this.fromString(a.string);break;case "hexstring":this.fromHexString(a.hexstring)}};ka.prototype.clear=function(){this._buffer=new ArrayBuffer(0);
this._view=new Uint8Array(this._buffer)};ka.prototype.fromArrayBuffer=function(a){this.buffer=a};ka.prototype.fromUint8Array=function(a){this._buffer=new ArrayBuffer(a.length);this._view=new Uint8Array(this._buffer);this._view.set(a)};ka.prototype.fromString=function(a){var D=a.length;this.length=D;for(var M=0;M<D;M++)this.view[M]=a.charCodeAt(M)};ka.prototype.toString=function(a,D){a=void 0===a?0:a;D=void 0===D?this.view.length-a:D;var M="";if(a>=this.view.length||0>a)a=0;if(D>=this.view.length||
0>D)D=this.view.length-a;for(var Y=a;Y<a+D;Y++)M+=String.fromCharCode(this.view[Y]);return M};ka.prototype.fromHexString=function(a){var D=a.length;this.buffer=new ArrayBuffer(D>>1);this.view=new Uint8Array(this.buffer);var M=new Map;M.set("0",0);M.set("1",1);M.set("2",2);M.set("3",3);M.set("4",4);M.set("5",5);M.set("6",6);M.set("7",7);M.set("8",8);M.set("9",9);M.set("A",10);M.set("a",10);M.set("B",11);M.set("b",11);M.set("C",12);M.set("c",12);M.set("D",13);M.set("d",13);M.set("E",14);M.set("e",14);
M.set("F",15);M.set("f",15);for(var Y=0,ja=0,ta=0;ta<D;ta++)ta%2?(ja|=M.get(a.charAt(ta)),this.view[Y]=ja,Y++):ja=M.get(a.charAt(ta))<<4};ka.prototype.toHexString=function(a,D){a=void 0===a?0:a;D=void 0===D?this.view.length-a:D;var M="";if(a>=this.view.length||0>a)a=0;if(D>=this.view.length||0>D)D=this.view.length-a;for(var Y=a;Y<a+D;Y++){var ja=this.view[Y].toString(16).toUpperCase();M=M+(1==ja.length?"0":"")+ja}return M};ka.prototype.copy=function(a,D){a=void 0===a?0:a;D=void 0===D?this._buffer.byteLength-
a:D;if(0===a&&0===this._buffer.byteLength)return new ka;if(0>a||a>this._buffer.byteLength-1)throw Error("Wrong start position: "+a);var M=new ka;M._buffer=this._buffer.slice(a,a+D);M._view=new Uint8Array(M._buffer);return M};ka.prototype.slice=function(a,D){a=void 0===a?0:a;D=void 0===D?this._buffer.byteLength:D;if(0===a&&0===this._buffer.byteLength)return new ka;if(0>a||a>this._buffer.byteLength-1)throw Error("Wrong start position: "+a);var M=new ka;M._buffer=this._buffer.slice(a,D);M._view=new Uint8Array(M._buffer);
return M};ka.prototype.realloc=function(a){var D=new ArrayBuffer(a),M=new Uint8Array(D);a>this._view.length?M.set(this._view):M.set(new Uint8Array(this._buffer,0,a));this._buffer=D.slice(0);this._view=new Uint8Array(this._buffer)};ka.prototype.append=function(a){var D=this._buffer.byteLength,M=a._buffer.byteLength;a=a._view.slice();this.realloc(D+M);this._view.set(a,D)};ka.prototype.insert=function(a,D,M){D=void 0===D?0:D;M=void 0===M?this._buffer.byteLength-D:M;if(D>this._buffer.byteLength-1)return!1;
M>this._buffer.byteLength-D&&(M=this._buffer.byteLength-D);M>a._buffer.byteLength&&(M=a._buffer.byteLength);M==a._buffer.byteLength?this._view.set(a._view,D):this._view.set(a._view.slice(0,M),D);return!0};ka.prototype.isEqual=function(a){if(this._buffer.byteLength!=a._buffer.byteLength)return!1;for(var D=0;D<a._buffer.byteLength;D++)if(this.view[D]!=a.view[D])return!1;return!0};ka.prototype.isEqualView=function(a){if(a.length!=this.view.length)return!1;for(var D=0;D<a.length;D++)if(this.view[D]!=
a[D])return!1;return!0};ka.prototype.findPattern=function(a,D,M,Y){D=void 0===D?null:D;M=void 0===M?null:M;Y=void 0===Y?!1:Y;null==D&&(D=Y?this.buffer.byteLength:0);D>this.buffer.byteLength&&(D=this.buffer.byteLength);Y?(null==M&&(M=D),M>D&&(M=D)):(null==M&&(M=this.buffer.byteLength-D),M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D));var ja=a.buffer.byteLength;if(ja>M)return-1;for(var ta=[],Ca=0;Ca<ja;Ca++)ta.push(a.view[Ca]);for(a=0;a<=M-ja;a++){Ca=!0;for(var Ja=Y?D-ja-a:D+a,Ra=0;Ra<ja;Ra++)if(this.view[Ra+
Ja]!=ta[Ra]){Ca=!1;break}if(Ca)return Y?D-ja-a:D+ja+a}return-1};ka.prototype.findFirstIn=function(a,D,M,Y){D=void 0===D?null:D;M=void 0===M?null:M;Y=void 0===Y?!1:Y;null==D&&(D=Y?this.buffer.byteLength:0);D>this.buffer.byteLength&&(D=this.buffer.byteLength);Y?(null==M&&(M=D),M>D&&(M=D)):(null==M&&(M=this.buffer.byteLength-D),M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D));for(var ja={id:-1,position:Y?0:D+M,length:0},ta=0;ta<a.length;ta++){var Ca=this.findPattern(a[ta],D,M,Y);if(-1!=Ca){var Ja=
!1,Ra=a[ta].length;Y?Ca-Ra>=ja.position-ja.length&&(Ja=!0):Ca-Ra<=ja.position-ja.length&&(Ja=!0);Ja&&(ja.position=Ca,ja.id=ta,ja.length=Ra)}}return ja};ka.prototype.findAllIn=function(a,D,M){D=void 0===D?0:D;M=void 0===M?this.buffer.byteLength-D:M;var Y=[];null==D&&(D=0);if(D>this.buffer.byteLength-1)return Y;null==M&&(M=this.buffer.byteLength-D);M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D);D={id:-1,position:D};do{var ja=D.position;D=this.findFirstIn(a,D.position,M);if(-1==D.id)break;
M-=D.position-ja;Y.push({id:D.id,position:D.position})}while(1);return Y};ka.prototype.findAllPatternIn=function(a,D,M){D=void 0===D?0:D;M=void 0===M?this.buffer.byteLength-D:M;null==D&&(D=0);D>this.buffer.byteLength&&(D=this.buffer.byteLength);null==M&&(M=this.buffer.byteLength-D);M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D);var Y=[],ja=a.buffer.byteLength;if(ja>M)return-1;a=Array.from(a.view);for(var ta=0;ta<=M-ja;ta++){for(var Ca=!0,Ja=D+ta,Ra=0;Ra<ja;Ra++)if(this.view[Ra+Ja]!=a[Ra]){Ca=
!1;break}Ca&&(Y.push(D+ja+ta),ta+=ja-1)}return Y};ka.prototype.findFirstNotIn=function(a,D,M,Y){D=void 0===D?null:D;M=void 0===M?null:M;Y=void 0===Y?!1:Y;null==D&&(D=Y?this.buffer.byteLength:0);D>this.buffer.byteLength&&(D=this.buffer.byteLength);Y?(null==M&&(M=D),M>D&&(M=D)):(null==M&&(M=this.buffer.byteLength-D),M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D));for(var ja={left:{id:-1,position:D},right:{id:-1,position:0},value:new ka},ta=M;0<ta;){ja.right=this.findFirstIn(a,Y?D-M+ta:D+M-
ta,ta,Y);if(-1==ja.right.id){M=ta;D=Y?D-M:ja.left.position;ja.value=new ka;ja.value._buffer=this._buffer.slice(D,D+M);ja.value._view=new Uint8Array(ja.value._buffer);break}if(ja.right.position!=(Y?ja.left.position-a[ja.right.id].buffer.byteLength:ja.left.position+a[ja.right.id].buffer.byteLength)){Y?(D=ja.right.position+a[ja.right.id].buffer.byteLength,M=ja.left.position-ja.right.position-a[ja.right.id].buffer.byteLength):(D=ja.left.position,M=ja.right.position-ja.left.position-a[ja.right.id].buffer.byteLength);
ja.value=new ka;ja.value._buffer=this._buffer.slice(D,D+M);ja.value._view=new Uint8Array(ja.value._buffer);break}ja.left=ja.right;ta-=a[ja.right.id]._buffer.byteLength}Y&&(a=ja.right,ja.right=ja.left,ja.left=a);return ja};ka.prototype.findAllNotIn=function(a,D,M){D=void 0===D?null:D;M=void 0===M?null:M;var Y=[];null==D&&(D=0);if(D>this.buffer.byteLength-1)return Y;null==M&&(M=this.buffer.byteLength-D);M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D);D={left:{id:-1,position:D},right:{id:-1,
position:D},value:new ka};do{var ja=D.right.position;D=this.findFirstNotIn(a,D.right.position,M);M-=D.right.position-ja;Y.push({left:{id:D.left.id,position:D.left.position},right:{id:D.right.id,position:D.right.position},value:D.value})}while(-1!=D.right.id);return Y};ka.prototype.findFirstSequence=function(a,D,M,Y){D=void 0===D?null:D;M=void 0===M?null:M;Y=void 0===Y?!1:Y;null==D&&(D=Y?this.buffer.byteLength:0);D>this.buffer.byteLength&&(D=this.buffer.byteLength);Y?(null==M&&(M=D),M>D&&(M=D)):(null==
M&&(M=this.buffer.byteLength-D),M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D));var ja=this.skipNotPatterns(a,D,M,Y);if(-1==ja)return{position:-1,value:new ka};a=this.skipPatterns(a,ja,M-(Y?D-ja:ja-D),Y);Y?(D=a,M=ja-a):(D=ja,M=a-ja);Y=new ka;Y._buffer=this._buffer.slice(D,D+M);Y._view=new Uint8Array(Y._buffer);return{position:a,value:Y}};ka.prototype.findAllSequences=function(a,D,M){D=void 0===D?null:D;M=void 0===M?null:M;var Y=[];null==D&&(D=0);if(D>this.buffer.byteLength-1)return Y;null==
M&&(M=this.buffer.byteLength-D);M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D);D={position:D,value:new ka};do{var ja=D.position;D=this.findFirstSequence(a,D.position,M);-1!=D.position&&(M-=D.position-ja,Y.push({position:D.position,value:D.value}))}while(-1!=D.position);return Y};ka.prototype.findPairedPatterns=function(a,D,M,Y){M=void 0===M?null:M;Y=void 0===Y?null:Y;var ja=[];if(a.isEqual(D))return ja;null==M&&(M=0);if(M>this.buffer.byteLength-1)return ja;null==Y&&(Y=this.buffer.byteLength-
M);Y>this.buffer.byteLength-M&&(Y=this.buffer.byteLength-M);var ta=0;a=this.findAllPatternIn(a,M,Y);if(0==a.length)return ja;D=this.findAllPatternIn(D,M,Y);if(0==D.length)return ja;for(;ta<a.length&&0!=D.length;)if(a[0]==D[0])ja.push({left:a[0],right:D[0]}),a.splice(0,1),D.splice(0,1);else{if(a[ta]>D[0])break;for(;a[ta]<D[0]&&!(ta++,ta>=a.length););ja.push({left:a[ta-1],right:D[0]});a.splice(ta-1,1);D.splice(0,1);ta=0}ja.sort(function(Ca,Ja){return Ca.left-Ja.left});return ja};ka.prototype.findPairedArrays=
function(a,D,M,Y){M=void 0===M?null:M;Y=void 0===Y?null:Y;var ja=[];null==M&&(M=0);if(M>this.buffer.byteLength-1)return ja;null==Y&&(Y=this.buffer.byteLength-M);Y>this.buffer.byteLength-M&&(Y=this.buffer.byteLength-M);var ta=0;a=this.findAllIn(a,M,Y);if(0==a.length)return ja;D=this.findAllIn(D,M,Y);if(0==D.length)return ja;for(;ta<a.length&&0!=D.length;)if(a[0].position==D[0].position)ja.push({left:a[0],right:D[0]}),a.splice(0,1),D.splice(0,1);else{if(a[ta].position>D[0].position)break;for(;a[ta].position<
D[0].position&&!(ta++,ta>=a.length););ja.push({left:a[ta-1],right:D[0]});a.splice(ta-1,1);D.splice(0,1);ta=0}ja.sort(function(Ca,Ja){return Ca.left.position-Ja.left.position});return ja};ka.prototype.replacePattern=function(a,D,M,Y,ja){M=void 0===M?null:M;Y=void 0===Y?null:Y;ja=void 0===ja?null:ja;var ta={status:-1,searchPatternPositions:[],replacePatternPositions:[]};null==M&&(M=0);if(M>this.buffer.byteLength-1)return!1;null==Y&&(Y=this.buffer.byteLength-M);Y>this.buffer.byteLength-M&&(Y=this.buffer.byteLength-
M);if(null==ja){if(Y=this.findAllIn([a],M,Y),0==Y.length)return ta}else Y=ja;ta.searchPatternPositions.push.apply(ta.searchPatternPositions,$jscomp.arrayFromIterable(Array.from(Y,function(Ya){return Ya.position})));var Ca=a.buffer.byteLength-D.buffer.byteLength,Ja=new ArrayBuffer(this.view.length-Y.length*Ca),Ra=new Uint8Array(Ja);Ra.set(new Uint8Array(this.buffer,0,M));for(ja=0;ja<Y.length;ja++){var Sa=0==ja?M:Y[ja-1].position;Ra.set(new Uint8Array(this.buffer,Sa,Y[ja].position-a.buffer.byteLength-
Sa),Sa-ja*Ca);Ra.set(D.view,Y[ja].position-a.buffer.byteLength-ja*Ca);ta.replacePatternPositions.push(Y[ja].position-a.buffer.byteLength-ja*Ca)}ja--;Ra.set(new Uint8Array(this.buffer,Y[ja].position,this.buffer.byteLength-Y[ja].position),Y[ja].position-a.buffer.byteLength+D.buffer.byteLength-ja*Ca);this.buffer=Ja;this.view=new Uint8Array(this.buffer);ta.status=1;return ta};ka.prototype.skipPatterns=function(a,D,M,Y){D=void 0===D?null:D;M=void 0===M?null:M;Y=void 0===Y?!1:Y;null==D&&(D=Y?this.buffer.byteLength:
0);D>this.buffer.byteLength&&(D=this.buffer.byteLength);Y?(null==M&&(M=D),M>D&&(M=D)):(null==M&&(M=this.buffer.byteLength-D),M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D));for(var ja=D,ta=0;ta<a.length;ta++){for(var Ca=a[ta].buffer.byteLength,Ja=Y?ja-Ca:ja,Ra=!0,Sa=0;Sa<Ca;Sa++)if(this.view[Sa+Ja]!=a[ta].view[Sa]){Ra=!1;break}if(Ra)if(ta=-1,Y){if(ja-=Ca,0>=ja)break}else if(ja+=Ca,ja>=D+M)break}return ja};ka.prototype.skipNotPatterns=function(a,D,M,Y){D=void 0===D?null:D;M=void 0===M?null:
M;Y=void 0===Y?!1:Y;null==D&&(D=Y?this.buffer.byteLength:0);D>this.buffer.byteLength&&(D=this.buffer.byteLength);Y?(null==M&&(M=D),M>D&&(M=D)):(null==M&&(M=this.buffer.byteLength-D),M>this.buffer.byteLength-D&&(M=this.buffer.byteLength-D));for(var ja=-1,ta=0;ta<M;ta++){for(var Ca=0;Ca<a.length;Ca++){for(var Ja=a[Ca].buffer.byteLength,Ra=Y?D-ta-Ja:D+ta,Sa=!0,Ya=0;Ya<Ja;Ya++)if(this.view[Ya+Ra]!=a[Ca].view[Ya]){Sa=!1;break}if(Sa){ja=Y?D-ta:D+ta;break}}if(-1!=ja)break}return ja};$jscomp.global.Object.defineProperties(ka.prototype,
{buffer:{configurable:!0,enumerable:!0,set:function(a){this._buffer=a.slice(0);this._view=new Uint8Array(this._buffer)},get:function(){return this._buffer}},view:{configurable:!0,enumerable:!0,set:function(a){this._buffer=new ArrayBuffer(a.length);this._view=new Uint8Array(this._buffer);this._view.set(a)},get:function(){return this._view}},length:{configurable:!0,enumerable:!0,get:function(){return this._buffer.byteLength},set:function(a){this._buffer=new ArrayBuffer(a);this._view=new Uint8Array(this._buffer)}}});
var na=function(a){a=void 0===a?{}:a;this.stream=new ka;this._length=0;this.backward=!1;this.prevStart=this.prevLength=this.appendBlock=this._start=0;for(var D=$jscomp.makeIterator(Object.keys(a)),M=D.next();!M.done;M=D.next())switch(M.value){case "stream":this.stream=a.stream;break;case "backward":this.backward=a.backward;this._start=this.stream.buffer.byteLength;break;case "length":this._length=a.length;break;case "start":this._start=a.start;break;case "appendBlock":this.appendBlock=a.appendBlock;
break;case "view":this.stream=new ka({view:a.view});break;case "buffer":this.stream=new ka({buffer:a.buffer});break;case "string":this.stream=new ka({string:a.string});break;case "hexstring":this.stream=new ka({hexstring:a.hexstring})}};na.prototype.resetPosition=function(){this._start=this.prevStart;this._length=this.prevLength};na.prototype.findPattern=function(a,D){D=void 0===D?null:D;if(null==D||D>this.length)D=this.length;var M=this.stream.findPattern(a,this.start,this.length,this.backward);
if(-1==M)return M;if(this.backward){if(M<this.start-a.buffer.byteLength-D)return-1}else if(M>this.start+a.buffer.byteLength+D)return-1;return this.start=M};na.prototype.findFirstIn=function(a,D){D=void 0===D?null:D;if(null==D||D>this.length)D=this.length;var M=this.stream.findFirstIn(a,this.start,this.length,this.backward);if(-1==M.id)return M;if(this.backward){if(M.position<this.start-a[M.id].buffer.byteLength-D)return{id:-1,position:this.backward?0:this.start+this.length}}else if(M.position>this.start+
a[M.id].buffer.byteLength+D)return{id:-1,position:this.backward?0:this.start+this.length};this.start=M.position;return M};na.prototype.findAllIn=function(a){return this.stream.findAllIn(a,this.backward?this.start-this.length:this.start,this.length)};na.prototype.findFirstNotIn=function(a,D){D=void 0===D?null:D;if(null==D||D>this._length)D=this._length;var M=this._stream.findFirstNotIn(a,this._start,this._length,this.backward);if(-1==M.left.id&&-1==M.right.id)return M;if(this.backward){if(-1!=M.right.id&&
M.right.position<this._start-a[M.right.id]._buffer.byteLength-D)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new ka}}else if(-1!=M.left.id&&M.left.position>this._start+a[M.left.id]._buffer.byteLength+D)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new ka};this.start=this.backward?-1==M.left.id?0:M.left.position:-1==M.right.id?this._start+this._length:M.right.position;return M};na.prototype.findAllNotIn=function(a){return this._stream.findAllNotIn(a,
this.backward?this._start-this._length:this._start,this._length)};na.prototype.findFirstSequence=function(a,D,M){D=void 0===D?null:D;M=void 0===M?null:M;if(null==D||D>this._length)D=this._length;if(null==M||M>D)M=D;a=this._stream.findFirstSequence(a,this._start,D,this.backward);if(0==a.value.buffer.byteLength)return a;if(this.backward){if(a.position<this._start-a.value._buffer.byteLength-M)return{position:-1,value:new ka}}else if(a.position>this._start+a.value._buffer.byteLength+M)return{position:-1,
value:new ka};this.start=a.position;return a};na.prototype.findAllSequences=function(a){return this.stream.findAllSequences(a,this.backward?this.start-this.length:this.start,this.length)};na.prototype.findPairedPatterns=function(a,D,M){M=void 0===M?null:M;if(null==M||M>this.length)M=this.length;var Y=this.stream.findPairedPatterns(a,D,this.backward?this.start-this.length:this.start,this.length);if(Y.length)if(this.backward){if(Y[0].right<this.start-D.buffer.byteLength-M)return[]}else if(Y[0].left>
this.start+a.buffer.byteLength+M)return[];return Y};na.prototype.findPairedArrays=function(a,D,M){M=void 0===M?null:M;if(null==M||M>this.length)M=this.length;var Y=this.stream.findPairedArrays(a,D,this.backward?this.start-this.length:this.start,this.length);if(Y.length)if(this.backward){if(Y[0].right.position<this.start-D[Y[0].right.id].buffer.byteLength-M)return[]}else if(Y[0].left.position>this.start+a[Y[0].left.id].buffer.byteLength+M)return[];return Y};na.prototype.replacePattern=function(a,D){return this.stream.replacePattern(a,
D,this.backward?this.start-this.length:this.start,this.length)};na.prototype.skipPatterns=function(a){return this.start=a=this.stream.skipPatterns(a,this.start,this.length,this.backward)};na.prototype.skipNotPatterns=function(a){a=this.stream.skipNotPatterns(a,this.start,this.length,this.backward);return-1==a?-1:this.start=a};na.prototype.append=function(a){this._start+a._buffer.byteLength>this._stream._buffer.byteLength&&(a._buffer.byteLength>this.appendBlock&&(this.appendBlock=a._buffer.byteLength+
1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));this._stream._view.set(a._view,this._start);this._length+=2*a._buffer.byteLength;this.start=this._start+a._buffer.byteLength;this.prevLength-=2*a._buffer.byteLength};na.prototype.appendView=function(a){this._start+a.length>this._stream._buffer.byteLength&&(a.length>this.appendBlock&&(this.appendBlock=a.length+1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));this._stream._view.set(a,this._start);
this._length+=2*a.length;this.start=this._start+a.length;this.prevLength-=2*a.length};na.prototype.appendChar=function(a){this._start+1>this._stream._buffer.byteLength&&(1>this.appendBlock&&(this.appendBlock=1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));this._stream._view[this._start]=a;this._length+=2;this.start=this._start+1;this.prevLength-=2};na.prototype.appendUint16=function(a){this._start+2>this._stream._buffer.byteLength&&(2>this.appendBlock&&(this.appendBlock=
1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));a=new Uint16Array([a]);a=new Uint8Array(a.buffer);this._stream._view[this._start]=a[1];this._stream._view[this._start+1]=a[0];this._length+=4;this.start=this._start+2;this.prevLength-=4};na.prototype.appendUint24=function(a){this._start+3>this._stream._buffer.byteLength&&(3>this.appendBlock&&(this.appendBlock=1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);
this._stream._view[this._start]=a[2];this._stream._view[this._start+1]=a[1];this._stream._view[this._start+2]=a[0];this._length+=6;this.start=this._start+3;this.prevLength-=6};na.prototype.appendUint32=function(a){this._start+4>this._stream._buffer.byteLength&&(4>this.appendBlock&&(this.appendBlock=1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);this._stream._view[this._start]=a[3];this._stream._view[this._start+1]=a[2];
this._stream._view[this._start+2]=a[1];this._stream._view[this._start+3]=a[0];this._length+=8;this.start=this._start+4;this.prevLength-=8};na.prototype.getBlock=function(a,D){D=void 0===D?!0:D;if(0>=this._length)return[];this._length<a&&(a=this._length);if(this.backward){var M=this._stream._buffer.slice(this._length-a,this._length);var Y=new Uint8Array(M);M=Array(a);for(var ja=0;ja<a;ja++)M[a-1-ja]=Y[ja]}else M=this._stream._buffer.slice(this._start,this._start+a),M=Array.from(new Uint8Array(M));
D&&(this.start+=this.backward?-1*a:a);return M};na.prototype.getUint16=function(a){a=this.getBlock(2,void 0===a?!0:a);if(2>a.length)return 0;var D=new Uint16Array(1),M=new Uint8Array(D.buffer);M[0]=a[1];M[1]=a[0];return D[0]};na.prototype.getInt16=function(a){a=this.getBlock(2,void 0===a?!0:a);if(2>a.length)return 0;var D=new Int16Array(1),M=new Uint8Array(D.buffer);M[0]=a[1];M[1]=a[0];return D[0]};na.prototype.getUint24=function(a){a=this.getBlock(3,void 0===a?!0:a);if(3>a.length)return 0;for(var D=
new Uint32Array(1),M=new Uint8Array(D.buffer),Y=3;1<=Y;Y--)M[3-Y]=a[Y-1];return D[0]};na.prototype.getUint32=function(a){a=this.getBlock(4,void 0===a?!0:a);if(4>a.length)return 0;for(var D=new Uint32Array(1),M=new Uint8Array(D.buffer),Y=3;0<=Y;Y--)M[3-Y]=a[Y];return D[0]};na.prototype.getInt32=function(a){a=this.getBlock(4,void 0===a?!0:a);if(4>a.length)return 0;for(var D=new Int32Array(1),M=new Uint8Array(D.buffer),Y=3;0<=Y;Y--)M[3-Y]=a[Y];return D[0]};$jscomp.global.Object.defineProperties(na.prototype,
{stream:{configurable:!0,enumerable:!0,set:function(a){this._stream=a;this.prevLength=this._length;this._length=a._buffer.byteLength;this.prevStart=this._start;this._start=0},get:function(){return this._stream}},length:{configurable:!0,enumerable:!0,set:function(a){this.prevLength=this._length;this._length=a},get:function(){return this.appendBlock?this.start:this._length}},start:{configurable:!0,enumerable:!0,set:function(a){a>this.stream.buffer.byteLength||(this.prevStart=this._start,this.prevLength=
this._length,this._length-=this.backward?this._start-a:a-this._start,this._start=a)},get:function(){return this._start}},buffer:{configurable:!0,enumerable:!0,get:function(){return this._stream._buffer.slice(0,this._length)}}});var Ba=function(a){a=void 0===a?{}:a;this.version=Object(e.e)(a,"version",Ba.defaultValues("version"));this.logID=Object(e.e)(a,"logID",Ba.defaultValues("logID"));this.timestamp=Object(e.e)(a,"timestamp",Ba.defaultValues("timestamp"));this.extensions=Object(e.e)(a,"extensions",
Ba.defaultValues("extensions"));this.hashAlgorithm=Object(e.e)(a,"hashAlgorithm",Ba.defaultValues("hashAlgorithm"));this.signatureAlgorithm=Object(e.e)(a,"signatureAlgorithm",Ba.defaultValues("signatureAlgorithm"));this.signature=Object(e.e)(a,"signature",Ba.defaultValues("signature"));"schema"in a&&this.fromSchema(a.schema);"stream"in a&&this.fromStream(a.stream)};Ba.defaultValues=function(a){switch(a){case "version":return 0;case "logID":case "extensions":return new ArrayBuffer(0);case "timestamp":return new Date(0);
case "hashAlgorithm":case "signatureAlgorithm":return"";case "signature":return new k.Any;default:throw Error("Invalid member name for SignedCertificateTimestamp class: "+a);}};Ba.prototype.fromSchema=function(a){if(!1===a instanceof k.RawData)throw Error("Object's schema was not verified against input data for SignedCertificateTimestamp");a=new na({stream:new ka({buffer:a.data})});this.fromStream(a)};Ba.prototype.fromStream=function(a){var D=a.getUint16();this.version=a.getBlock(1)[0];if(0===this.version){this.logID=
(new Uint8Array(a.getBlock(32))).buffer.slice(0);this.timestamp=new Date(Object(e.k)(new Uint8Array(a.getBlock(8)),8));var M=a.getUint16();this.extensions=(new Uint8Array(a.getBlock(M))).buffer.slice(0);switch(a.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";
break;default:throw Error("Object's stream was not correct for SignedCertificateTimestamp");}switch(a.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw Error("Object's stream was not correct for SignedCertificateTimestamp");}var Y=a.getUint16();a=(new Uint8Array(a.getBlock(Y))).buffer.slice(0);a=k.fromBER(a);if(-1===a.offset)throw Error("Object's stream was not correct for SignedCertificateTimestamp");
this.signature=a.result;if(D!==47+M+Y)throw Error("Object's stream was not correct for SignedCertificateTimestamp");}};Ba.prototype.toSchema=function(){var a=this.toStream();return new k.RawData({data:a.stream.buffer})};Ba.prototype.toStream=function(){var a=new na;a.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength);a.appendChar(this.version);a.appendView(new Uint8Array(this.logID));var D=new ArrayBuffer(8);D=new Uint8Array(D);var M=Object(e.l)(this.timestamp.valueOf(),
8);D.set(new Uint8Array(M),8-M.byteLength);a.appendView(D);a.appendUint16(this.extensions.byteLength);this.extensions.byteLength&&a.appendView(new Uint8Array(this.extensions));switch(this.hashAlgorithm.toLowerCase()){case "none":D=0;break;case "md5":D=1;break;case "sha1":D=2;break;case "sha224":D=3;break;case "sha256":D=4;break;case "sha384":D=5;break;case "sha512":D=6;break;default:throw Error("Incorrect data for hashAlgorithm: "+this.hashAlgorithm);}a.appendChar(D);switch(this.signatureAlgorithm.toLowerCase()){case "anonymous":D=
0;break;case "rsa":D=1;break;case "dsa":D=2;break;case "ecdsa":D=3;break;default:throw Error("Incorrect data for signatureAlgorithm: "+this.signatureAlgorithm);}a.appendChar(D);D=this.signature.toBER(!1);a.appendUint16(D.byteLength);a.appendView(new Uint8Array(D));return a};Ba.prototype.toJSON=function(){return{version:this.version,logID:Object(e.b)(this.logID),timestamp:this.timestamp,extensions:Object(e.b)(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,
signature:this.signature.toJSON()}};Ba.prototype.verify=function(a,D,M){M=void 0===M?0:M;var Y=this,ja,ta,Ca,Ja,Ra,Sa,Ya,eb,xb,ob,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){ja=Object(e.i)(Object(e.a)(Y.logID));ta=null;Ja=new na;Ra=$jscomp.makeIterator(a);for(Sa=Ra.next();!Sa.done;Sa=Ra.next())if(Ya=Sa.value,Ya.log_id===ja){ta=Ya.key;break}if(null===ta)throw Error("Public key not found for CT with logId: "+ja);eb=k.fromBER(Object(e.h)(Object(e.d)(ta)));if(-1===eb.offset)throw Error("Incorrect key value for CT Log with logId: "+
ja);Ca=new fa.a({schema:eb.result});Ja.appendChar(0);Ja.appendChar(0);xb=new ArrayBuffer(8);ob=new Uint8Array(xb);qb=Object(e.l)(Y.timestamp.valueOf(),8);ob.set(new Uint8Array(qb),8-qb.byteLength);Ja.appendView(ob);Ja.appendUint16(M);0===M&&Ja.appendUint24(D.byteLength);Ja.appendView(new Uint8Array(D));Ja.appendUint16(Y.extensions.byteLength);0!==Y.extensions.byteLength&&Ja.appendView(new Uint8Array(Y.extensions));return tb.return(Object(S.e)().subtle.verifyWithPublicKey(Ja._stream._buffer.slice(0,
Ja._length),{valueBlock:{valueHex:Y.signature.toBER(!1)}},Ca,{algorithmId:""},"SHA-256"))})};var La=function(a){a=void 0===a?{}:a;this.timestamps=Object(e.e)(a,"timestamps",La.defaultValues("timestamps"));"schema"in a&&this.fromSchema(a.schema)};La.defaultValues=function(a){switch(a){case "timestamps":return[];default:throw Error("Invalid member name for SignedCertificateTimestampList class: "+a);}};La.compareWithDefault=function(a,D){switch(a){case "timestamps":return 0===D.length;default:throw Error("Invalid member name for SignedCertificateTimestampList class: "+
a);}};La.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});!1==="optional"in a&&(a.optional=!1);return new k.OctetString({name:a.blockName||"SignedCertificateTimestampList",optional:a.optional})};La.prototype.fromSchema=function(a){if(!1===a instanceof k.OctetString)throw Error("Object's schema was not verified against input data for SignedCertificateTimestampList");a=new na({stream:new ka({buffer:a.valueBlock.valueHex})});if(a.getUint16()!==a.length)throw Error("Object's schema was not verified against input data for SignedCertificateTimestampList");
for(;a.length;)this.timestamps.push(new Ba({stream:a}))};La.prototype.toSchema=function(){for(var a=new na,D=0,M=[],Y=$jscomp.makeIterator(this.timestamps),ja=Y.next();!ja.done;ja=Y.next())ja=ja.value.toStream(),M.push(ja),D+=ja.stream.buffer.byteLength;a.appendUint16(D);D=$jscomp.makeIterator(M);for(ja=D.next();!ja.done;ja=D.next())a.appendView(ja.value.stream.view);return new k.OctetString({valueHex:a.stream.buffer.slice(0)})};La.prototype.toJSON=function(){return{timestamps:Array.from(this.timestamps,
function(a){return a.toJSON()})}};var Pa=function(a){a=void 0===a?{}:a;this.templateID=Object(e.e)(a,"templateID",Pa.defaultValues("templateID"));"templateMajorVersion"in a&&(this.templateMajorVersion=Object(e.e)(a,"templateMajorVersion",Pa.defaultValues("templateMajorVersion")));"templateMinorVersion"in a&&(this.templateMinorVersion=Object(e.e)(a,"templateMinorVersion",Pa.defaultValues("templateMinorVersion")));"schema"in a&&this.fromSchema(a.schema)};Pa.defaultValues=function(a){switch(a){case "templateID":return"";
case "templateMajorVersion":case "templateMinorVersion":return 0;default:throw Error("Invalid member name for CertificateTemplate class: "+a);}};Pa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.templateID||""}),new k.Integer({name:a.templateMajorVersion||"",optional:!0}),new k.Integer({name:a.templateMinorVersion||"",optional:!0})]})};Pa.prototype.fromSchema=function(a){Object(e.c)(a,["templateID",
"templateMajorVersion","templateMinorVersion"]);a=k.compareSchema(a,a,Pa.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=a.result.templateID.valueBlock.toString();"templateMajorVersion"in a.result&&(this.templateMajorVersion=a.result.templateMajorVersion.valueBlock.valueDec);"templateMinorVersion"in
a.result&&(this.templateMinorVersion=a.result.templateMinorVersion.valueBlock.valueDec)};Pa.prototype.toSchema=function(){var a=[];a.push(new k.ObjectIdentifier({value:this.templateID}));"templateMajorVersion"in this&&a.push(new k.Integer({value:this.templateMajorVersion}));"templateMinorVersion"in this&&a.push(new k.Integer({value:this.templateMinorVersion}));return new k.Sequence({value:a})};Pa.prototype.toJSON=function(){var a={extnID:this.templateID};"templateMajorVersion"in this&&(a.templateMajorVersion=
this.templateMajorVersion);"templateMinorVersion"in this&&(a.templateMinorVersion=this.templateMinorVersion);return a};var ab=function(a){a=void 0===a?{}:a;this.certificateIndex=Object(e.e)(a,"certificateIndex",ab.defaultValues("certificateIndex"));this.keyIndex=Object(e.e)(a,"keyIndex",ab.defaultValues("keyIndex"));"schema"in a&&this.fromSchema(a.schema)};ab.defaultValues=function(a){switch(a){case "certificateIndex":case "keyIndex":return 0;default:throw Error("Invalid member name for CAVersion class: "+
a);}};ab.schema=function(a){return new k.Integer};ab.prototype.fromSchema=function(a){if(a.constructor.blockName()!==k.Integer.blockName())throw Error("Object's schema was not verified against input data for CAVersion");a=a.valueBlock.valueHex.slice(0);var D=new Uint8Array(a);switch(!0){case 4>a.byteLength:var M=new ArrayBuffer(4);(new Uint8Array(M)).set(D,4-a.byteLength);a=M.slice(0);break;case 4<a.byteLength:a=new ArrayBuffer(4),(new Uint8Array(a)).set(D.slice(0,4)),a=a.slice(0)}M=a.slice(0,2);
var Y=new Uint8Array(M);D=Y[0];Y[0]=Y[1];Y[1]=D;this.keyIndex=(new Uint16Array(M))[0];a=a.slice(2);M=new Uint8Array(a);D=M[0];M[0]=M[1];M[1]=D;this.certificateIndex=(new Uint16Array(a))[0]};ab.prototype.toSchema=function(){var a=new ArrayBuffer(2);(new Uint16Array(a))[0]=this.certificateIndex;var D=new Uint8Array(a),M=D[0];D[0]=D[1];D[1]=M;D=new ArrayBuffer(2);(new Uint16Array(D))[0]=this.keyIndex;var Y=new Uint8Array(D);M=Y[0];Y[0]=Y[1];Y[1]=M;return new k.Integer({valueHex:Object(e.j)(D,a)})};ab.prototype.toJSON=
function(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}};var Na=function(a){a=void 0===a?{}:a;this.id=Object(e.e)(a,"id",Na.defaultValues("id"));"type"in a&&(this.type=Object(e.e)(a,"type",Na.defaultValues("type")));"schema"in a&&this.fromSchema(a.schema)};Na.defaultValues=function(a){switch(a){case "id":return"";case "type":return new k.Null;default:throw Error("Invalid member name for QCStatement class: "+a);}};Na.compareWithDefault=function(a,D){switch(a){case "id":return""===
D;case "type":return D instanceof k.Null;default:throw Error("Invalid member name for QCStatement class: "+a);}};Na.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.id||""}),new k.Any({name:a.type||"",optional:!0})]})};Na.prototype.fromSchema=function(a){Object(e.c)(a,["id","type"]);a=k.compareSchema(a,a,Na.schema({names:{id:"id",type:"type"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for QCStatement");
this.id=a.result.id.valueBlock.toString();"type"in a.result&&(this.type=a.result.type)};Na.prototype.toSchema=function(){var a=[new k.ObjectIdentifier({value:this.id})];"type"in this&&a.push(this.type);return new k.Sequence({value:a})};Na.prototype.toJSON=function(){var a={id:this.id};"type"in this&&(a.type=this.type.toJSON());return a};var cb=function(a){a=void 0===a?{}:a;this.values=Object(e.e)(a,"values",cb.defaultValues("values"));"schema"in a&&this.fromSchema(a.schema)};cb.defaultValues=function(a){switch(a){case "values":return[];
default:throw Error("Invalid member name for QCStatements class: "+a);}};cb.compareWithDefault=function(a,D){switch(a){case "values":return 0===D.length;default:throw Error("Invalid member name for QCStatements class: "+a);}};cb.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.values||"",value:Na.schema(a.value||{})})]})};cb.prototype.fromSchema=function(a){Object(e.c)(a,["values"]);a=k.compareSchema(a,a,cb.schema({names:{values:"values"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(a.result.values,function(D){return new Na({schema:D})})};cb.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.values,function(a){return a.toSchema()})})};cb.prototype.toJSON=function(){return{extensions:Array.from(this.values,function(a){return a.toJSON()})}};var da=function(a){a=void 0===a?{}:a;this.extnID=Object(e.e)(a,"extnID",da.defaultValues("extnID"));
this.critical=Object(e.e)(a,"critical",da.defaultValues("critical"));this.extnValue="extnValue"in a?new k.OctetString({valueHex:a.extnValue}):da.defaultValues("extnValue");"parsedValue"in a&&(this.parsedValue=Object(e.e)(a,"parsedValue",da.defaultValues("parsedValue")));"schema"in a&&this.fromSchema(a.schema)};da.defaultValues=function(a){switch(a){case "extnID":return"";case "critical":return!1;case "extnValue":return new k.OctetString;case "parsedValue":return{};default:throw Error("Invalid member name for Extension class: "+
a);}};da.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.extnID||""}),new k.Boolean({name:a.critical||"",optional:!0}),new k.OctetString({name:a.extnValue||""})]})};da.prototype.fromSchema=function(a){Object(e.c)(a,["extnID","critical","extnValue"]);a=k.compareSchema(a,a,da.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Extension");
this.extnID=a.result.extnID.valueBlock.toString();"critical"in a.result&&(this.critical=a.result.critical.valueBlock.value);this.extnValue=a.result.extnValue;a=k.fromBER(this.extnValue.valueBlock.valueHex);if(-1!==a.offset)switch(this.extnID){case "2.5.29.9":try{this.parsedValue=new ha({schema:a.result})}catch(D){this.parsedValue=new ha,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case "2.5.29.14":this.parsedValue=a.result;break;case "2.5.29.15":this.parsedValue=
a.result;break;case "2.5.29.16":try{this.parsedValue=new pa({schema:a.result})}catch(D){this.parsedValue=new pa,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case "2.5.29.17":case "2.5.29.18":try{this.parsedValue=new Q({schema:a.result})}catch(D){this.parsedValue=new Q,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case "2.5.29.19":try{this.parsedValue=new x({schema:a.result})}catch(D){this.parsedValue=new x,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;
case "2.5.29.20":case "2.5.29.27":this.parsedValue=a.result;break;case "2.5.29.21":this.parsedValue=a.result;break;case "2.5.29.24":this.parsedValue=a.result;break;case "2.5.29.28":try{this.parsedValue=new n({schema:a.result})}catch(D){this.parsedValue=new n,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case "2.5.29.29":try{this.parsedValue=new w({schema:a.result})}catch(D){this.parsedValue=new w,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;
case "2.5.29.30":try{this.parsedValue=new W({schema:a.result})}catch(D){this.parsedValue=new W,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case "2.5.29.31":case "2.5.29.46":try{this.parsedValue=new O({schema:a.result})}catch(D){this.parsedValue=new O,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case "2.5.29.32":case "1.3.6.1.4.1.311.21.10":try{this.parsedValue=new Aa({schema:a.result})}catch(D){this.parsedValue=new Aa,this.parsedValue.parsingError=
"Incorrectly formated CertificatePolicies"}break;case "2.5.29.33":try{this.parsedValue=new Ea({schema:a.result})}catch(D){this.parsedValue=new Ea,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case "2.5.29.35":try{this.parsedValue=new za({schema:a.result})}catch(D){this.parsedValue=new za,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case "2.5.29.36":try{this.parsedValue=new c({schema:a.result})}catch(D){this.parsedValue=new c,this.parsedValue.parsingError=
"Incorrectly formated PolicyConstraints"}break;case "2.5.29.37":try{this.parsedValue=new X({schema:a.result})}catch(D){this.parsedValue=new X,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case "2.5.29.54":this.parsedValue=a.result;break;case "1.3.6.1.5.5.7.1.1":case "1.3.6.1.5.5.7.1.11":try{this.parsedValue=new ma({schema:a.result})}catch(D){this.parsedValue=new ma,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case "1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=
new La({schema:a.result})}catch(D){this.parsedValue=new La,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case "1.3.6.1.4.1.311.20.2":this.parsedValue=a.result;break;case "1.3.6.1.4.1.311.21.2":this.parsedValue=a.result;break;case "1.3.6.1.4.1.311.21.7":try{this.parsedValue=new Pa({schema:a.result})}catch(D){this.parsedValue=new Pa,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case "1.3.6.1.4.1.311.21.1":try{this.parsedValue=
new ab({schema:a.result})}catch(D){this.parsedValue=new ab,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case "1.3.6.1.5.5.7.1.3":try{this.parsedValue=new cb({schema:a.result})}catch(D){this.parsedValue=new cb,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}};da.prototype.toSchema=function(){var a=[];a.push(new k.ObjectIdentifier({value:this.extnID}));this.critical!==da.defaultValues("critical")&&a.push(new k.Boolean({value:this.critical}));a.push(this.extnValue);
return new k.Sequence({value:a})};da.prototype.toJSON=function(){var a={extnID:this.extnID,extnValue:this.extnValue.toJSON()};this.critical!==da.defaultValues("critical")&&(a.critical=this.critical);"parsedValue"in this&&"toJSON"in this.parsedValue&&(a.parsedValue=this.parsedValue.toJSON());return a};var la=function(a){a=void 0===a?{}:a;this.extensions=Object(e.e)(a,"extensions",la.defaultValues("extensions"));"schema"in a&&this.fromSchema(a.schema)};la.defaultValues=function(a){switch(a){case "extensions":return[];
default:throw Error("Invalid member name for Extensions class: "+a);}};la.schema=function(a,D){a=void 0===a?{}:a;D=void 0===D?!1:D;a=Object(e.e)(a,"names",{});return new k.Sequence({optional:D,name:a.blockName||"",value:[new k.Repeated({name:a.extensions||"",value:da.schema(a.extension||{})})]})};la.prototype.fromSchema=function(a){Object(e.c)(a,["extensions"]);a=k.compareSchema(a,a,la.schema({names:{extensions:"extensions"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Extensions");
this.extensions=Array.from(a.result.extensions,function(D){return new da({schema:D})})};la.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.extensions,function(a){return a.toSchema()})})};la.prototype.toJSON=function(){return{extensions:Array.from(this.extensions,function(a){return a.toJSON()})}};var va=function(a){a=void 0===a?{}:a;this.tbs=Object(e.e)(a,"tbs",va.defaultValues("tbs"));this.version=Object(e.e)(a,"version",va.defaultValues("version"));this.serialNumber=Object(e.e)(a,
"serialNumber",va.defaultValues("serialNumber"));this.signature=Object(e.e)(a,"signature",va.defaultValues("signature"));this.issuer=Object(e.e)(a,"issuer",va.defaultValues("issuer"));this.notBefore=Object(e.e)(a,"notBefore",va.defaultValues("notBefore"));this.notAfter=Object(e.e)(a,"notAfter",va.defaultValues("notAfter"));this.subject=Object(e.e)(a,"subject",va.defaultValues("subject"));this.subjectPublicKeyInfo=Object(e.e)(a,"subjectPublicKeyInfo",va.defaultValues("subjectPublicKeyInfo"));"issuerUniqueID"in
a&&(this.issuerUniqueID=Object(e.e)(a,"issuerUniqueID",va.defaultValues("issuerUniqueID")));"subjectUniqueID"in a&&(this.subjectUniqueID=Object(e.e)(a,"subjectUniqueID",va.defaultValues("subjectUniqueID")));"extensions"in a&&(this.extensions=Object(e.e)(a,"extensions",va.defaultValues("extensions")));this.signatureAlgorithm=Object(e.e)(a,"signatureAlgorithm",va.defaultValues("signatureAlgorithm"));this.signatureValue=Object(e.e)(a,"signatureValue",va.defaultValues("signatureValue"));"schema"in a&&
this.fromSchema(a.schema)};va.defaultValues=function(a){switch(a){case "tbs":return new ArrayBuffer(0);case "version":return 0;case "serialNumber":return new k.Integer;case "signature":return new J.a;case "issuer":return new I;case "notBefore":return new ca;case "notAfter":return new ca;case "subject":return new I;case "subjectPublicKeyInfo":return new fa.a;case "issuerUniqueID":return new ArrayBuffer(0);case "subjectUniqueID":return new ArrayBuffer(0);case "extensions":return[];case "signatureAlgorithm":return new J.a;
case "signatureValue":return new k.BitString;default:throw Error("Invalid member name for Certificate class: "+a);}};va.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});var D=k.Sequence,M=a.blockName||"";var Y=a.tbsCertificate;Y=void 0===Y?{}:Y;Y=Object(e.e)(Y,"names",{});Y=new k.Sequence({name:Y.blockName||"tbsCertificate",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Integer({name:Y.tbsCertificateVersion||"tbsCertificate.version"})]}),new k.Integer({name:Y.tbsCertificateSerialNumber||
"tbsCertificate.serialNumber"}),J.a.schema(Y.signature||{names:{blockName:"tbsCertificate.signature"}}),I.schema(Y.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new k.Sequence({name:Y.tbsCertificateValidity||"tbsCertificate.validity",value:[ca.schema(Y.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),ca.schema(Y.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),I.schema(Y.subject||{names:{blockName:"tbsCertificate.subject"}}),
fa.a.schema(Y.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new k.Primitive({name:Y.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new k.Primitive({name:Y.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[la.schema(Y.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]});
return new D({name:M,value:[Y,J.a.schema(a.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new k.BitString({name:a.signatureValue||"signatureValue"})]})};va.prototype.fromSchema=function(a){Object(e.c)(a,"tbsCertificate tbsCertificate.extensions tbsCertificate.version tbsCertificate.serialNumber tbsCertificate.signature tbsCertificate.issuer tbsCertificate.notBefore tbsCertificate.notAfter tbsCertificate.subject tbsCertificate.subjectPublicKeyInfo tbsCertificate.issuerUniqueID tbsCertificate.subjectUniqueID signatureAlgorithm signatureValue".split(" "));
a=k.compareSchema(a,a,va.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Certificate");this.tbs=a.result.tbsCertificate.valueBeforeDecode;"tbsCertificate.version"in a.result&&(this.version=a.result["tbsCertificate.version"].valueBlock.valueDec);this.serialNumber=a.result["tbsCertificate.serialNumber"];this.signature=new J.a({schema:a.result["tbsCertificate.signature"]});
this.issuer=new I({schema:a.result["tbsCertificate.issuer"]});this.notBefore=new ca({schema:a.result["tbsCertificate.notBefore"]});this.notAfter=new ca({schema:a.result["tbsCertificate.notAfter"]});this.subject=new I({schema:a.result["tbsCertificate.subject"]});this.subjectPublicKeyInfo=new fa.a({schema:a.result["tbsCertificate.subjectPublicKeyInfo"]});"tbsCertificate.issuerUniqueID"in a.result&&(this.issuerUniqueID=a.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex);"tbsCertificate.subjectUniqueID"in
a.result&&(this.subjectUniqueID=a.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex);"tbsCertificate.extensions"in a.result&&(this.extensions=Array.from(a.result["tbsCertificate.extensions"],function(D){return new da({schema:D})}));this.signatureAlgorithm=new J.a({schema:a.result.signatureAlgorithm});this.signatureValue=a.result.signatureValue};va.prototype.encodeTBS=function(){var a=[];"version"in this&&this.version!==va.defaultValues("version")&&a.push(new k.Constructed({optional:!0,
idBlock:{tagClass:3,tagNumber:0},value:[new k.Integer({value:this.version})]}));a.push(this.serialNumber);a.push(this.signature.toSchema());a.push(this.issuer.toSchema());a.push(new k.Sequence({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]}));a.push(this.subject.toSchema());a.push(this.subjectPublicKeyInfo.toSchema());"issuerUniqueID"in this&&a.push(new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID}));"subjectUniqueID"in this&&a.push(new k.Primitive({optional:!0,
idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID}));"extensions"in this&&a.push(new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new k.Sequence({value:Array.from(this.extensions,function(D){return D.toSchema()})})]}));return new k.Sequence({value:a})};va.prototype.toSchema=function(a){if(!1===(void 0===a?!1:a)){if(0===this.tbs.length)return va.schema().value[0];a=k.fromBER(this.tbs).result}else a=this.encodeTBS();return new k.Sequence({value:[a,this.signatureAlgorithm.toSchema(),
this.signatureValue]})};va.prototype.toJSON=function(){var a={tbs:Object(e.b)(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};"version"in this&&this.version!==va.defaultValues("version")&&
(a.version=this.version);"issuerUniqueID"in this&&(a.issuerUniqueID=Object(e.b)(this.issuerUniqueID,0,this.issuerUniqueID.byteLength));"subjectUniqueID"in this&&(a.subjectUniqueID=Object(e.b)(this.subjectUniqueID,0,this.subjectUniqueID.byteLength));"extensions"in this&&(a.extensions=Array.from(this.extensions,function(D){return D.toJSON()}));return a};va.prototype.getPublicKey=function(a){a=void 0===a?null:a;return Object(S.e)().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,
a)};va.prototype.getKeyHash=function(a){a=void 0===a?"SHA-1":a;var D=Object(S.d)();return"undefined"===typeof D?Promise.reject("Unable to create WebCrypto object"):D.digest({name:a},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))};va.prototype.sign=function(a,D){var M=this;D=void 0===D?"SHA-1":D;if("undefined"===typeof a)return Promise.reject("Need to provide a private key for signing");var Y=Promise.resolve(),ja,ta=Object(S.e)();Y=Y.then(function(){return ta.subtle.getSignatureParameters(a,
D)});Y=Y.then(function(Ca){ja=Ca.parameters;M.signature=Ca.signatureAlgorithm;M.signatureAlgorithm=Ca.signatureAlgorithm});Y=Y.then(function(){M.tbs=M.encodeTBS().toBER(!1)});Y=Y.then(function(){return ta.subtle.signWithPrivateKey(M.tbs,a,ja)});return Y=Y.then(function(Ca){M.signatureValue=new k.BitString({valueHex:Ca})})};va.prototype.verify=function(a){a=void 0===a?null:a;var D={};null!==a?D=a.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(D=this.subjectPublicKeyInfo);return!1===D instanceof
fa.a?Promise.reject("Please provide issuer certificate as a parameter"):Object(S.e)().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,D,this.signatureAlgorithm)};E(18);var Da=E(35);E(28);E(13);var Wa=Z.a,ib=function(a){a=void 0===a?{}:a;return Wa.call(this,a)||this};$jscomp.inherits(ib,Wa);E(23);E(30);E(29);E(27);E(24);var fb=null,Qa=function(){};Qa.setEngine=function(a,D){fb={getRandomValues:D.getRandomValues.bind(D),subtle:D.subtle,name:a};Object(S.i)(a,new Da.a({name:a,crypto:D,subtle:D.subtle}),
new Da.a({name:a,crypto:D,subtle:D.subtle}))};Qa.isNodePlugin=function(){return"undefined"===typeof self&&"undefined"===typeof window};$jscomp.global.Object.defineProperties(Qa,{crypto:{configurable:!0,enumerable:!0,get:function(){if(!fb)throw new t.m(t.f.CRYPTOGRAPHIC_NO_MODULE);return fb}}});Qa.isNodePlugin()||Qa.setEngine("W3 WebCrypto module",self.crypto);var Ka=function(){};Ka.prototype.getAlgorithmName=function(){return this.namespaceURI};var db=function(){return Ka.apply(this,arguments)||this};
$jscomp.inherits(db,Ka);db.prototype.Digest=function(a){var D=this,M,Y,ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ta){if(1==ta.nextAddress)return"string"===typeof a?M=t.b.FromString(a,"utf8"):ArrayBuffer.isView(a)?M=new Uint8Array(a.buffer):a instanceof ArrayBuffer?M=new Uint8Array(a):(Y=(new XMLSerializer).serializeToString(a),M=t.b.FromString(Y,"utf8")),ta.yield(Qa.crypto.subtle.digest(D.algorithm,M),2);ja=ta.yieldResult;return ta.return(new Uint8Array(ja))})};var Xa=function(){return Ka.apply(this,
arguments)||this};$jscomp.inherits(Xa,Ka);Xa.prototype.Sign=function(a,D,M){var Y;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ja){Y=t.b.FromString(a,"utf8");return ja.return(Qa.crypto.subtle.sign(M,D,Y))})};Xa.prototype.Verify=function(a,D,M,Y){var ja=this,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){ta=t.b.FromString(a,"utf8");return Ca.return(Qa.crypto.subtle.verify(Y||ja.algorithm,D,M,ta))})};var d=function(){var a=db.apply(this,arguments)||this;a.algorithm=
{name:"SHA-1"};a.namespaceURI="http://www.w3.org/2000/09/xmldsig#sha1";return a};$jscomp.inherits(d,db);var U=function(){var a=db.apply(this,arguments)||this;a.algorithm={name:"SHA-256"};a.namespaceURI="http://www.w3.org/2001/04/xmlenc#sha256";return a};$jscomp.inherits(U,db);var ea=function(){var a=db.apply(this,arguments)||this;a.algorithm={name:"SHA-384"};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#sha384";return a};$jscomp.inherits(ea,db);var ua=function(){var a=db.apply(this,arguments)||
this;a.algorithm={name:"SHA-512"};a.namespaceURI="http://www.w3.org/2001/04/xmlenc#sha512";return a};$jscomp.inherits(ua,db);var qa=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1";return a};$jscomp.inherits(qa,Xa);var m=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-256"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256";return a};
$jscomp.inherits(m,Xa);var T=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-384"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384";return a};$jscomp.inherits(T,Xa);var ba=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-512"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512";return a};$jscomp.inherits(ba,Xa);var ra=function(){var a=Xa.apply(this,arguments)||this;a.algorithm=
{name:"HMAC",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2000/09/xmldsig#hmac-sha1";return a};$jscomp.inherits(ra,Xa);var wa=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"HMAC",hash:{name:"SHA-256"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#hmac-sha256";return a};$jscomp.inherits(wa,Xa);var Fa=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"HMAC",hash:{name:"SHA-384"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#hmac-sha384";
return a};$jscomp.inherits(Fa,Xa);var $a=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"HMAC",hash:{name:"SHA-512"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#hmac-sha512";return a};$jscomp.inherits($a,Xa);var lb=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2000/09/xmldsig#rsa-sha1";return a};$jscomp.inherits(lb,Xa);var Va=function(){var a=Xa.apply(this,arguments)||this;
a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256";return a};$jscomp.inherits(Va,Xa);var A=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#rsa-sha384";return a};$jscomp.inherits(A,Xa);var ia=function(){var a=Xa.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};a.namespaceURI=
"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512";return a};$jscomp.inherits(ia,Xa);var oa=function(a){var D=Xa.call(this)||this;D.algorithm={name:"RSA-PSS",hash:{name:"SHA-1"}};D.namespaceURI="http://www.w3.org/2007/05/xmldsig-more#rsa-pss";a&&(D.algorithm.saltLength=a);return D};$jscomp.inherits(oa,Xa);var Ha=function(a){a=oa.call(this,a)||this;a.algorithm.hash.name="SHA-1";return a};$jscomp.inherits(Ha,oa);var Ga=function(a){a=oa.call(this,a)||this;a.algorithm.hash.name="SHA-256";return a};$jscomp.inherits(Ga,
oa);var Oa=function(a){a=oa.call(this,a)||this;a.algorithm.hash.name="SHA-384";return a};$jscomp.inherits(Oa,oa);var Ma=function(a){a=oa.call(this,a)||this;a.algorithm.hash.name="SHA-512";return a};$jscomp.inherits(Ma,oa);var Ua=function(){var a=Xa.call(this)||this;a.algorithm={name:"RSA-PSS",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2007/05/xmldsig-more#sha1-rsa-MGF1";return a};$jscomp.inherits(Ua,Xa);var hb=function(){var a=Ua.call(this)||this;a.algorithm.hash.name="SHA-1";a.algorithm.saltLength=
20;return a};$jscomp.inherits(hb,Ua);var kb=function(){var a=Ua.call(this)||this;a.algorithm.hash.name="SHA-256";a.algorithm.saltLength=32;return a};$jscomp.inherits(kb,Ua);var pb=function(){var a=Ua.call(this)||this;a.algorithm.hash.name="SHA-384";a.algorithm.saltLength=48;return a};$jscomp.inherits(pb,Ua);var Ia=function(){var a=Ua.call(this)||this;a.algorithm.hash.name="SHA-512";a.algorithm.saltLength=64;return a};$jscomp.inherits(Ia,Ua);var Za;(function(a){a[a.BeforeDocElement=0]="BeforeDocElement";
a[a.InsideDocElement=1]="InsideDocElement";a[a.AfterDocElement=2]="AfterDocElement"})(Za||(Za={}));var gb=function(a,D,M){M=void 0===M?new t.c:M;this.propagatedNamespaces=new t.c;this.result=[];this.visibleNamespaces=new t.c;this.inclusiveNamespacesPrefixList=[];this.state=Za.BeforeDocElement;this.withComments=a;this.exclusive=D;this.propagatedNamespaces=M};gb.prototype.Canonicalize=function(a){if(!a)throw new t.m(t.f.CRYPTOGRAPHIC,"Parameter 1 is not Node");this.WriteNode(a);return this.result.join("")};
gb.prototype.WriteNode=function(a){switch(a.nodeType){case t.n.Document:case t.n.DocumentFragment:this.WriteDocumentNode(a);break;case t.n.Element:this.WriteElementNode(a);break;case t.n.CDATA:case t.n.SignificantWhitespace:case t.n.Text:Object(t.r)(a.parentNode)||this.WriteTextNode(a);break;case t.n.Whitespace:this.state===Za.InsideDocElement&&this.WriteTextNode(a);break;case t.n.Comment:this.WriteCommentNode(a);break;case t.n.ProcessingInstruction:this.WriteProcessingInstructionNode(a);break;case t.n.EntityReference:for(var D=
0;D<a.childNodes.length;D++)this.WriteNode(a.childNodes[D]);break;case t.n.Attribute:throw new t.m(t.f.CRYPTOGRAPHIC,"Attribute node is impossible here");case t.n.EndElement:throw new t.m(t.f.CRYPTOGRAPHIC,"Attribute node is impossible here");case t.n.EndEntity:throw new t.m(t.f.CRYPTOGRAPHIC,"Attribute node is impossible here");}};gb.prototype.WriteDocumentNode=function(a){this.state=Za.BeforeDocElement;for(a=a.firstChild;null!=a;a=a.nextSibling)this.WriteNode(a)};gb.prototype.WriteCommentNode=function(a){this.withComments&&
(this.state===Za.AfterDocElement?this.result.push(String.fromCharCode(10)+"\x3c!--"):this.result.push("\x3c!--"),this.result.push(this.NormalizeString(a.nodeValue,t.n.Comment)),this.state===Za.BeforeDocElement?this.result.push("--\x3e"+String.fromCharCode(10)):this.result.push("--\x3e"))};gb.prototype.WriteTextNode=function(a){this.result.push(this.NormalizeString(a.nodeValue,a.nodeType))};gb.prototype.WriteProcessingInstructionNode=function(a){var D=a.nodeName||a.tagName;"xml"!==D&&(this.state===
Za.AfterDocElement?this.result.push("\n<?"):this.result.push("<?"),this.result.push(D),a.nodeValue&&(this.result.push(" "),this.result.push(this.NormalizeString(a.nodeValue,t.n.ProcessingInstruction))),this.state===Za.BeforeDocElement?this.result.push("?>\n"):this.result.push("?>"))};gb.prototype.WriteElementNode=function(a){var D=this.state;this.state===Za.BeforeDocElement&&(this.state=Za.InsideDocElement);this.result.push("<");this.result.push(a.nodeName);var M=this.WriteNamespacesAxis(a);this.WriteAttributesAxis(a);
this.result.push(">");for(var Y=a.firstChild;null!=Y;Y=Y.nextSibling)this.WriteNode(Y);this.result.push("</");this.result.push(a.nodeName);this.result.push(">");D===Za.BeforeDocElement&&(this.state=Za.AfterDocElement);for(;M--;)this.visibleNamespaces.Pop()};gb.prototype.WriteNamespacesAxis=function(a){for(var D=this,M=[],Y=0,ja=0;ja<a.attributes.length;ja++){var ta=a.attributes[ja];if(h(ta)){if("xmlns"===ta.localName&&!ta.prefix&&!ta.nodeValue){var Ca={prefix:ta.prefix,namespace:ta.nodeValue};M.push(Ca);
this.visibleNamespaces.Add(Ca);Y++}Ca=null;var Ja=void 0;if(Ja=/xmlns:([\w\.-]+)/.exec(ta.nodeName))Ca=Ja[1];Ja=!0;if(this.exclusive&&!this.IsNamespaceInclusive(a,Ca)){var Ra=l(a,Ca);if(1<Ra)Ja=!1;else if(0===Ra)continue}!this.IsNamespaceRendered(Ca,ta.nodeValue)&&Ja&&(ta={prefix:Ca,namespace:ta.nodeValue},M.push(ta),this.visibleNamespaces.Add(ta),Y++)}else ta.prefix&&!this.IsNamespaceRendered(ta.prefix,ta.namespaceURI)&&(ta={prefix:ta.prefix,namespace:ta.namespaceURI},M.push(ta),this.visibleNamespaces.Add(ta),
Y++)}this.IsNamespaceRendered(a.prefix,a.namespaceURI)||"http://www.w3.org/2000/xmlns/"===a.namespaceURI||(a={prefix:a.prefix,namespace:a.namespaceURI},M.push(a),this.visibleNamespaces.Add(a),Y++);M.sort(K);var Sa=null;M.forEach(function(Ya){Ya.prefix!==Sa&&(Sa=Ya.prefix,D.result.push(" xmlns"),Ya.prefix&&D.result.push(":"+Ya.prefix),D.result.push('="'),D.result.push(Ya.namespace),D.result.push('"'))});return Y};gb.prototype.WriteAttributesAxis=function(a){for(var D=this,M=[],Y=0;Y<a.attributes.length;Y++){var ja=
a.attributes[Y];h(ja)||M.push(ja)}M.sort(V);M.forEach(function(ta){null!=ta&&(D.result.push(" "),D.result.push(ta.nodeName),D.result.push('="'),D.result.push(D.NormalizeString(ta.nodeValue,t.n.Attribute)),D.result.push('"'))})};gb.prototype.NormalizeString=function(a,D){var M=[];if(a)for(var Y=0;Y<a.length;Y++){var ja=a[Y];"<"!==ja||D!==t.n.Attribute&&!this.IsTextNode(D)?">"===ja&&this.IsTextNode(D)?M.push("&gt;"):"&"!==ja||D!==t.n.Attribute&&!this.IsTextNode(D)?'"'===ja&&D===t.n.Attribute?M.push("&quot;"):
"\t"===ja&&D===t.n.Attribute?M.push("&#x9;"):"\n"===ja&&D===t.n.Attribute?M.push("&#xA;"):"\r"===ja?M.push("&#xD;"):M.push(ja):M.push("&amp;"):M.push("&lt;")}return M.join("")};gb.prototype.IsTextNode=function(a){switch(a){case t.n.Text:case t.n.CDATA:case t.n.SignificantWhitespace:case t.n.Whitespace:return!0}return!1};gb.prototype.IsNamespaceInclusive=function(a,D){D=D||null;return a.prefix===D?!1:-1!==this.inclusiveNamespacesPrefixList.indexOf(D||"")};gb.prototype.IsNamespaceRendered=function(a,
D){a=a||"";D=D||"";return!a&&!D||"xml"===a&&"http://www.w3.org/XML/1998/namespace"===D?!0:(a=this.visibleNamespaces.GetPrefix(a))?a.namespace===D:!1};$jscomp.global.Object.defineProperties(gb.prototype,{InclusiveNamespacesPrefixList:{configurable:!0,enumerable:!0,get:function(){return this.inclusiveNamespacesPrefixList.join(" ")},set:function(a){this.inclusiveNamespacesPrefixList=a.split(" ")}}});var mb=t.p,nb=function(){return mb.apply(this,arguments)||this};$jscomp.inherits(nb,mb);var jb=nb;jb=
u([Object(t.l)({localName:"xmldsig",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds"})],jb);var Fb=t.j,yb=function(){return Fb.apply(this,arguments)||this};$jscomp.inherits(yb,Fb);var rb=yb;rb=u([Object(t.l)({localName:"xmldsig_collection",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds"})],rb);var ub=function(){return jb.apply(this,arguments)||this};$jscomp.inherits(ub,jb);var Sb=function(){return jb.apply(this,arguments)||this};$jscomp.inherits(Sb,jb);var Ib=Sb;u([Object(t.g)({localName:"Algorithm",
required:!0,defaultValue:"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"})],Ib.prototype,"Algorithm",void 0);Ib=u([Object(t.l)({localName:"CanonicalizationMethod"})],Ib);var gc=function(){return jb.apply(this,arguments)||this};$jscomp.inherits(gc,jb);var Gb=gc;u([Object(t.g)({localName:"Id",defaultValue:""})],Gb.prototype,"Id",void 0);u([Object(t.g)({localName:"MimeType",defaultValue:""})],Gb.prototype,"MimeType",void 0);u([Object(t.g)({localName:"Encoding",defaultValue:""})],Gb.prototype,"Encoding",
void 0);Gb=u([Object(t.l)({localName:"Object"})],Gb);var Yb=function(){return rb.apply(this,arguments)||this};$jscomp.inherits(Yb,rb);var Nb=Yb;Nb=u([Object(t.l)({localName:"xmldsig_objects",parser:Gb})],Nb);var rc=function(a){var D=jb.call(this)||this;a&&(D.Algorithm=a);return D};$jscomp.inherits(rc,jb);var Bb=rc;u([Object(t.g)({localName:"Algorithm",required:!0,defaultValue:"http://www.w3.org/2001/04/xmlenc#sha256"})],Bb.prototype,"Algorithm",void 0);Bb=u([Object(t.l)({localName:"DigestMethod"})],
Bb);var Tb=function(){return rb.apply(this,arguments)||this};$jscomp.inherits(Tb,rb);Tb.prototype.OnLoadXml=function(a){for(var D=0;D<a.childNodes.length;D++){var M=a.childNodes.item(D);if(M.nodeType===t.n.Element){var Y=null;switch(M.localName){case "KeyValue":Y=wd;break;case "X509Data":Y=Dc;break;case "SPKIData":Y=xd}Y&&(Y=new Y,Y.LoadXml(M),this.Add(Y))}}};var vb=Tb;u([Object(t.g)({localName:"Id",defaultValue:""})],vb.prototype,"Id",void 0);vb=u([Object(t.l)({localName:"KeyInfo"})],vb);var hc=
function(){var a=jb.apply(this,arguments)||this;a.innerXml=null;return a};$jscomp.inherits(hc,jb);hc.prototype.GetOutput=function(){throw new t.m(t.f.METHOD_NOT_IMPLEMENTED);};hc.prototype.LoadInnerXml=function(a){if(!a)throw new t.m(t.f.PARAM_REQUIRED,"node");this.innerXml=a};hc.prototype.GetInnerXml=function(){return this.innerXml};var sb=hc;u([Object(t.g)({localName:"Algorithm",defaultValue:""})],sb.prototype,"Algorithm",void 0);u([Object(t.i)({localName:"XPath",defaultValue:""})],sb.prototype,
"XPath",void 0);sb=u([Object(t.l)({localName:"Transform"})],sb);var Tc=function(){var a=sb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/2000/09/xmldsig#base64";return a};$jscomp.inherits(Tc,sb);Tc.prototype.GetOutput=function(){if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,"innerXml");return t.b.FromString(this.innerXml.textContent||"","base64")};var Ob=function(){var a=sb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315";a.xmlCanonicalizer=
new gb(!1,!1);return a};$jscomp.inherits(Ob,sb);Ob.prototype.GetOutput=function(){if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,"innerXml");return this.xmlCanonicalizer.Canonicalize(this.innerXml)};var Uc=function(){var a=Ob.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments";a.xmlCanonicalizer=new gb(!0,!1);return a};$jscomp.inherits(Uc,Ob);var sc=function(){var a=sb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature";
return a};$jscomp.inherits(sc,sb);sc.prototype.GetOutput=function(){var a;if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,"innerXml");for(var D=this.innerXml.firstChild,M=[];D;)Object(t.s)(D)&&"Signature"===D.localName&&"http://www.w3.org/2000/09/xmldsig#"===D.namespaceURI&&M.push(D),D=D.nextSibling;D=$jscomp.makeIterator(M);for(M=D.next();!M.done;M=D.next())M=M.value,null===(a=M.parentNode)||void 0===a?void 0:a.removeChild(M);return this.innerXml};var Pb=function(){var a=sb.apply(this,arguments)||
this;a.Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#";a.xmlCanonicalizer=new gb(!1,!0);return a};$jscomp.inherits(Pb,sb);Pb.prototype.LoadXml=function(a){sb.prototype.LoadXml.call(this,a);if(this.Element&&this.Element.childNodes)for(a=0;a<this.Element.childNodes.length;a++){var D=this.Element.childNodes[a];if(D&&1===D.nodeType)switch(D.localName){case "InclusiveNamespaces":this.setInclusiveNamespacesElement(D)}}};Pb.prototype.GetOutput=function(){if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,
"innerXml");return this.xmlCanonicalizer.Canonicalize(this.innerXml)};Pb.prototype.setInclusiveNamespacesElement=function(a){(a=a.getAttribute("PrefixList"))&&0<a.length&&(this.xmlCanonicalizer.InclusiveNamespacesPrefixList=a)};$jscomp.global.Object.defineProperties(Pb.prototype,{InclusiveNamespacesPrefixList:{configurable:!0,enumerable:!0,get:function(){return this.xmlCanonicalizer.InclusiveNamespacesPrefixList},set:function(a){this.xmlCanonicalizer.InclusiveNamespacesPrefixList=a}}});var Vc=function(){var a=
Pb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#WithComments";a.xmlCanonicalizer=new gb(!0,!0);return a};$jscomp.inherits(Vc,Pb);var Zb=function(){var a=sb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/TR/1999/REC-xpath-19991116";return a};$jscomp.inherits(Zb,sb);Zb.prototype.GetOutput=function(){if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,"innerXml");this.Filter(this.innerXml.ownerDocument||this.innerXml,this.XPath)};Zb.prototype.Filter=function(a,
D){var M=this;a=a.childNodes;for(var Y=[],ja=0;a&&ja<a.length;ja++){var ta=a.item(ja);Y.push(ta)}Y.forEach(function(Ca){M.Evaluate(Ca,D)?Ca.parentNode&&Ca.parentNode.removeChild(Ca):M.Filter(Ca,D)})};Zb.prototype.GetEvaluator=function(a){return"undefined"!==typeof self?null==a.ownerDocument?a:a.ownerDocument:E(47)};Zb.prototype.Evaluate=function(a,D){try{var M=this.GetEvaluator(a),Y=M.createNSResolver(this.GetXml().firstChild);return!M.evaluate("boolean("+D+")",a,Y,("undefined"===typeof self?E(47):
self).XPathResult.ANY_TYPE,null).booleanValue}catch(ja){return!1}};u([Object(t.i)({localName:"XPath",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],Zb.prototype,"XPath",void 0);var le=function(){return rb.apply(this,arguments)||this};$jscomp.inherits(le,rb);le.prototype.OnLoadXml=function(a){rb.prototype.OnLoadXml.call(this,a);this.items=this.GetIterator().map(function(D){switch(D.Algorithm){case "http://www.w3.org/2000/09/xmldsig#enveloped-signature":return r(D,sc);
case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315":return r(D,Ob);case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments":return r(D,Uc);case "http://www.w3.org/2001/10/xml-exc-c14n#":return r(D,Pb);case "http://www.w3.org/2001/10/xml-exc-c14n#WithComments":return r(D,Vc);case "http://www.w3.org/2000/09/xmldsig#base64":return r(D,Tc);case "http://www.w3.org/TR/1999/REC-xpath-19991116":return r(D,Zb);default:throw new t.m(t.f.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM,D.Algorithm);}})};var Ec=
le;Ec=u([Object(t.l)({localName:"Transforms",parser:sb})],Ec);var ve=function(a){var D=jb.call(this)||this;D.DigestMethod=new Bb;a&&(D.Uri=a);return D};$jscomp.inherits(ve,jb);var Kb=ve;u([Object(t.g)({defaultValue:""})],Kb.prototype,"Id",void 0);u([Object(t.g)({localName:"URI"})],Kb.prototype,"Uri",void 0);u([Object(t.g)({localName:"Type",defaultValue:""})],Kb.prototype,"Type",void 0);u([Object(t.i)({parser:Ec})],Kb.prototype,"Transforms",void 0);u([Object(t.i)({required:!0,parser:Bb})],Kb.prototype,
"DigestMethod",void 0);u([Object(t.i)({required:!0,localName:"DigestValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:t.h})],Kb.prototype,"DigestValue",void 0);Kb=u([Object(t.l)({localName:"Reference"})],Kb);var we=function(){return rb.apply(this,arguments)||this};$jscomp.inherits(we,rb);var yd=we;yd=u([Object(t.l)({localName:"References",parser:Kb})],yd);var me=function(){return rb.apply(this,arguments)||this};$jscomp.inherits(me,rb);me.prototype.OnLoadXml=function(a){for(var D=
0;D<a.childNodes.length;D++){var M=a.childNodes.item(D);if(M.nodeType===t.n.Element&&"HMACOutputLength"!==M.nodeName){var Y=void 0;switch(M.localName){case "RSAPSSParams":Y=$b}Y&&(Y=new Y,Y.LoadXml(M),this.Add(Y))}}};var ne=me;ne=u([Object(t.l)({localName:"Other"})],ne);var xe=function(){return jb.apply(this,arguments)||this};$jscomp.inherits(xe,jb);var Fc=xe;u([Object(t.g)({localName:"Algorithm",required:!0,defaultValue:""})],Fc.prototype,"Algorithm",void 0);u([Object(t.i)({localName:"HMACOutputLength",
namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:t.o})],Fc.prototype,"HMACOutputLength",void 0);u([Object(t.i)({parser:ne,noRoot:!0,minOccurs:0})],Fc.prototype,"Any",void 0);Fc=u([Object(t.l)({localName:"SignatureMethod"})],Fc);var ye=function(){return jb.apply(this,arguments)||this};$jscomp.inherits(ye,jb);var tc=ye;u([Object(t.g)({localName:"Id",defaultValue:""})],tc.prototype,"Id",void 0);u([Object(t.i)({parser:Ib,required:!0})],tc.prototype,"CanonicalizationMethod",void 0);
u([Object(t.i)({parser:Fc,required:!0})],tc.prototype,"SignatureMethod",void 0);u([Object(t.i)({parser:yd,minOccurs:1,noRoot:!0})],tc.prototype,"References",void 0);tc=u([Object(t.l)({localName:"SignedInfo"})],tc);var ze=function(){return jb.apply(this,arguments)||this};$jscomp.inherits(ze,jb);var Ub=ze;u([Object(t.g)({localName:"Id",defaultValue:""})],Ub.prototype,"Id",void 0);u([Object(t.i)({parser:tc,required:!0})],Ub.prototype,"SignedInfo",void 0);u([Object(t.i)({localName:"SignatureValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",
prefix:"ds",required:!0,converter:t.h,defaultValue:null})],Ub.prototype,"SignatureValue",void 0);u([Object(t.i)({parser:vb})],Ub.prototype,"KeyInfo",void 0);u([Object(t.i)({parser:Nb,noRoot:!0})],Ub.prototype,"ObjectList",void 0);Ub=u([Object(t.l)({localName:"Signature"})],Ub);var Ae=t.p,Be=function(){return Ae.apply(this,arguments)||this};$jscomp.inherits(Be,Ae);var Gc=Be;u([Object(t.i)({localName:"X",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa",required:!0,converter:t.h})],
Gc.prototype,"X",void 0);u([Object(t.i)({localName:"Y",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa",required:!0,converter:t.h})],Gc.prototype,"Y",void 0);Gc=u([Object(t.l)({localName:"PublicKey",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Gc);var Ce=t.p,De=function(){return Ce.apply(this,arguments)||this};$jscomp.inherits(De,Ce);var Wc=De;u([Object(t.g)({localName:"URI",required:!0})],Wc.prototype,"Uri",void 0);Wc=u([Object(t.l)({localName:"NamedCurve",
namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Wc);var Ee=t.p,Fe=function(){return Ee.apply(this,arguments)||this};$jscomp.inherits(Fe,Ee);var Xc=Fe;u([Object(t.i)({parser:Wc})],Xc.prototype,"NamedCurve",void 0);Xc=u([Object(t.l)({localName:"DomainParameters",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Xc);var Yc=function(){var a=ub.apply(this,arguments)||this;a.name="ECDSAKeyValue";a.key=null;a.jwk=null;a.keyUsage=null;return a};$jscomp.inherits(Yc,
ub);Yc.prototype.importKey=function(a){var D=this,M;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==Y.nextAddress){if("ECDSA"!==a.algorithm.name.toUpperCase())throw new t.m(t.f.ALGORITHM_WRONG_NAME,a.algorithm.name);return Y.yield(Qa.crypto.subtle.exportKey("jwk",a),2)}M=Y.yieldResult;D.key=a;D.jwk=M;D.PublicKey=new Gc;D.PublicKey.X=t.b.FromString(M.x,"base64url");D.PublicKey.Y=t.b.FromString(M.y,"base64url");D.DomainParameters||(D.DomainParameters=new Xc);D.DomainParameters.NamedCurve||
(D.DomainParameters.NamedCurve=new Wc);D.DomainParameters.NamedCurve.Uri=b(M.crv);D.keyUsage=a.usages;return Y.return(D)})};Yc.prototype.exportKey=function(a){var D=this,M,Y,ja,ta,Ca;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){if(1==Ja.nextAddress){if(D.key)return Ja.return(D.key);M=t.b.ToBase64Url(D.PublicKey.X);Y=t.b.ToBase64Url(D.PublicKey.Y);a:{switch(D.DomainParameters.NamedCurve.Uri){case "urn:oid:1.2.840.10045.3.1.7":var Ra="P-256";break a;case "urn:oid:1.3.132.0.34":Ra=
"P-384";break a;case "urn:oid:1.3.132.0.35":Ra="P-521";break a}throw new t.m(t.f.CRYPTOGRAPHIC,"Unknown NamedCurve OID");}ja=Ra;ta={kty:"EC",crv:ja,x:M,y:Y,ext:!0};D.keyUsage=["verify"];return Ja.yield(Qa.crypto.subtle.importKey("jwk",ta,{name:"ECDSA",namedCurve:ja},!0,D.keyUsage),2)}Ca=Ja.yieldResult;D.key=Ca;return Ja.return(D.key)})};$jscomp.global.Object.defineProperties(Yc.prototype,{NamedCurve:{configurable:!0,enumerable:!0,get:function(){return b(this.DomainParameters.NamedCurve.Uri)}}});var Hc=
Yc;u([Object(t.i)({parser:Xc})],Hc.prototype,"DomainParameters",void 0);u([Object(t.i)({parser:Gc,required:!0})],Hc.prototype,"PublicKey",void 0);Hc=u([Object(t.l)({localName:"ECDSAKeyValue",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Hc);var oe,Zc=function(){var a=ub.apply(this,arguments)||this;a.key=null;a.jwk=null;a.keyUsage=[];return a};$jscomp.inherits(Zc,ub);Zc.prototype.importKey=function(a){var D=this,M,Y;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ja){if(1==
ja.nextAddress){M=a.algorithm.name.toUpperCase();if("RSASSA-PKCS1-V1_5"!==M&&"RSA-PSS"!==M)throw new t.m(t.f.ALGORITHM_WRONG_NAME,a.algorithm.name);D.key=a;return ja.yield(Qa.crypto.subtle.exportKey("jwk",a),2)}Y=ja.yieldResult;D.jwk=Y;D.Modulus=t.b.FromBase64Url(Y.n);D.Exponent=t.b.FromBase64Url(Y.e);D.keyUsage=a.usages;return ja.return(D)})};Zc.prototype.exportKey=function(a){var D=this,M,Y,ja,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){if(D.key)return Ca.return(D.key);if(!D.Modulus)throw new t.m(t.f.CRYPTOGRAPHIC,
"RsaKeyValue has no Modulus");M=t.b.ToBase64Url(D.Modulus);if(!D.Exponent)throw new t.m(t.f.CRYPTOGRAPHIC,"RsaKeyValue has no Exponent");Y=t.b.ToBase64Url(D.Exponent);switch(a.name.toUpperCase()){case "RSASSA-PKCS1-V1_5":ja="R";break;case "RSA-PSS":ja="P";break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name);}switch(a.hash.name.toUpperCase()){case "SHA-1":ja+="S1";break;case "SHA-256":ja+="S256";break;case "SHA-384":ja+="S384";break;case "SHA-512":ja+="S512"}ta={kty:"RSA",alg:ja,n:M,e:Y,
ext:!0};return Ca.return(Qa.crypto.subtle.importKey("jwk",ta,a,!0,D.keyUsage))})};Zc.prototype.LoadXml=function(a){ub.prototype.LoadXml.call(this,a);this.keyUsage=["verify"]};var Ic=Zc;u([Object(t.i)({localName:"Modulus",prefix:"ds",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",required:!0,converter:t.h})],Ic.prototype,"Modulus",void 0);u([Object(t.i)({localName:"Exponent",prefix:"ds",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",required:!0,converter:t.h})],Ic.prototype,"Exponent",void 0);
Ic=u([Object(t.l)({localName:"RSAKeyValue"})],Ic);var Ge=t.p,He=function(){return Ge.apply(this,arguments)||this};$jscomp.inherits(He,Ge);var $c=He;u([Object(t.i)({parser:Bb})],$c.prototype,"DigestMethod",void 0);u([Object(t.g)({localName:"Algorithm",defaultValue:"http://www.w3.org/2007/05/xmldsig-more#MGF1"})],$c.prototype,"Algorithm",void 0);$c=u([Object(t.l)({localName:"MaskGenerationFunction",prefix:"pss",namespaceURI:"http://www.w3.org/2007/05/xmldsig-more#"})],$c);var $b=oe=function(){var a=
t.p,D=function(M){var Y=a.call(this)||this;M&&Y.FromAlgorithm(M);return Y};$jscomp.inherits(D,a);D.FromAlgorithm=function(M){return new oe(M)};D.prototype.FromAlgorithm=function(M){this.DigestMethod=new Bb;var Y=Cb.GetHashAlgorithm(M.hash);this.DigestMethod.Algorithm=Y.namespaceURI;M.saltLength&&(this.SaltLength=M.saltLength)};return D}();u([Object(t.i)({parser:Bb})],$b.prototype,"DigestMethod",void 0);u([Object(t.i)({parser:$c})],$b.prototype,"MGF",void 0);u([Object(t.i)({converter:t.o,prefix:"pss",
namespaceURI:"http://www.w3.org/2007/05/xmldsig-more#"})],$b.prototype,"SaltLength",void 0);u([Object(t.i)({converter:t.o})],$b.prototype,"TrailerField",void 0);$b=oe=u([Object(t.l)({localName:"RSAPSSParams",prefix:"pss",namespaceURI:"http://www.w3.org/2007/05/xmldsig-more#"})],$b);var uc=function(a){var D=ub.call(this)||this;a&&(D.Value=a);return D};$jscomp.inherits(uc,ub);uc.prototype.importKey=function(a){var D=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(M){switch(M.nextAddress){case 1:switch(a.algorithm.name.toUpperCase()){case "RSA-PSS":case "RSASSA-PKCS1-V1_5":return M.jumpTo(2);
case "ECDSA":return M.jumpTo(3);default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.algorithm.name);}case 2:return D.Value=new Ic,M.yield(D.Value.importKey(a),5);case 5:M.jumpTo(4);break;case 3:return D.Value=new Hc,M.yield(D.Value.importKey(a),6);case 6:M.jumpTo(4);break;case 4:return M.return(D)}})};uc.prototype.exportKey=function(a){var D=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(M){if(!D.Value)throw new t.m(t.f.NULL_REFERENCE);return M.return(D.Value.exportKey(a))})};uc.prototype.OnGetXml=
function(a){if(!this.Value)throw new t.m(t.f.CRYPTOGRAPHIC,"KeyValue has empty value");var D=this.Value.GetXml();D&&a.appendChild(D)};uc.prototype.OnLoadXml=function(a){for(var D=$jscomp.makeIterator([Ic,Hc]),M=D.next();!M.done;M=D.next()){M=M.value;try{var Y=new M;for(M=0;M<a.childNodes.length;M++){var ja=a.childNodes.item(M);if(Object(t.s)(ja)){Y.LoadXml(ja);this.value=Y;return}}}catch(ta){}}throw new t.m(t.f.CRYPTOGRAPHIC,"Unsupported KeyValue in use");};$jscomp.global.Object.defineProperties(uc.prototype,
{Value:{configurable:!0,enumerable:!0,set:function(a){this.element=null;this.value=a},get:function(){return this.value}}});var wd=uc;wd=u([Object(t.l)({localName:"KeyValue"})],wd);var Gg={"2.5.4.3":{short:"CN",long:"CommonName"},"2.5.4.6":{short:"C",long:"Country"},"2.5.4.5":{long:"DeviceSerialNumber"},"0.9.2342.19200300.100.1.25":{short:"DC",long:"DomainComponent"},"1.2.840.113549.1.9.1":{short:"E",long:"EMail"},"2.5.4.42":{short:"G",long:"GivenName"},"2.5.4.43":{short:"I",long:"Initials"},"2.5.4.7":{short:"L",
long:"Locality"},"2.5.4.10":{short:"O",long:"Organization"},"2.5.4.11":{short:"OU",long:"OrganizationUnit"},"2.5.4.8":{short:"ST",long:"State"},"2.5.4.9":{short:"Street",long:"StreetAddress"},"2.5.4.4":{short:"SN",long:"SurName"},"2.5.4.12":{short:"T",long:"Title"},"1.2.840.113549.1.9.8":{long:"UnstructuredAddress"},"1.2.840.113549.1.9.2":{long:"UnstructuredName"}},Lb=function(a){this.publicKey=null;a&&(a=new Uint8Array(a),this.LoadRaw(a),this.raw=a)};Lb.prototype.Thumbprint=function(a){a=void 0===
a?"SHA-1":a;var D=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(M){return M.return(Qa.crypto.subtle.digest(a,D.raw))})};Lb.prototype.GetRaw=function(){return this.raw};Lb.prototype.exportKey=function(a){var D=this,M,Y;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ja){if(1==ja.nextAddress)return M={algorithm:a,usages:["verify"]},"ECDSA"===M.algorithm.name.toUpperCase()&&(M.algorithm.namedCurve=D.simpl.subjectPublicKeyInfo.toJSON().crv),D.isHashedAlgorithm(M.algorithm)&&
"string"===typeof M.algorithm.hash&&(M.algorithm.hash={name:M.algorithm.hash}),ja.yield(D.simpl.getPublicKey({algorithm:M}),2);Y=ja.yieldResult;D.publicKey=Y;return ja.return(Y)})};Lb.prototype.NameToString=function(a,D){D=void 0===D?",":D;var M=[];a.typesAndValues.forEach(function(Y){var ja=Y.type,ta=Gg[ja.toString()];ta=ta?ta.short:null;M.push((ta?ta:ja)+"="+Y.value.valueBlock.value)});return M.join(D+" ")};Lb.prototype.LoadRaw=function(a){this.raw=new Uint8Array(a);a=Object(k.fromBER)(this.raw.buffer);
this.simpl=new va({schema:a.result})};Lb.prototype.isHashedAlgorithm=function(a){return!!a.hash};$jscomp.global.Object.defineProperties(Lb.prototype,{SerialNumber:{configurable:!0,enumerable:!0,get:function(){return this.simpl.serialNumber.valueBlock.toString()}},Issuer:{configurable:!0,enumerable:!0,get:function(){return this.NameToString(this.simpl.issuer)}},Subject:{configurable:!0,enumerable:!0,get:function(){return this.NameToString(this.simpl.subject)}},PublicKey:{configurable:!0,enumerable:!0,
get:function(){return this.publicKey}}});var Ie=function(){return jb.apply(this,arguments)||this};$jscomp.inherits(Ie,jb);var Jc=Ie;u([Object(t.i)({localName:"X509IssuerName",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],Jc.prototype,"X509IssuerName",void 0);u([Object(t.i)({localName:"X509SerialNumber",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],Jc.prototype,"X509SerialNumber",void 0);Jc=u([Object(t.l)({localName:"X509IssuerSerial"})],
Jc);var vc;(function(a){a[a.None=0]="None";a[a.EndCertOnly=1]="EndCertOnly";a[a.ExcludeRoot=2]="ExcludeRoot";a[a.WholeChain=3]="WholeChain"})(vc||(vc={}));var Mb=function(a,D){D=void 0===D?vc.None:D;var M=ub.call(this)||this;M.x509crl=null;M.SubjectKeyIdList=[];M.key=null;if(a)if(a instanceof Uint8Array)M.AddCertificate(new Lb(a));else if(a instanceof Lb)switch(D){case vc.None:case vc.EndCertOnly:M.AddCertificate(a);break;case vc.ExcludeRoot:M.AddCertificatesChainFrom(a,!1);break;case vc.WholeChain:M.AddCertificatesChainFrom(a,
!0)}return M};$jscomp.inherits(Mb,ub);Mb.prototype.importKey=function(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(D){throw new t.m(t.f.METHOD_NOT_SUPPORTED);})};Mb.prototype.exportKey=function(a){var D=this,M;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==Y.nextAddress){if(!D.Certificates.length)throw new t.m(t.f.NULL_REFERENCE);return Y.yield(D.Certificates[0].exportKey(a),2)}M=Y.yieldResult;D.key=M;return Y.return(M)})};Mb.prototype.AddCertificate=function(a){if(!a)throw new t.m(t.f.PARAM_REQUIRED,
"certificate");this.X509CertificateList||(this.X509CertificateList=[]);this.X509CertificateList.push(a)};Mb.prototype.AddIssuerSerial=function(a,D){if(null==a)throw new t.m(t.f.PARAM_REQUIRED,"issuerName");null==this.IssuerSerialList&&(this.IssuerSerialList=[]);this.IssuerSerialList.push({issuerName:a,serialNumber:D})};Mb.prototype.AddSubjectKeyId=function(a){this.SubjectKeyIdList&&(this.SubjectKeyIdList=[]);"string"===typeof a?null!=a&&(a=t.b.FromBase64(a),this.SubjectKeyIdList.push(a)):this.SubjectKeyIdList.push(a)};
Mb.prototype.AddSubjectName=function(a){null==this.SubjectNameList&&(this.SubjectNameList=[]);this.SubjectNameList.push(a)};Mb.prototype.GetXml=function(){var a=this.CreateDocument(),D=this.CreateElement(a),M=this.GetPrefix();null!=this.IssuerSerialList&&0<this.IssuerSerialList.length&&this.IssuerSerialList.forEach(function(ja){var ta=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",M+"X509IssuerSerial"),Ca=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",M+"X509IssuerName");Ca.textContent=
ja.issuerName;ta.appendChild(Ca);Ca=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",M+"X509SerialNumber");Ca.textContent=ja.serialNumber;ta.appendChild(Ca);D.appendChild(ta)});null!=this.SubjectKeyIdList&&0<this.SubjectKeyIdList.length&&this.SubjectKeyIdList.forEach(function(ja){var ta=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",M+"X509SKI");ta.textContent=t.b.ToBase64(ja);D.appendChild(ta)});null!=this.SubjectNameList&&0<this.SubjectNameList.length&&this.SubjectNameList.forEach(function(ja){var ta=
a.createElementNS("http://www.w3.org/2000/09/xmldsig#",M+"X509SubjectName");ta.textContent=ja;D.appendChild(ta)});null!=this.X509CertificateList&&0<this.X509CertificateList.length&&this.X509CertificateList.forEach(function(ja){var ta=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",M+"X509Certificate");ta.textContent=t.b.ToBase64(ja.GetRaw());D.appendChild(ta)});if(null!=this.x509crl){var Y=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",M+"X509CRL");Y.textContent=t.b.ToBase64(this.x509crl);
D.appendChild(Y)}return D};Mb.prototype.LoadXml=function(a){var D=this;ub.prototype.LoadXml.call(this,a);this.IssuerSerialList&&(this.IssuerSerialList=[]);this.SubjectKeyIdList&&(this.SubjectKeyIdList=[]);this.SubjectNameList&&(this.SubjectNameList=[]);this.X509CertificateList&&(this.X509CertificateList=[]);this.x509crl=null;(a=this.GetChildren("X509IssuerSerial"))&&a.forEach(function(M){var Y=jb.GetChild(M,"X509IssuerName","http://www.w3.org/2000/09/xmldsig#",!0);M=jb.GetChild(M,"X509SerialNumber",
"http://www.w3.org/2000/09/xmldsig#",!0);Y&&Y.textContent&&M&&M.textContent&&D.AddIssuerSerial(Y.textContent,M.textContent)});(a=this.GetChildren("X509SKI"))&&a.forEach(function(M){M.textContent&&(M=t.b.FromBase64(M.textContent),D.AddSubjectKeyId(M))});a=this.GetChildren("X509SubjectName");null!=a&&a.forEach(function(M){M.textContent&&D.AddSubjectName(M.textContent)});(a=this.GetChildren("X509Certificate"))&&a.forEach(function(M){M.textContent&&(M=t.b.FromBase64(M.textContent),D.AddCertificate(new Lb(M)))});
(a=this.GetChild("X509CRL",!1))&&a.textContent&&(this.x509crl=t.b.FromBase64(a.textContent))};Mb.prototype.AddCertificatesChainFrom=function(a,D){throw new t.m(t.f.METHOD_NOT_IMPLEMENTED);};$jscomp.global.Object.defineProperties(Mb.prototype,{Key:{configurable:!0,enumerable:!0,get:function(){return this.key}},Certificates:{configurable:!0,enumerable:!0,get:function(){return this.X509CertificateList}},CRL:{configurable:!0,enumerable:!0,get:function(){return this.x509crl},set:function(a){this.x509crl=
a}},IssuerSerials:{configurable:!0,enumerable:!0,get:function(){return this.IssuerSerialList}},SubjectKeyIds:{configurable:!0,enumerable:!0,get:function(){return this.SubjectKeyIdList}},SubjectNames:{configurable:!0,enumerable:!0,get:function(){return this.SubjectNameList}}});var Dc=Mb;Dc=u([Object(t.l)({localName:"X509Data"})],Dc);var zd=function(){return ub.apply(this,arguments)||this};$jscomp.inherits(zd,ub);zd.prototype.importKey=function(a){var D=this,M;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==
Y.nextAddress)return Y.yield(Qa.crypto.subtle.exportKey("spki",a),2);M=Y.yieldResult;D.SPKIexp=new Uint8Array(M);D.Key=a;return Y.return(D)})};zd.prototype.exportKey=function(a){var D=this,M;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==Y.nextAddress)return Y.yield(Qa.crypto.subtle.importKey("spki",D.SPKIexp,a,!0,["verify"]),2);M=Y.yieldResult;D.Key=M;return Y.return(M)})};var xd=zd;u([Object(t.i)({localName:"SPKIexp",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",
required:!0,converter:t.h})],xd.prototype,"SPKIexp",void 0);xd=u([Object(t.l)({localName:"SPKIData"})],xd);var Db={};Db["http://www.w3.org/2000/09/xmldsig#rsa-sha1"]=lb;Db["http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"]=Va;Db["http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"]=A;Db["http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"]=ia;Db["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1"]=qa;Db["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256"]=m;Db["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384"]=
T;Db["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512"]=ba;Db["http://www.w3.org/2000/09/xmldsig#hmac-sha1"]=ra;Db["http://www.w3.org/2001/04/xmldsig-more#hmac-sha256"]=wa;Db["http://www.w3.org/2001/04/xmldsig-more#hmac-sha384"]=Fa;Db["http://www.w3.org/2001/04/xmldsig-more#hmac-sha512"]=$a;Db["http://www.w3.org/2007/05/xmldsig-more#sha1-rsa-MGF1"]=hb;Db["http://www.w3.org/2007/05/xmldsig-more#sha256-rsa-MGF1"]=kb;Db["http://www.w3.org/2007/05/xmldsig-more#sha384-rsa-MGF1"]=pb;Db["http://www.w3.org/2007/05/xmldsig-more#sha512-rsa-MGF1"]=
Ia;var ad={};ad["http://www.w3.org/2000/09/xmldsig#sha1"]=d;ad["http://www.w3.org/2001/04/xmlenc#sha256"]=U;ad["http://www.w3.org/2001/04/xmldsig-more#sha384"]=ea;ad["http://www.w3.org/2001/04/xmlenc#sha512"]=ua;var Cb=function(){};Cb.CreateFromName=function(a){switch(a){case "http://www.w3.org/2000/09/xmldsig#base64":a=new Tc;break;case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315":a=new Ob;break;case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments":a=new Uc;break;case "http://www.w3.org/2000/09/xmldsig#enveloped-signature":a=
new sc;break;case "http://www.w3.org/TR/1999/REC-xpath-19991116":throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a);case "http://www.w3.org/TR/1999/REC-xslt-19991116":throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a);case "http://www.w3.org/2001/10/xml-exc-c14n#":a=new Pb;break;case "http://www.w3.org/2001/10/xml-exc-c14n#WithComments":a=new Vc;break;case "http://www.w3.org/2002/07/decrypt#XML":throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a);default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a);}return a};Cb.CreateSignatureAlgorithm=
function(a){var D=Db[a.Algorithm]||null;if(D)return new D;if("http://www.w3.org/2007/05/xmldsig-more#rsa-pss"===a.Algorithm){var M;a.Any.Some(function(Y){Y instanceof $b&&(M=Y);return!!M});if(M)switch(M.DigestMethod.Algorithm){case "http://www.w3.org/2000/09/xmldsig#sha1":return new Ha(M.SaltLength);case "http://www.w3.org/2001/04/xmlenc#sha256":return new Ga(M.SaltLength);case "http://www.w3.org/2001/04/xmldsig-more#sha384":return new Oa(M.SaltLength);case "http://www.w3.org/2001/04/xmlenc#sha512":return new Ma(M.SaltLength)}throw new t.m(t.f.CRYPTOGRAPHIC,
"Cannot get params for RSA-PSS algoriithm");}throw Error("signature algorithm '"+a.Algorithm+"' is not supported");};Cb.CreateHashAlgorithm=function(a){var D=ad[a];if(D)return new D;throw Error("hash algorithm '"+a+"' is not supported");};Cb.GetHashAlgorithm=function(a){a="string"===typeof a?{name:a}:a;switch(a.name.toUpperCase()){case "SHA-1":return new d;case "SHA-256":return new U;case "SHA-384":return new ea;case "SHA-512":return new ua;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name);
}};Cb.GetSignatureAlgorithm=function(a){"string"===typeof a.hash&&(a.hash={name:a.hash});var D=a.hash.name;if(!D)throw Error("Signing algorithm doesn't have name for hash");switch(a.name.toUpperCase()){case "RSASSA-PKCS1-V1_5":switch(D.toUpperCase()){case "SHA-1":D=new lb;break;case "SHA-256":D=new Va;break;case "SHA-384":D=new A;break;case "SHA-512":D=new ia;break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+D);}break;case "RSA-PSS":var M=a.saltLength;switch(D.toUpperCase()){case "SHA-1":D=
M?new Ha(M):new hb;break;case "SHA-256":D=M?new Ga(M):new kb;break;case "SHA-384":D=M?new Oa(M):new pb;break;case "SHA-512":D=M?new Ma(M):new Ia;break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+D);}a.saltLength=D.algorithm.saltLength;break;case "ECDSA":switch(D.toUpperCase()){case "SHA-1":D=new qa;break;case "SHA-256":D=new m;break;case "SHA-384":D=new T;break;case "SHA-512":D=new ba;break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+D);}break;case "HMAC":switch(D.toUpperCase()){case "SHA-1":D=
new ra;break;case "SHA-256":D=new wa;break;case "SHA-384":D=new Fa;break;case "SHA-512":D=new $a;break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+D);}break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name);}return D};var wb=function(a){this.signature=new Ub;a&&a.nodeType===t.n.Document?this.document=a:a&&a.nodeType===t.n.Element&&(a=(new XMLSerializer).serializeToString(a),this.document=(new DOMParser).parseFromString(a,t.a))};wb.prototype.Sign=function(a,D,M,Y){var ja=this,
ta,Ca,Ja,Ra,Sa,Ya,eb,xb,ob;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qb){switch(qb.nextAddress){case 1:return M=M.cloneNode(!0),Ja=Object(t.q)({},a),D.algorithm.hash&&(Ja.hash=D.algorithm.hash),ta=Cb.GetSignatureAlgorithm(Ja),qb.yield(ja.ApplySignOptions(ja.XmlSignature,a,D,Y),2);case 2:return Ca=ja.XmlSignature.SignedInfo,qb.yield(ja.DigestReferences(M.documentElement),3);case 3:Ca.SignatureMethod.Algorithm=ta.namespaceURI;if(ta instanceof oa)Ra=Object(t.q)({},D.algorithm,Ja),"string"===
typeof Ra.hash&&(Ra.hash={name:Ra.hash}),Sa=new $b(Ra),ja.XmlSignature.SignedInfo.SignatureMethod.Any.Add(Sa);else if("HMAC"===a.name.toUpperCase()){Ya=0;eb=D.algorithm;switch(eb.hash.name.toUpperCase()){case "SHA-1":Ya=eb.length||160;break;case "SHA-256":Ya=eb.length||256;break;case "SHA-384":Ya=eb.length||384;break;case "SHA-512":Ya=eb.length||512}ja.XmlSignature.SignedInfo.SignatureMethod.HMACOutputLength=Ya}xb=ja.TransformSignedInfo(M);return qb.yield(ta.Sign(xb,D,Ja),4);case 4:return ob=qb.yieldResult,
ja.Key=D,ja.XmlSignature.SignatureValue=new Uint8Array(ob),ja.document=M,qb.return(ja.XmlSignature)}})};wb.prototype.Verify=function(a){var D=this,M,Y,ja,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){switch(Ca.nextAddress){case 1:M=D.document;if(!M||!M.documentElement)throw new t.m(t.f.NULL_PARAM,"SignedXml","document");return Ca.yield(D.ValidateReferences(M.documentElement),2);case 2:Y=Ca.yieldResult;if(!Y)return Ca.return(!1);if(a){ja=[a];Ca.jumpTo(4);break}return Ca.yield(D.GetPublicKeys(),
5);case 5:ja=Ca.yieldResult;case 4:return ta=ja,Ca.return(D.ValidateSignatureValue(ta))}})};wb.prototype.GetXml=function(){return this.signature.GetXml()};wb.prototype.LoadXml=function(a){this.signature=Ub.LoadXml(a)};wb.prototype.toString=function(){var a=this.XmlSignature;if(a.SignedInfo.References&&a.SignedInfo.References.Some(function(M){return M.Transforms&&M.Transforms.Some(function(Y){return Y instanceof sc})})){a=this.document.documentElement.cloneNode(!0);var D=this.XmlSignature.GetXml();
if(!D)throw new t.m(t.f.XML_EXCEPTION,"Cannot get Xml element from Signature");D=D.cloneNode(!0);a.appendChild(D);return(new XMLSerializer).serializeToString(a)}return this.XmlSignature.toString()};wb.prototype.GetPublicKeys=function(){var a=this,D,M,Y,ja,ta,Ca,Ja,Ra,Sa,Ya;return $jscomp.asyncExecutePromiseGeneratorProgram(function(eb){switch(eb.nextAddress){case 1:D=[],M=$jscomp.makeIterator(a.XmlSignature.KeyInfo.GetIterator()),Y=M.next();case 2:if(Y.done){eb.jumpTo(4);break}ja=Y.value;ta=Cb.CreateSignatureAlgorithm(a.XmlSignature.SignedInfo.SignatureMethod);
if(ja instanceof Dc){eb.jumpTo(5);break}return eb.yield(ja.exportKey(ta.algorithm),7);case 7:Ca=eb.yieldResult;D.push(Ca);eb.jumpTo(3);break;case 5:Ja=$jscomp.makeIterator(ja.Certificates),Ra=Ja.next();case 8:if(Ra.done){eb.jumpTo(3);break}Sa=Ra.value;return eb.yield(Sa.exportKey(ta.algorithm),11);case 11:Ya=eb.yieldResult;D.push(Ya);Ra=Ja.next();eb.jumpTo(8);break;case 3:Y=M.next();eb.jumpTo(2);break;case 4:return eb.return(D)}})};wb.prototype.GetSignatureNamespaces=function(){var a={};this.XmlSignature.NamespaceURI&&
(a[this.XmlSignature.Prefix||""]=this.XmlSignature.NamespaceURI);return a};wb.prototype.CopyNamespaces=function(a,D,M){var Y=this.InjectNamespaces,ja={};p(a,ja);Y.call(this,ja,D,M)};wb.prototype.InjectNamespaces=function(a,D,M){for(var Y in a)M&&""===Y||D.setAttribute("xmlns"+(Y?":"+Y:""),a[Y])};wb.prototype.DigestReference=function(a,D,M){var Y=this,ja,ta,Ca,Ja,Ra,Sa,Ya,eb,xb,ob,qb,tb,qc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Hg){if(D.Uri&&(D.Uri.indexOf("#xpointer")?"#"===D.Uri[0]&&
(ja=D.Uri.substring(1)):(ta=D.Uri,ta=ta.substring(9).replace(/[\r\n\t\s]/g,""),ta=2>ta.length||"("!==ta[0]||")"!==ta[ta.length-1]?"":ta.substring(1,ta.length-1),6<ta.length&&0===ta.indexOf("id(")&&")"===ta[ta.length-1]&&(ja=ta.substring(4,ta.length-2))),ja)){Ca=null;Ja=[Y.XmlSignature.KeyInfo.GetXml()];Y.XmlSignature.ObjectList.ForEach(function(Ig){Ja.push(Ig.GetXml())});Ra=$jscomp.makeIterator(Ja);for(Sa=Ra.next();!Sa.done;Sa=Ra.next())if(Ya=Sa.value)if(Ca=f(Ya,ja)){eb=Ca.cloneNode(!0);Y.CopyNamespaces(a,
eb,!1);Y.Parent&&(xb=Y.Parent instanceof t.p?Y.Parent.GetXml():Y.Parent,Y.CopyNamespaces(xb,eb,!0));Y.CopyNamespaces(Ca,eb,!1);Y.InjectNamespaces(Y.GetSignatureNamespaces(),eb,!0);a=eb;break}!Ca&&a&&(Ca=t.p.GetElementById(a,ja))&&(ob=Ca.cloneNode(!0),Y.CopyNamespaces(Ca,ob,!1),Y.CopyNamespaces(a,ob,!1),a=ob);if(null==Ca)throw new t.m(t.f.CRYPTOGRAPHIC,"Cannot get object by reference: "+ja);}qb=null;if(D.Transforms&&D.Transforms.Count)qb=Y.ApplyTransforms(D.Transforms,a);else if(D.Uri&&"#"!==D.Uri[0]){if(!a.ownerDocument)throw Error("Cannot get ownerDocument from XML document");
qb=(new XMLSerializer).serializeToString(a.ownerDocument)}else tb=new Ob,tb.LoadInnerXml(a),qb=tb.GetOutput();if(!D.DigestMethod.Algorithm)throw new t.m(t.f.NULL_PARAM,"Reference","DigestMethod");qc=Cb.CreateHashAlgorithm(D.DigestMethod.Algorithm);return Hg.return(qc.Digest(qb))})};wb.prototype.DigestReferences=function(a){var D=this,M,Y,ja,ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){switch(Ca.nextAddress){case 1:M=$jscomp.makeIterator(D.XmlSignature.SignedInfo.References.GetIterator()),
Y=M.next();case 2:if(Y.done){Ca.jumpTo(0);break}ja=Y.value;if(ja.DigestValue){Ca.jumpTo(3);break}ja.DigestMethod.Algorithm||(ja.DigestMethod.Algorithm=(new U).namespaceURI);return Ca.yield(D.DigestReference(a,ja,!1),5);case 5:ta=Ca.yieldResult,ja.DigestValue=ta;case 3:Y=M.next(),Ca.jumpTo(2)}})};wb.prototype.TransformSignedInfo=function(a){var D=Cb.CreateFromName(this.XmlSignature.SignedInfo.CanonicalizationMethod.Algorithm),M=this.XmlSignature.SignedInfo.GetXml();if(!M)throw new t.m(t.f.XML_EXCEPTION,
"Cannot get Xml element from SignedInfo");var Y=M.cloneNode(!0);this.CopyNamespaces(M,Y,!1);a&&(a.nodeType===t.n.Document?this.CopyNamespaces(a.documentElement,Y,!1):this.CopyNamespaces(a,Y,!1));this.Parent&&(a=this.Parent instanceof t.p?this.Parent.GetXml():this.Parent)&&this.CopyNamespaces(a,Y,!1);M=Object(t.e)(M);for(var ja in M)ja!==Y.prefix&&Y.setAttribute("xmlns"+(ja?":"+ja:""),M[ja]);D.LoadInnerXml(Y);return D.GetOutput()};wb.prototype.ResolveTransform=function(a){switch(a){case "enveloped":return new sc;
case "c14n":return new Ob;case "c14n-com":return new Uc;case "exc-c14n":return new Pb;case "exc-c14n-com":return new Vc;case "base64":return new Tc;case "xpath":return new Zb;default:throw new t.m(t.f.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM,a);}};wb.prototype.ApplyTransforms=function(a,D){var M=null;a.Sort(function(Y,ja){var ta=[Ob,Uc,Pb,Vc];return ta.some(function(Ca){return Y instanceof Ca})?1:ta.some(function(Ca){return ja instanceof Ca})?-1:0}).ForEach(function(Y){Y.LoadInnerXml(D);Y instanceof Zb?Y.GetOutput():
M=Y.GetOutput()});1===a.Count&&a.Item(0)instanceof sc&&(a=new Ob,a.LoadInnerXml(D),M=a.GetOutput());return M};wb.prototype.ApplySignOptions=function(a,D,M,Y){Y=void 0===Y?{}:Y;var ja=this,ta,Ca,Ja,Ra;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sa){if(1==Sa.nextAddress){Y.id&&(ja.XmlSignature.Id=Y.id);if(!Y.keyValue||"HMAC"===M.algorithm.name.toUpperCase())return Sa.jumpTo(2);a.KeyInfo||(a.KeyInfo=new vb);ta=a.KeyInfo;Ca=new wd;ta.Add(Ca);return Sa.yield(Ca.importKey(Y.keyValue),2)}Y.x509&&
(a.KeyInfo||(a.KeyInfo=new vb),Ja=a.KeyInfo,Y.x509.forEach(function(Ya){Ya=t.b.FromBase64(Ya);Ya=new Dc(Ya);Ja.Add(Ya)}));Y.references&&Y.references.forEach(function(Ya){var eb=new Kb;Ya.id&&(eb.Id=Ya.id);null!==Ya.uri&&void 0!==Ya.uri&&(eb.Uri=Ya.uri);Ya.type&&(eb.Type=Ya.type);var xb=Cb.GetHashAlgorithm(Ya.hash);eb.DigestMethod.Algorithm=xb.namespaceURI;if(Ya.transforms&&Ya.transforms.length){var ob=new Ec;Ya.transforms.forEach(function(qb){ob.Add(ja.ResolveTransform(qb))});eb.Transforms=ob}a.SignedInfo.References||
(a.SignedInfo.References=new yd);a.SignedInfo.References.Add(eb)});a.SignedInfo.References.Count||(Ra=new Kb,a.SignedInfo.References.Add(Ra));Sa.jumpToEnd()})};wb.prototype.ValidateReferences=function(a){var D=this,M,Y,ja,ta,Ca,Ja,Ra;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sa){switch(Sa.nextAddress){case 1:M=$jscomp.makeIterator(D.XmlSignature.SignedInfo.References.GetIterator()),Y=M.next();case 2:if(Y.done){Sa.jumpTo(4);break}ja=Y.value;return Sa.yield(D.DigestReference(a,ja,
!1),5);case 5:ta=Sa.yieldResult;Ca=t.b.ToBase64(ta);Ja=t.b.ToString(ja.DigestValue,"base64");if(Ca!==Ja)throw Ra="Invalid digest for uri '"+ja.Uri+"'. Calculated digest is "+Ca+" but the xml to validate supplies digest "+Ja,new t.m(t.f.CRYPTOGRAPHIC,Ra);Y=M.next();Sa.jumpTo(2);break;case 4:return Sa.return(!0)}})};wb.prototype.ValidateSignatureValue=function(a){var D=this,M,Y,ja,ta,Ca,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ra){switch(Ra.nextAddress){case 1:Y=D.TransformSignedInfo(D.document),
M=Cb.CreateSignatureAlgorithm(D.XmlSignature.SignedInfo.SignatureMethod),ja=$jscomp.makeIterator(a),ta=ja.next();case 2:if(ta.done){Ra.jumpTo(4);break}Ca=ta.value;return Ra.yield(M.Verify(Y,Ca,D.Signature),5);case 5:if(Ja=Ra.yieldResult)return Ra.return(!0);ta=ja.next();Ra.jumpTo(2);break;case 4:return Ra.return(!1)}})};$jscomp.global.Object.defineProperties(wb.prototype,{XmlSignature:{configurable:!0,enumerable:!0,get:function(){return this.signature}},Signature:{configurable:!0,enumerable:!0,get:function(){return this.XmlSignature.SignatureValue}}});
var ya={DefaultPrefix:"xades",NamespaceURI:"http://uri.etsi.org/01903/v1.3.2#",SignedPropertiesType:"http://uri.etsi.org/01903/v1.3.2#SignedProperties",ElementNames:{Any:"Any",ByName:"ByName",ByKey:"ByKey",AttrAuthoritiesCertValues:"AttrAuthoritiesCertValues",AttributeRevocationValues:"AttributeRevocationValues",AttributeCertificateRefs:"AttributeCertificateRefs",AttributeRevocationRefs:"AttributeRevocationRefs",QualifyingProperties:"QualifyingProperties",QualifyingPropertiesReference:"QualifyingPropertiesReference",
SignedProperties:"SignedProperties",SignedSignatureProperties:"SignedSignatureProperties",SignedDataObjectProperties:"SignedDataObjectProperties",UnsignedProperties:"UnsignedProperties",UnsignedSignatureProperties:"UnsignedSignatureProperties",UnsignedDataObjectProperties:"UnsignedDataObjectProperties",UnsignedDataObjectProperty:"UnsignedDataObjectProperty",SigningTime:"SigningTime",SigningCertificate:"SigningCertificate",SigningCertificateV2:"SigningCertificateV2",SignaturePolicyIdentifier:"SignaturePolicyIdentifier",
SignatureProductionPlace:"SignatureProductionPlace",SignerRole:"SignerRole",Cert:"Cert",CertDigest:"CertDigest",IssuerSerial:"IssuerSerial",IssuerSerialV2:"IssuerSerialV2",DataObjectFormat:"DataObjectFormat",CommitmentTypeIndication:"CommitmentTypeIndication",AllDataObjectsTimeStamp:"AllDataObjectsTimeStamp",IndividualDataObjectsTimeStamp:"IndividualDataObjectsTimeStamp",HashDataInfo:"HashDataInfo",EncapsulatedTimeStamp:"EncapsulatedTimeStamp",XMLTimeStamp:"XMLTimeStamp",XAdESTimeStamp:"XAdESTimeStamp",
OtherTimeStamp:"OtherTimeStamp",Description:"Description",ObjectIdentifier:"ObjectIdentifier",MimeType:"MimeType",Encoding:"Encoding",Identifier:"Identifier",DocumentationReferences:"DocumentationReferences",DocumentationReference:"DocumentationReference",CommitmentTypeId:"CommitmentTypeId",ObjectReference:"ObjectReference",CommitmentTypeQualifiers:"CommitmentTypeQualifiers",AllSignedDataObjects:"AllSignedDataObjects",CommitmentTypeQualifier:"CommitmentTypeQualifier",SignaturePolicyId:"SignaturePolicyId",
SignaturePolicyImplied:"SignaturePolicyImplied",SigPolicyId:"SigPolicyId",SigPolicyHash:"SigPolicyHash",SigPolicyQualifier:"SigPolicyQualifier",SigPolicyQualifiers:"SigPolicyQualifiers",SPURI:"SPURI",SPUserNotice:"SPUserNotice",NoticeRef:"NoticeRef",ExplicitText:"ExplicitText",ClaimedRoles:"ClaimedRoles",ClaimedRole:"ClaimedRole",CertifiedRoles:"CertifiedRoles",CertifiedRole:"CertifiedRole",Organization:"Organization",NoticeNumbers:"NoticeNumbers",Int:"int",City:"City",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince",
CountryName:"CountryName",CounterSignature:"CounterSignature",SignatureTimeStamp:"SignatureTimeStamp",CompleteCertificateRefs:"CompleteCertificateRefs",CompleteRevocationRefs:"CompleteRevocationRefs",SigAndRefsTimeStamp:"SigAndRefsTimeStamp",RefsOnlyTimeStamp:"RefsOnlyTimeStamp",CertificateValues:"CertificateValues",RevocationValues:"RevocationValues",ArchiveTimeStamp:"ArchiveTimeStamp",CertRefs:"CertRefs",CRLRefs:"CRLRefs",CRLRef:"CRLRef",OCSPRefs:"OCSPRefs",OtherRefs:"OtherRefs",OtherRef:"OtherRef",
DigestAlgAndValue:"DigestAlgAndValue",CRLIdentifier:"CRLIdentifier",Issuer:"Issuer",IssueTime:"IssueTime",Number:"Number",OCSPRef:"OCSPRef",OCSPIdentifier:"OCSPIdentifier",ResponderID:"ResponderID",ProducedAt:"ProducedAt",EncapsulatedX509Certificate:"EncapsulatedX509Certificate",OtherCertificate:"OtherCertificate",CRLValues:"CRLValues",OCSPValues:"OCSPValues",OtherValues:"OtherValues",OtherValue:"OtherValue",EncapsulatedCRLValue:"EncapsulatedCRLValue",EncapsulatedOCSPValue:"EncapsulatedOCSPValue",
ReferenceInfo:"ReferenceInfo",Include:"Include"},AttributeNames:{Id:"Id",Encoding:"Encoding",Target:"Target",ObjectReference:"ObjectReference",Qualifier:"Qualifier",Uri:"uri",URI:"URI",ReferencedData:"referencedData"}},Je=t.p,Ke=function(){return Je.apply(this,arguments)||this};$jscomp.inherits(Ke,Je);var Ta=Ke;Ta=z([Object(t.l)({localName:"xades",namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],Ta);var Le=t.j,Me=function(){return Le.apply(this,arguments)||this};$jscomp.inherits(Me,Le);var bb=
Me;bb=z([Object(t.l)({localName:"xades_collection",namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],bb);var Ne=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Ne,Ta);var Eb=Ne;z([Object(t.k)()],Eb.prototype,"Value",void 0);Eb=z([Object(t.l)({localName:ya.ElementNames.Any})],Eb);var Oe=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Oe,bb);var bd=Oe;bd=z([Object(t.l)({localName:ya.ElementNames.Any})],bd);var Pe=function(){return Ta.apply(this,arguments)||
this};$jscomp.inherits(Pe,Ta);var Ab=Pe;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],Ab.prototype,"Id",void 0);z([Object(t.g)({localName:ya.AttributeNames.Encoding,defaultValue:null,converter:{get:function(a){switch(a){case "der":case "ber":case "cer":case "per":case "xer":return"http://uri.etsi.org/01903/v1.2.2#"+a.toUpperCase()}},set:function(a){return(a=/#(\w+)$/.exec(a))?a[1].toLowerCase():null}}})],Ab.prototype,"Encoding",void 0);z([Object(t.k)({required:!0,converter:t.h})],
Ab.prototype,"Value",void 0);Ab=z([Object(t.l)({localName:"EncapsulatedPKIData"})],Ab);var Qe=function(){return Eb.apply(this,arguments)||this};$jscomp.inherits(Qe,Eb);var Ad=Qe;Ad=z([Object(t.l)({localName:ya.ElementNames.OtherCertificate})],Ad);var Re=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Re,bb);var Bd=Re;Bd=z([Object(t.l)({localName:"OtherCertificateCollection",parser:Ad})],Bd);var Se=function(){return Ab.apply(this,arguments)||this};$jscomp.inherits(Se,Ab);var Cd=
Se;Cd=z([Object(t.l)({localName:ya.ElementNames.EncapsulatedX509Certificate})],Cd);var Te=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Te,bb);var Dd=Te;Dd=z([Object(t.l)({localName:"EncapsulatedX509CertificateCollection",parser:Cd})],Dd);var Ue=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Ue,Ta);var ac=Ue;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],ac.prototype,"Id",void 0);z([Object(t.i)({parser:Dd,noRoot:!0})],ac.prototype,"EncapsulatedX509Certificates",
void 0);z([Object(t.i)({parser:Bd,noRoot:!0})],ac.prototype,"OtherCertificates",void 0);ac=z([Object(t.l)({localName:ya.ElementNames.CertificateValues})],ac);var Ve=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Ve,Ta);var wc=Ve;z([Object(t.g)({localName:ya.AttributeNames.Qualifier})],wc.prototype,"Qualifier",void 0);z([Object(t.k)({defaultValue:"",required:!0})],wc.prototype,"Value",void 0);wc=z([Object(t.l)({localName:ya.ElementNames.Identifier})],wc);var Ed=function(){return Ta.apply(this,
arguments)||this};$jscomp.inherits(Ed,Ta);Ed.prototype.OnLoadXml=function(a){a.textContent&&(this.Uri=a.textContent)};Ed.prototype.OnGetXml=function(a){this.Uri&&(a.textContent=this.Uri)};var Kc=Ed;z([Object(t.k)({defaultValue:"",required:!0})],Kc.prototype,"Uri",void 0);Kc=z([Object(t.l)({localName:ya.ElementNames.DocumentationReference})],Kc);var We=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(We,bb);var cd=We;cd=z([Object(t.l)({localName:ya.ElementNames.DocumentationReferences,
parser:Kc})],cd);var Xe=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Xe,Ta);var Vb=Xe;z([Object(t.i)({parser:wc,required:!0})],Vb.prototype,"Identifier",void 0);z([Object(t.i)({localName:ya.ElementNames.Description,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,defaultValue:""})],Vb.prototype,"Description",void 0);z([Object(t.i)({parser:cd})],Vb.prototype,"DocumentationReferences",void 0);Vb=z([Object(t.l)({localName:ya.ElementNames.ObjectIdentifier})],Vb);var Ye=function(){return Eb.apply(this,
arguments)||this};$jscomp.inherits(Ye,Eb);var dd=Ye;dd=z([Object(t.l)({localName:ya.ElementNames.CommitmentTypeQualifier})],dd);var Ze=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Ze,bb);var pe=Ze;pe=z([Object(t.l)({localName:ya.ElementNames.CommitmentTypeQualifiers,parser:dd})],pe);var $e=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits($e,Ta);var ed=$e;z([Object(t.k)({required:!0})],ed.prototype,"Value",void 0);ed=z([Object(t.l)({localName:ya.ElementNames.ObjectReference})],
ed);var af=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(af,bb);var Fd=af;Fd=z([Object(t.l)({localName:"ObjectReferences",parser:ed})],Fd);var bf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(bf,Ta);var ic=bf;z([Object(t.i)({localName:ya.ElementNames.CommitmentTypeId,required:!0,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,parser:Vb})],ic.prototype,"CommitmentTypeId",void 0);z([Object(t.i)({parser:Fd,noRoot:!0})],ic.prototype,"ObjectReference",void 0);
z([Object(t.i)({localName:ya.ElementNames.AllSignedDataObjects,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,converter:{set:function(a){return!0},get:function(a){}},defaultValue:!1})],ic.prototype,"AllSignedDataObjects",void 0);z([Object(t.i)({localName:ya.ElementNames.CommitmentTypeQualifiers,parser:dd})],ic.prototype,"CommitmentTypeQualifiers",void 0);ic=z([Object(t.l)({localName:ya.ElementNames.CommitmentTypeIndication})],ic);var cf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(cf,
Ta);var Qb=cf;z([Object(t.i)({parser:Bb,required:!0})],Qb.prototype,"DigestMethod",void 0);z([Object(t.i)({localName:"DigestValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:t.h,required:!0})],Qb.prototype,"DigestValue",void 0);Qb=z([Object(t.l)({localName:ya.ElementNames.DigestAlgAndValue})],Qb);var df=function(){return Jc.apply(this,arguments)||this};$jscomp.inherits(df,Jc);var Gd=df;Gd=z([Object(t.l)({localName:ya.ElementNames.IssuerSerial,namespaceURI:ya.NamespaceURI,
prefix:ya.DefaultPrefix})],Gd);var ef=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(ef,Ta);var jc=ef;z([Object(t.i)({localName:ya.ElementNames.CertDigest,parser:Qb,required:!0})],jc.prototype,"CertDigest",void 0);z([Object(t.i)({parser:Gd,required:!0})],jc.prototype,"IssuerSerial",void 0);z([Object(t.g)({localName:ya.AttributeNames.URI})],jc.prototype,"Uri",void 0);jc=z([Object(t.l)({localName:ya.ElementNames.Cert})],jc);var ff=function(){return bb.apply(this,arguments)||this};
$jscomp.inherits(ff,bb);var Lc=ff;Lc=z([Object(t.l)({localName:"CertIDList",parser:jc})],Lc);var gf=function(){return Lc.apply(this,arguments)||this};$jscomp.inherits(gf,Lc);var Hd=gf;Hd=z([Object(t.l)({localName:ya.ElementNames.SigningCertificate})],Hd);var hf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(hf,Ta);var kc=hf;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],kc.prototype,"Id",void 0);z([Object(t.i)({localName:ya.ElementNames.CertRefs,parser:Lc,required:!0})],
kc.prototype,"CertRefs",void 0);kc=z([Object(t.l)({localName:ya.ElementNames.CompleteCertificateRefs})],kc);var Fg=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,Dg=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,Eg=/[^-+\dA-Z]/g,ue={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",
longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},Jb={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" "),timeNames:"a p am pm A P AM PM".split(" ")},
Id=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Id,Ta);Id.prototype.OnLoadXml=function(a){a.textContent&&(this.Value=new Date(a.textContent))};Id.prototype.OnGetXml=function(a){a.textContent=this.Format?N(this.Value,this.Format):this.Value.toISOString()};var xc=Id;z([Object(t.k)({defaultValue:new Date,required:!0})],xc.prototype,"Value",void 0);xc=z([Object(t.l)({localName:"XadesDateTime",namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],xc);var jf=function(){return Eb.apply(this,
arguments)||this};$jscomp.inherits(jf,Eb);var qe=jf;qe=z([Object(t.l)({localName:ya.ElementNames.OtherRef})],qe);var kf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(kf,bb);var Jd=kf;Jd=z([Object(t.l)({localName:ya.ElementNames.OtherRefs})],Jd);var lf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(lf,Ta);var Mc=lf;z([Object(t.i)({localName:ya.ElementNames.ByName,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,required:!0})],Mc.prototype,"ByName",void 0);
z([Object(t.i)({localName:ya.ElementNames.ByKey,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,converter:t.h,required:!0})],Mc.prototype,"ByKey",void 0);Mc=z([Object(t.l)({localName:ya.ElementNames.OCSPIdentifier})],Mc);var mf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(mf,Ta);var yc=mf;z([Object(t.g)({localName:ya.AttributeNames.URI,defaultValue:""})],yc.prototype,"URI",void 0);z([Object(t.i)({parser:Mc,required:!0})],yc.prototype,"ResponderID",void 0);z([Object(t.i)({localName:ya.ElementNames.IssueTime,
parser:xc,required:!0})],yc.prototype,"ProducedAt",void 0);yc=z([Object(t.l)({localName:ya.ElementNames.OCSPIdentifier})],yc);var nf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(nf,Ta);var fd=nf;z([Object(t.i)({parser:yc})],fd.prototype,"OCSPIdentifier",void 0);z([Object(t.i)({parser:Qb,required:!0})],fd.prototype,"DigestAlgAndValue",void 0);fd=z([Object(t.l)({localName:ya.ElementNames.OCSPRef})],fd);var of=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(of,
bb);var Kd=of;Kd=z([Object(t.l)({localName:ya.ElementNames.OCSPRefs})],Kd);var pf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(pf,Ta);var lc=pf;z([Object(t.g)({localName:ya.AttributeNames.URI,defaultValue:""})],lc.prototype,"URI",void 0);z([Object(t.i)({localName:ya.ElementNames.Issuer,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,required:!0})],lc.prototype,"Issuer",void 0);z([Object(t.i)({localName:ya.ElementNames.IssueTime,parser:xc,required:!0})],lc.prototype,"IssueTime",
void 0);z([Object(t.i)({localName:ya.ElementNames.Number,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,converter:t.o})],lc.prototype,"Number",void 0);lc=z([Object(t.l)({localName:ya.ElementNames.CRLIdentifier})],lc);var qf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(qf,Ta);var gd=qf;z([Object(t.i)({parser:Qb,required:!0})],gd.prototype,"DigestAlgAndValue",void 0);z([Object(t.i)({parser:lc})],gd.prototype,"CRLIdentifier",void 0);gd=z([Object(t.l)({localName:ya.ElementNames.CRLRef})],
gd);var rf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(rf,bb);var Ld=rf;Ld=z([Object(t.l)({localName:ya.ElementNames.CRLRefs})],Ld);var sf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(sf,Ta);var Wb=sf;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],Wb.prototype,"Id",void 0);z([Object(t.i)({parser:Ld})],Wb.prototype,"CRLRefs",void 0);z([Object(t.i)({parser:Kd})],Wb.prototype,"OCSPRefs",void 0);z([Object(t.i)({parser:Jd})],Wb.prototype,
"OtherRefs",void 0);Wb=z([Object(t.l)({localName:ya.ElementNames.CompleteRevocationRefs})],Wb);var tf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(tf,Ta);var hd=tf;z([Object(t.i)({parser:Ub,required:!0})],hd.prototype,"Signature",void 0);hd=z([Object(t.l)({localName:ya.ElementNames.CounterSignature})],hd);var uf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(uf,Ta);var bc=uf;z([Object(t.g)({localName:ya.AttributeNames.ObjectReference,required:!0})],bc.prototype,
"ObjectReference",void 0);z([Object(t.i)({localName:ya.ElementNames.Description,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],bc.prototype,"Description",void 0);z([Object(t.i)({parser:Vb})],bc.prototype,"ObjectIdentifier",void 0);z([Object(t.i)({localName:ya.ElementNames.MimeType,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],bc.prototype,"MimeType",void 0);z([Object(t.i)({localName:ya.ElementNames.Encoding,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],bc.prototype,"Encoding",
void 0);bc=z([Object(t.l)({localName:ya.ElementNames.DataObjectFormat})],bc);var vf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(vf,Ta);var zc=vf;z([Object(t.g)({localName:ya.AttributeNames.URI,defaultValue:"",required:!0})],zc.prototype,"Uri",void 0);z([Object(t.g)({localName:ya.AttributeNames.ReferencedData,defaultValue:!1})],zc.prototype,"ReferencedData",void 0);zc=z([Object(t.l)({localName:ya.ElementNames.Include})],zc);var wf=function(){return Ta.apply(this,arguments)||
this};$jscomp.inherits(wf,Ta);var mc=wf;z([Object(t.g)({localName:ya.AttributeNames.URI,defaultValue:""})],mc.prototype,"Uri",void 0);z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],mc.prototype,"Id",void 0);z([Object(t.i)({localName:"DigestMethod",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],mc.prototype,"DigestMethod",void 0);z([Object(t.i)({localName:"DigestMethod",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:t.h,required:!0})],
mc.prototype,"DigestValue",void 0);mc=z([Object(t.l)({localName:ya.ElementNames.ReferenceInfo})],mc);var xf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(xf,bb);var id=xf;id=z([Object(t.l)({localName:"ReferenceInfos",parser:mc})],id);var yf=function(){return Ab.apply(this,arguments)||this};$jscomp.inherits(yf,Ab);var Md=yf;Md=z([Object(t.l)({localName:ya.ElementNames.EncapsulatedTimeStamp})],Md);var zf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(zf,bb);
var Nc=zf;Nc=z([Object(t.l)({localName:"EncapsulatedPKIDatas",parser:Md})],Nc);var Af=function(){return Eb.apply(this,arguments)||this};$jscomp.inherits(Af,Eb);var Nd=Af;Nd=z([Object(t.l)({localName:ya.ElementNames.XMLTimeStamp})],Nd);var Bf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Bf,bb);var Oc=Bf;Oc=z([Object(t.l)({localName:"XMLTimeStampCollection",parser:Nd})],Oc);var Cf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Cf,Ta);var cc=Cf;z([Object(t.g)({localName:ya.AttributeNames.Id,
defaultValue:""})],cc.prototype,"Id",void 0);z([Object(t.i)({parser:zc})],cc.prototype,"Include",void 0);z([Object(t.i)({parser:id,noRoot:!0})],cc.prototype,"ReferenceInfo",void 0);z([Object(t.i)({parser:Ib})],cc.prototype,"CanonicalizationMethod",void 0);z([Object(t.i)({parser:Nc,noRoot:!0})],cc.prototype,"EncapsulatedTimeStamp",void 0);z([Object(t.i)({parser:Oc,noRoot:!0})],cc.prototype,"XMLTimeStamp",void 0);cc=z([Object(t.l)({localName:"GenericTimeStamp"})],cc);var Df=function(){return Ta.apply(this,
arguments)||this};$jscomp.inherits(Df,Ta);var nc=Df;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],nc.prototype,"Id",void 0);z([Object(t.i)({parser:id,noRoot:!0})],nc.prototype,"ReferenceInfo",void 0);z([Object(t.i)({parser:Ib})],nc.prototype,"CanonicalizationMethod",void 0);z([Object(t.i)({parser:Nc,noRoot:!0})],nc.prototype,"EncapsulatedTimeStamp",void 0);z([Object(t.i)({parser:Oc,noRoot:!0})],nc.prototype,"XMLTimeStamp",void 0);nc=z([Object(t.l)({localName:ya.ElementNames.OtherTimeStamp})],
nc);var Ef=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Ef,Ta);var zb=Ef;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],zb.prototype,"Id",void 0);z([Object(t.i)({parser:zc})],zb.prototype,"Include",void 0);z([Object(t.i)({parser:Ib})],zb.prototype,"CanonicalizationMethod",void 0);z([Object(t.i)({parser:Nc,noRoot:!0})],zb.prototype,"EncapsulatedTimeStamp",void 0);z([Object(t.i)({parser:Oc,noRoot:!0})],zb.prototype,"XMLTimeStamp",void 0);zb=z([Object(t.l)({localName:ya.ElementNames.XAdESTimeStamp})],
zb);var Ff=function(){return zb.apply(this,arguments)||this};$jscomp.inherits(Ff,zb);var Od=Ff;Od=z([Object(t.l)({localName:ya.ElementNames.IndividualDataObjectsTimeStamp})],Od);var Gf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Gf,bb);var Pd=Gf;Pd=z([Object(t.l)({localName:"IndividualDataObjectsTimeStampCollection",parser:Od})],Pd);var Hf=function(){return zb.apply(this,arguments)||this};$jscomp.inherits(Hf,zb);var Qd=Hf;Qd=z([Object(t.l)({localName:ya.ElementNames.AllDataObjectsTimeStamp})],
Qd);var If=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(If,bb);var Rd=If;Rd=z([Object(t.l)({localName:"DataObjectFormatCollection",parser:bc})],Rd);var Jf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Jf,bb);var Sd=Jf;Sd=z([Object(t.l)({localName:"CommitmentTypeIndicationCollection",parser:ic})],Sd);var Kf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Kf,bb);var Td=Kf;Td=z([Object(t.l)({localName:"AllDataObjectsTimeStampCollection",parser:Qd})],
Td);var Lf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Lf,Ta);var dc=Lf;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],dc.prototype,"Id",void 0);z([Object(t.i)({parser:Rd,noRoot:!0})],dc.prototype,"DataObjectFormats",void 0);z([Object(t.i)({parser:Sd,noRoot:!0})],dc.prototype,"CommitmentTypeIndications",void 0);z([Object(t.i)({parser:Td,noRoot:!0})],dc.prototype,"AllDataObjectsTimeStamps",void 0);z([Object(t.i)({parser:Pd,noRoot:!0})],dc.prototype,"IndividualDataObjectsTimeStamps",
void 0);dc=z([Object(t.l)({localName:ya.ElementNames.SignedDataObjectProperties})],dc);var Mf=function(){return Vb.apply(this,arguments)||this};$jscomp.inherits(Mf,Vb);var jd=Mf;jd=z([Object(t.l)({localName:ya.ElementNames.SigPolicyId})],jd);var Nf=function(){return Qb.apply(this,arguments)||this};$jscomp.inherits(Nf,Qb);var kd=Nf;kd=z([Object(t.l)({localName:ya.ElementNames.SigPolicyHash})],kd);var Of=function(){return bd.apply(this,arguments)||this};$jscomp.inherits(Of,bd);var ld=Of;ld=z([Object(t.l)({localName:ya.ElementNames.SigPolicyQualifier})],
ld);var Pf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Pf,Ta);var Pc=Pf;z([Object(t.k)({converter:t.o,required:!0})],Pc.prototype,"Value",void 0);Pc=z([Object(t.l)({localName:"int"})],Pc);var Qf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Qf,bb);var md=Qf;md=z([Object(t.l)({localName:"IntegerList",parser:Pc})],md);var Rf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Rf,Ta);var Ac=Rf;z([Object(t.i)({localName:ya.ElementNames.Organization,
namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,required:!0})],Ac.prototype,"Organization",void 0);z([Object(t.i)({localName:ya.ElementNames.NoticeNumbers,parser:md,required:!0})],Ac.prototype,"NoticeNumbers",void 0);Ac=z([Object(t.l)({localName:ya.ElementNames.NoticeRef})],Ac);var Sf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Sf,Ta);var Qc=Sf;z([Object(t.i)({localName:ya.ElementNames.NoticeRef,parser:Ac})],Qc.prototype,"NoticeRef",void 0);z([Object(t.i)({localName:ya.ElementNames.ExplicitText,
namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],Qc.prototype,"ExplicitText",void 0);Qc=z([Object(t.l)({localName:ya.ElementNames.SPUserNotice})],Qc);var Tf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Tf,Ta);var nd=Tf;z([Object(t.k)()],nd.prototype,"Value",void 0);nd=z([Object(t.l)({localName:ya.ElementNames.SPURI})],nd);var Uf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Uf,bb);var od=Uf;od=z([Object(t.l)({localName:ya.ElementNames.SigPolicyQualifiers,
parser:ld})],od);var Vf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Vf,Ta);var ec=Vf;z([Object(t.i)({localName:ya.ElementNames.SigPolicyId,parser:jd,required:!0})],ec.prototype,"SigPolicyId",void 0);z([Object(t.i)({parser:Ec})],ec.prototype,"Transforms",void 0);z([Object(t.i)({localName:ya.ElementNames.SigPolicyHash,parser:kd,required:!0})],ec.prototype,"SigPolicyHash",void 0);z([Object(t.i)({localName:ya.ElementNames.SigPolicyQualifiers,parser:od})],ec.prototype,"SigPolicyQualifiers",
void 0);ec=z([Object(t.l)({localName:ya.ElementNames.SignaturePolicyId})],ec);var Wf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Wf,Ta);var Rc=Wf;z([Object(t.i)({localName:ya.ElementNames.SignaturePolicyId,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,parser:ec})],Rc.prototype,"SignaturePolicyId",void 0);z([Object(t.i)({localName:ya.ElementNames.SignaturePolicyImplied,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,converter:{set:function(a){return!0},get:function(a){return""}},
defaultValue:!1})],Rc.prototype,"SignaturePolicyImplied",void 0);Rc=z([Object(t.l)({localName:ya.ElementNames.SignaturePolicyIdentifier})],Rc);var Xf=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Xf,Ta);var oc=Xf;z([Object(t.i)({localName:ya.ElementNames.City,defaultValue:"",namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],oc.prototype,"City",void 0);z([Object(t.i)({localName:ya.ElementNames.StateOrProvince,defaultValue:"",namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],
oc.prototype,"StateOrProvince",void 0);z([Object(t.i)({localName:ya.ElementNames.PostalCode,defaultValue:"",namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],oc.prototype,"PostalCode",void 0);z([Object(t.i)({localName:ya.ElementNames.CountryName,defaultValue:"",namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix})],oc.prototype,"CountryName",void 0);oc=z([Object(t.l)({localName:ya.ElementNames.SignatureProductionPlace})],oc);var Yf=function(){return Eb.apply(this,arguments)||this};$jscomp.inherits(Yf,
Eb);var pd=Yf;pd=z([Object(t.l)({localName:ya.ElementNames.ClaimedRole})],pd);var Zf=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(Zf,bb);var Ud=Zf;Ud=z([Object(t.l)({localName:ya.ElementNames.ClaimedRoles,parser:pd})],Ud);var $f=function(){return Ab.apply(this,arguments)||this};$jscomp.inherits($f,Ab);var qd=$f;qd=z([Object(t.l)({localName:ya.ElementNames.CertifiedRole})],qd);var ag=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(ag,bb);var Vd=ag;Vd=z([Object(t.l)({localName:ya.ElementNames.CertifiedRoles,
parser:qd})],Vd);var bg=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(bg,Ta);var Sc=bg;z([Object(t.i)({parser:Ud})],Sc.prototype,"ClaimedRoles",void 0);z([Object(t.i)({parser:Vd})],Sc.prototype,"CertifiedRoles",void 0);Sc=z([Object(t.l)({localName:ya.ElementNames.SignerRole})],Sc);var re,cg=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(cg,Ta);var pc=re=cg;z([Object(t.i)({localName:ya.ElementNames.CertDigest,parser:Qb,required:!0})],pc.prototype,"CertDigest",
void 0);z([Object(t.i)({localName:ya.ElementNames.IssuerSerialV2,namespaceURI:ya.NamespaceURI,prefix:ya.DefaultPrefix,converter:t.h,required:!1})],pc.prototype,"IssuerSerial",void 0);z([Object(t.g)({localName:ya.AttributeNames.URI})],pc.prototype,"Uri",void 0);pc=re=z([Object(t.l)({localName:ya.ElementNames.Cert,parser:re})],pc);var dg=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(dg,bb);var rd=dg;rd=z([Object(t.l)({localName:"CertIDListV2",parser:pc})],rd);var eg=function(){return rd.apply(this,
arguments)||this};$jscomp.inherits(eg,rd);var Wd=eg;Wd=z([Object(t.l)({localName:ya.ElementNames.SigningCertificateV2})],Wd);var fg=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(fg,Ta);var Rb=fg;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],Rb.prototype,"Id",void 0);z([Object(t.i)({localName:ya.ElementNames.SigningTime,parser:xc})],Rb.prototype,"SigningTime",void 0);z([Object(t.i)({parser:Hd})],Rb.prototype,"SigningCertificate",void 0);z([Object(t.i)({parser:Wd})],
Rb.prototype,"SigningCertificateV2",void 0);z([Object(t.i)({parser:Rc})],Rb.prototype,"SignaturePolicyIdentifier",void 0);z([Object(t.i)({parser:oc})],Rb.prototype,"SignatureProductionPlace",void 0);z([Object(t.i)({parser:Sc})],Rb.prototype,"SignerRole",void 0);Rb=z([Object(t.l)({localName:ya.ElementNames.SignedSignatureProperties})],Rb);var gg=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(gg,Ta);var Bc=gg;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],Bc.prototype,
"Id",void 0);z([Object(t.i)({parser:Rb})],Bc.prototype,"SignedSignatureProperties",void 0);z([Object(t.i)({parser:dc})],Bc.prototype,"SignedDataObjectProperties",void 0);Bc=z([Object(t.l)({localName:ya.ElementNames.SignedProperties})],Bc);var hg=function(){return Eb.apply(this,arguments)||this};$jscomp.inherits(hg,Eb);var Xd=hg;Xd=z([Object(t.l)({localName:ya.ElementNames.UnsignedDataObjectProperty})],Xd);var ig=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(ig,bb);var sd=ig;z([Object(t.g)({localName:ya.AttributeNames.Id,
defaultValue:""})],sd.prototype,"Id",void 0);sd=z([Object(t.l)({localName:ya.ElementNames.UnsignedSignatureProperties,parser:Xd})],sd);var jg=function(){return Ab.apply(this,arguments)||this};$jscomp.inherits(jg,Ab);var Yd=jg;Yd=z([Object(t.l)({localName:ya.ElementNames.OtherValue})],Yd);var kg=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(kg,bb);var Zd=kg;Zd=z([Object(t.l)({localName:ya.ElementNames.OCSPValues,parser:Yd})],Zd);var lg=function(){return Ab.apply(this,arguments)||
this};$jscomp.inherits(lg,Ab);var se=lg;se=z([Object(t.l)({localName:ya.ElementNames.EncapsulatedOCSPValue})],se);var mg=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(mg,bb);var $d=mg;$d=z([Object(t.l)({localName:ya.ElementNames.OCSPValues})],$d);var ng=function(){return Ab.apply(this,arguments)||this};$jscomp.inherits(ng,Ab);var ae=ng;ae=z([Object(t.l)({localName:ya.ElementNames.EncapsulatedCRLValue})],ae);var og=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(og,
bb);var be=og;be=z([Object(t.l)({localName:ya.ElementNames.CRLValues,parser:ae})],be);var pg=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(pg,Ta);var Xb=pg;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],Xb.prototype,"Id",void 0);z([Object(t.i)({parser:be})],Xb.prototype,"CRLValues",void 0);z([Object(t.i)({parser:$d})],Xb.prototype,"OCSPValues",void 0);z([Object(t.i)({parser:Zd})],Xb.prototype,"OtherValues",void 0);Xb=z([Object(t.l)({localName:ya.ElementNames.RevocationValues})],
Xb);var qg=function(){return zb.apply(this,arguments)||this};$jscomp.inherits(qg,zb);var ce=qg;ce=z([Object(t.l)({localName:ya.ElementNames.SignatureTimeStamp})],ce);var rg=function(){return zb.apply(this,arguments)||this};$jscomp.inherits(rg,zb);var de=rg;de=z([Object(t.l)({localName:ya.ElementNames.SigAndRefsTimeStamp})],de);var sg=function(){return zb.apply(this,arguments)||this};$jscomp.inherits(sg,zb);var ee=sg;ee=z([Object(t.l)({localName:ya.ElementNames.RefsOnlyTimeStamp})],ee);var tg=function(){return zb.apply(this,
arguments)||this};$jscomp.inherits(tg,zb);var fe=tg;fe=z([Object(t.l)({localName:ya.ElementNames.ArchiveTimeStamp})],fe);var ug=function(){return kc.apply(this,arguments)||this};$jscomp.inherits(ug,kc);var ge=ug;ge=z([Object(t.l)({localName:ya.ElementNames.AttributeCertificateRefs})],ge);var vg=function(){return Wb.apply(this,arguments)||this};$jscomp.inherits(vg,Wb);var he=vg;he=z([Object(t.l)({localName:ya.ElementNames.AttributeRevocationRefs})],he);var wg=function(){return ac.apply(this,arguments)||
this};$jscomp.inherits(wg,ac);var ie=wg;ie=z([Object(t.l)({localName:ya.ElementNames.AttrAuthoritiesCertValues})],ie);var xg=function(){return Xb.apply(this,arguments)||this};$jscomp.inherits(xg,Xb);var je=xg;je=z([Object(t.l)({localName:ya.ElementNames.AttributeRevocationValues})],je);var yg=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(yg,Ta);var ke=yg;ke=z([Object(t.l)({localName:"UnsignedSignatureProperty"})],ke);var te=function(){return bb.apply(this,arguments)||this};$jscomp.inherits(te,
bb);te.prototype.OnLoadXml=function(a){for(var D=0;D<a.childNodes.length;D++){var M=a.childNodes.item(D);if(M.nodeType===t.n.Element){var Y=void 0;switch(M.localName){case ya.ElementNames.CounterSignature:Y=hd;break;case ya.ElementNames.SignatureTimeStamp:Y=ce;break;case ya.ElementNames.CompleteCertificateRefs:Y=kc;break;case ya.ElementNames.CompleteRevocationRefs:Y=Wb;break;case ya.ElementNames.AttributeCertificateRefs:Y=ge;break;case ya.ElementNames.AttributeRevocationRefs:Y=he;break;case ya.ElementNames.SigAndRefsTimeStamp:Y=
de;break;case ya.ElementNames.RefsOnlyTimeStamp:Y=ee;break;case ya.ElementNames.CertificateValues:Y=ac;break;case ya.ElementNames.RevocationValues:Y=Xb;break;case ya.ElementNames.AttrAuthoritiesCertValues:Y=ie;break;case ya.ElementNames.AttributeRevocationValues:Y=je;break;case ya.ElementNames.ArchiveTimeStamp:Y=fe}Y&&(M=Y.LoadXml(M),this.Add(M))}}};var td=te;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],td.prototype,"Id",void 0);td=z([Object(t.l)({localName:ya.ElementNames.UnsignedSignatureProperties,
parser:ke})],td);var zg=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(zg,Ta);var Cc=zg;z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],Cc.prototype,"Id",void 0);z([Object(t.i)({parser:td})],Cc.prototype,"UnsignedSignatureProperties",void 0);z([Object(t.i)({parser:sd})],Cc.prototype,"UnsignedDataObjectProperties",void 0);Cc=z([Object(t.l)({localName:ya.ElementNames.UnsignedProperties})],Cc);var Ag=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Ag,
Ta);var fc=Ag;z([Object(t.g)({localName:ya.AttributeNames.Target,required:!0})],fc.prototype,"Target",void 0);z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],fc.prototype,"Id",void 0);z([Object(t.i)({parser:Bc})],fc.prototype,"SignedProperties",void 0);z([Object(t.i)({parser:Cc})],fc.prototype,"UnsignedProperties",void 0);fc=z([Object(t.l)({localName:ya.ElementNames.QualifyingProperties})],fc);var Bg=function(){return Ta.apply(this,arguments)||this};$jscomp.inherits(Bg,Ta);var ud=
Bg;z([Object(t.g)({localName:ya.AttributeNames.URI,required:!0})],ud.prototype,"Uri",void 0);z([Object(t.g)({localName:ya.AttributeNames.Id,defaultValue:""})],ud.prototype,"Id",void 0);ud=z([Object(t.l)({localName:ya.ElementNames.QualifyingPropertiesReference})],ud);var Cg=function(){return Gb.apply(this,arguments)||this};$jscomp.inherits(Cg,Gb);var vd=Cg;z([Object(t.i)({parser:fc})],vd.prototype,"QualifyingProperties",void 0);vd=z([Object(t.l)({localName:"Object"})],vd);Object.freeze({__proto__:null,
get Any(){return Eb},get AnyCollection(){return bd},get OtherCertificate(){return Ad},get OtherCertificateCollection(){return Bd},get EncapsulatedX509Certificate(){return Cd},get EncapsulatedX509CertificateCollection(){return Dd},get CertificateValues(){return ac},get CommitmentTypeQualifier(){return dd},get CommitmentTypeQualifiers(){return pe},get ObjectReference(){return ed},get ObjectReferenceCollection(){return Fd},get CommitmentTypeIndication(){return ic},get CompleteCertificateRefs(){return kc},
get OtherRef(){return qe},get OtherRefs(){return Jd},get ResponderID(){return Mc},get OCSPIdentifier(){return yc},get OCSPRef(){return fd},get OCSPRefs(){return Kd},get CRLIdentifier(){return lc},get CRLRef(){return gd},get CRLRefs(){return Ld},get CompleteRevocationRefs(){return Wb},get CounterSignature(){return hd},get DataObjectFormat(){return bc},get XadesDateTime(){return xc},get EncapsulatedPKIData(){return Ab},get Include(){return zc},get ReferenceInfo(){return mc},get ReferenceInfos(){return id},
get EncapsulatedTimeStamp(){return Md},get EncapsulatedTimeStampCollection(){return Nc},get XMLTimeStamp(){return Nd},get XMLTimeStampCollection(){return Oc},get GenericTimeStamp(){return cc},get Identifier(){return wc},get DocumentationReference(){return Kc},get DocumentationReferences(){return cd},get ObjectIdentifier(){return Vb},get OtherTimeStamp(){return nc},get QualifyingProperties(){return fc},get QualifyingPropertiesReference(){return ud},get OtherValue(){return Yd},get OtherValues(){return Zd},
get EncapsulatedOCSPValue(){return se},get OCSPValues(){return $d},get EncapsulatedCRLValue(){return ae},get CRLValues(){return be},get RevocationValues(){return Xb},get SigPolicyId(){return jd},get SigPolicyHash(){return kd},get SigPolicyQualifier(){return ld},get Integer(){return Pc},get IntegerList(){return md},get NoticeReference(){return Ac},get SPUserNotice(){return Qc},get SPURI(){return nd},get SigPolicyQualifiers(){return od},get SignaturePolicyId(){return ec},get SignaturePolicyIdentifier(){return Rc},
get SignatureProductionPlace(){return oc},get IndividualDataObjectsTimeStamp(){return Od},get IndividualDataObjectsTimeStampCollection(){return Pd},get AllDataObjectsTimeStamp(){return Qd},get DataObjectFormatCollection(){return Rd},get CommitmentTypeIndicationCollection(){return Sd},get AllDataObjectsTimeStampCollection(){return Td},get SignedDataObjectProperties(){return dc},get SignedProperties(){return Bc},get SignedSignatureProperties(){return Rb},get ClaimedRole(){return pd},get ClaimedRoles(){return Ud},
get CertifiedRole(){return qd},get CertifiedRoles(){return Vd},get SignerRole(){return Sc},get DigestAlgAndValueType(){return Qb},get IssuerSerial(){return Gd},get Cert(){return jc},get CertIDList(){return Lc},get SigningCertificate(){return Hd},get CertV2(){return pc},get CertIDListV2(){return rd},get SigningCertificateV2(){return Wd},get UnsignedDataObjectProperty(){return Xd},get UnsignedDataObjectProperties(){return sd},get UnsignedProperties(){return Cc},get SignatureTimeStamp(){return ce},get SigAndRefsTimeStamp(){return de},
get RefsOnlyTimeStamp(){return ee},get ArchiveTimeStamp(){return fe},get AttributeCertificateRefs(){return ge},get AttributeRevocationRefs(){return he},get AttrAuthoritiesCertValues(){return ie},get AttributeRevocationValues(){return je},get UnsignedSignatureProperty(){return ke},get UnsignedSignatureProperties(){return td},get XAdESTimeStamp(){return zb},get DataObject(){return vd},XmlXades:ya});var Hb=function(a){a=wb.call(this,a)||this;a.properties=null;a.CreateQualifyingProperties();return a};
$jscomp.inherits(Hb,wb);Hb.prototype.LoadXml=function(a,D){wb.prototype.LoadXml.call(this,a);var M=null;this.XmlSignature.ObjectList.Some(function(Y){if(Y.Element)for(var ja=0;ja<Y.Element.childNodes.length;ja++){var ta=Y.Element.childNodes.item(ja);if(ta.nodeType===t.n.Element&&ta.localName===ya.ElementNames.QualifyingProperties)return M=fc.LoadXml(ta),!0}return!1});this.properties=M};Hb.prototype.Sign=function(a,D,M,Y){var ja=this,ta=arguments;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ca){return Ca.return(wb.prototype.Sign.apply(ja,
ta))})};Hb.prototype.CreateQualifyingProperties=function(){if(this.Properties)throw new t.m(t.f.XML_EXCEPTION,"Cannot create QualifyingProperties cause current signature has got one. You must create CounterSignature");var a=Qa.crypto.getRandomValues(new Uint8Array(6));a=t.b.ToHex(a);this.XmlSignature.Id="id-"+a;a=new vd;a.QualifyingProperties.Target="#"+this.XmlSignature.Id;a.QualifyingProperties.SignedProperties.Id="xades-"+this.XmlSignature.Id;this.properties=a.QualifyingProperties;this.XmlSignature.ObjectList.Add(a)};
Hb.prototype.ApplySignOptions=function(a,D,M,Y){var ja=this,ta,Ca,Ja,Ra;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sa){switch(Sa.nextAddress){case 1:return Sa.yield(wb.prototype.ApplySignOptions.call(ja,a,D,M,Y),2);case 2:if(!ja.Properties){Sa.jumpTo(0);break}ta=ja.Properties.SignedProperties.SignedSignatureProperties;ta.SigningTime.Value=new Date;Y.signingTime&&(Y.signingTime.value&&(ta.SigningTime.Value=Y.signingTime.value),Y.signingTime.format&&(ta.SigningTime.Format=Y.signingTime.format));
Ca=Object(t.q)({},D,M.algorithm);Ja=Ca.hash;Ra=new Kb;Ra.Type="http://uri.etsi.org/01903#SignedProperties";Ra.Uri="#"+ja.Properties.SignedProperties.Id;Ra.DigestMethod.Algorithm=Cb.GetHashAlgorithm(Ja).namespaceURI;a.SignedInfo.References.Add(Ra);return Sa.yield(ja.ApplySigningCertificate(Y.signingCertificate),4);case 4:return Sa.yield(ja.ApplySigningCertificateV2(Y.signingCertificateV2),5);case 5:return Sa.yield(ja.ApplySignaturePolicyIdentifier(Y.policy),6);case 6:ja.ApplySignatureProductionPlace(Y.productionPlace),
ja.ApplySignerRoles(Y.signerRole),Sa.jumpToEnd()}})};Hb.prototype.ApplySigningCertificate=function(a){var D=this,M,Y,ja,ta,Ca,Ja,Ra;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sa){if(1==Sa.nextAddress){if(!D.Properties||!a)return Sa.jumpTo(0);M=t.b.FromBase64(a);Y=new Lb(M);ja=D.Properties.SignedProperties.SignedSignatureProperties;if(ja.SigningCertificate.Count)throw new t.m(t.f.XML_EXCEPTION,"Signature can contain only one SigningCertificate");ta=new jc;ta.IssuerSerial.X509IssuerName=
Y.Issuer;ta.IssuerSerial.X509SerialNumber=Y.SerialNumber;Ca=Cb.GetHashAlgorithm("SHA-256");ta.CertDigest.DigestMethod.Algorithm=Ca.namespaceURI;Ja=ta.CertDigest;Ra=Uint8Array;return Sa.yield(Y.Thumbprint(Ca.algorithm.name),3)}Ja.DigestValue=new Ra(Sa.yieldResult);D.Properties.SignedProperties.SignedSignatureProperties.SigningCertificate.Add(ta);Sa.jumpToEnd()})};Hb.prototype.ApplySigningCertificateV2=function(a){var D=this,M,Y,ja,ta,Ca,Ja,Ra;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sa){if(1==
Sa.nextAddress){if(!D.Properties||!a)return Sa.jumpTo(0);M=t.b.FromBase64(a);Y=new Lb(M);ja=D.Properties.SignedProperties.SignedSignatureProperties;if(ja.SigningCertificateV2.Count)throw new t.m(t.f.XML_EXCEPTION,"Signature can contain only one SigningCertificateV2");ta=new pc;Ca=Cb.GetHashAlgorithm("SHA-256");ta.CertDigest.DigestMethod.Algorithm=Ca.namespaceURI;Ja=ta.CertDigest;Ra=Uint8Array;return Sa.yield(Y.Thumbprint(Ca.algorithm.name),3)}Ja.DigestValue=new Ra(Sa.yieldResult);D.Properties.SignedProperties.SignedSignatureProperties.SigningCertificateV2.Add(ta);
Sa.jumpToEnd()})};Hb.prototype.ApplySignaturePolicyIdentifier=function(a){var D=this,M,Y,ja,ta,Ca,Ja,Ra;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Sa){if(1==Sa.nextAddress){if(!D.Properties)return Sa.jumpTo(0);M=D.Properties.SignedProperties.SignedSignatureProperties;if(!a||"object"!==typeof a)return a&&(M.SignaturePolicyIdentifier.SignaturePolicyImplied=!0),Sa.jumpTo(0);Y=new ec;Y.SigPolicyId=new jd;Y.SigPolicyId.Identifier=new wc;a.identifier.qualifier&&(Y.SigPolicyId.Identifier.Qualifier=
a.identifier.qualifier);Y.SigPolicyId.Identifier.Value=a.identifier.value;a.identifier.description&&(Y.SigPolicyId.Description=a.identifier.description);a.identifier.references&&(Y.SigPolicyId.DocumentationReferences=new cd,a.identifier.references.forEach(function(Ya){var eb=new Kc;eb.Uri=Ya;Y.SigPolicyId.DocumentationReferences.Add(eb)}));a.transforms&&a.transforms.length&&(Y.Transforms=new Ec,a.transforms.forEach(function(Ya){Y.Transforms.Add(D.ResolveTransform(Ya))}));Y.SigPolicyHash=new kd;Y.SigPolicyHash.DigestMethod=
new Bb;ja=Cb.GetHashAlgorithm(a.hash);Y.SigPolicyHash.DigestMethod.Algorithm=ja.namespaceURI;if(a.digestValue)return Y.SigPolicyHash.DigestValue=t.b.FromBase64(a.digestValue),Sa.jumpTo(4);ta=Y.SigPolicyId.Identifier.GetXml().cloneNode(!0);D.CopyNamespaces(ta,ta,!0);D.InjectNamespaces(D.GetSignatureNamespaces(),ta,!0);Ca=null;Y.Transforms&&Y.Transforms.Count?Ca=D.ApplyTransforms(Y.Transforms,ta):(Ja=new Ob,Ja.LoadInnerXml(ta),Ca=Ja.GetOutput());Ra=Y.SigPolicyHash;return Sa.yield(ja.Digest(Ca),5)}4!=
Sa.nextAddress&&(Ra.DigestValue=Sa.yieldResult);a.qualifiers&&(Y.SigPolicyQualifiers=new od,a.qualifiers.forEach(function(Ya){var eb=new ld;if("string"===typeof Ya){var xb=new nd;xb.Value=Ya;eb.Add(xb)}else{var ob=new Qc;Ya.explicitText&&(ob.ExplicitText=Ya.explicitText);Ya.noticeRef&&(ob.NoticeRef=new Ac,ob.NoticeRef.Organization=Ya.noticeRef.organization,ob.NoticeRef.NoticeNumbers=new md,Ya.noticeRef.noticeNumbers&&Ya.noticeRef.noticeNumbers.forEach(function(qb){var tb=new Pc;tb.Value=qb;ob.NoticeRef.NoticeNumbers.Add(tb)}));
eb.Add(ob)}Y.SigPolicyQualifiers.Add(eb)}));M.SignaturePolicyIdentifier.SignaturePolicyId=Y;M.SignaturePolicyIdentifier.SignaturePolicyImplied=!1;Sa.jumpToEnd()})};Hb.prototype.ApplySignatureProductionPlace=function(a){if(this.Properties&&a){var D=this.Properties.SignedProperties.SignedSignatureProperties;a.city&&(D.SignatureProductionPlace.City=a.city);a.code&&(D.SignatureProductionPlace.PostalCode=a.code);a.country&&(D.SignatureProductionPlace.CountryName=a.country);a.state&&(D.SignatureProductionPlace.StateOrProvince=
a.state)}};Hb.prototype.ApplySignerRoles=function(a){if(this.Properties&&a){var D=this.Properties.SignedProperties.SignedSignatureProperties;a.claimed&&a.claimed.forEach(function(M){var Y=new pd;Y.Value=M;D.SignerRole.ClaimedRoles.Add(Y)});a.certified&&a.certified.forEach(function(M){var Y=new qd;Y.Encoding="der";Y.Value=t.b.FromBase64(M);D.SignerRole.CertifiedRoles.Add(Y)})}};Hb.prototype.VerifySigningCertificate=function(){var a=this,D,M,Y,ja,ta,Ca,Ja,Ra,Sa,Ya,eb,xb,ob,qb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(tb){switch(tb.nextAddress){case 1:D=
null;if(!a.XmlSignature||!a.Properties){tb.jumpTo(2);break}M=a.Properties.SignedProperties.SignedSignatureProperties;if(1!==M.SigningCertificate.Count)throw new t.m(t.f.XML_EXCEPTION,"Signature has got wrong amount of SigningCertificate, MUST be one");Y=Cb.GetHashAlgorithm("SHA-256");ja=M.SigningCertificate.Item(0);ta=t.b.ToBase64(ja.CertDigest.DigestValue);Ca=a.XmlSignature.KeyInfo;Ja=0;case 3:if(Ja<Ca.Count,D){tb.jumpTo(5);break}Ra=Ca.Item(Ja);if(!(Ra instanceof Dc)){tb.jumpTo(4);break}Sa=Ra.Certificates;
Ya=0;case 7:if(Ya<Sa.length,D){tb.jumpTo(4);break}eb=Sa[Ya];if(!eb){tb.jumpTo(8);break}xb=Uint8Array;return tb.yield(eb.Thumbprint(Y.algorithm),10);case 10:ob=new xb(tb.yieldResult),qb=t.b.ToBase64(ob),qb===ta&&(D=eb);case 8:Ya++;tb.jumpTo(7);break;case 4:Ja++;tb.jumpTo(3);break;case 5:if(!D||D.Issuer!==ja.IssuerSerial.X509IssuerName||D.SerialNumber!==ja.IssuerSerial.X509SerialNumber)throw new t.m(t.f.XML_EXCEPTION,"SigningCertificate not found");case 2:return tb.return(D)}})};$jscomp.global.Object.defineProperties(Hb.prototype,
{Properties:{configurable:!0,enumerable:!0,get:function(){return this.properties}},SignedProperties:{configurable:!0,enumerable:!0,get:function(){if(!this.Properties)throw new t.m(t.f.XML_EXCEPTION,"Properties is empty");return this.Properties.SignedProperties}},UnsignedProperties:{configurable:!0,enumerable:!0,get:function(){if(!this.Properties)throw new t.m(t.f.XML_EXCEPTION,"Properties is empty");return this.Properties.UnsignedProperties}}})},function(R,H,E){(function(u){function K(Z,ca){for(var fa=
0;fa<ca.length;fa++){var ha=ca[fa];ha.enumerable=ha.enumerable||!1;ha.configurable=!0;"value"in ha&&(ha.writable=!0);Object.defineProperty(Z,ha.key,ha)}}function V(Z,ca,fa){ca&&K(Z.prototype,ca);fa&&K(Z,fa);return Z}function l(Z,ca,fa){ca in Z?Object.defineProperty(Z,ca,{value:fa,enumerable:!0,configurable:!0,writable:!0}):Z[ca]=fa;return Z}function h(Z,ca,fa,ha,pa,x,n){try{var w=Z[x](n),F=w.value}catch(W){fa(W);return}w.done?ca(F):Promise.resolve(F).then(ha,pa)}function r(Z){return function(){var ca=
this,fa=arguments;return new Promise(function(ha,pa){function x(F){h(w,ha,pa,x,n,"next",F)}function n(F){h(w,ha,pa,x,n,"throw",F)}var w=Z.apply(ca,fa);x(void 0)})}}function b(Z){return f.apply(this,arguments)}function f(){f=r(regeneratorRuntime.mark(function fa(ca){return regeneratorRuntime.wrap(function(ha){for(;;)switch(ha.prev=ha.next){case 0:return ha.abrupt("return",new Promise(function(pa,x){var n=new FileReader;n.onload=function(){pa(n.result)};n.onerror=function(){console.log(["File read error",
ca,n.error]);x(n.error)};n.onabort=function(){console.log(["File read abort",ca,n.error]);x(n.error)};n.readAsArrayBuffer(ca)}));case 1:case "end":return ha.stop()}},fa)}));return f.apply(this,arguments)}function p(){return"undefined"!==typeof window&&window.crypto?window.crypto:u.crypto}function z(Z,ca,fa){return N.apply(this,arguments)}function N(){N=r(regeneratorRuntime.mark(function pa(ca,fa,ha){var x,n,w,F,W,P,O,L,sa,Aa,xa,Ea,za,c,X,ma,ka,na,Ba,La,Pa,ab=arguments;return regeneratorRuntime.wrap(function(Na){for(;;)switch(Na.prev=
Na.next){case 0:x=3<ab.length&&void 0!==ab[3]?ab[3]:p();n=4<ab.length&&void 0!==ab[4]?ab[4]:"SHA-256";w=g.util.binary.raw.decode;F=g.pki.privateKeyToAsn1;W=g.pki.publicKeyToAsn1;P=g.asn1.toDer;O=g.pki.wrapRsaPrivateKey;L=g.asn1.fromDer(new g.util.ByteStringBuffer(ca));sa=g.pkcs12.pkcs12FromAsn1(L,ha);xa=Aa=void 0;if(!fa||" "==fa){Na.next=30;break}Ea=sa.getBags({friendlyName:fa});if(void 0!=Ea.friendlyName&&2==Ea.friendlyName.length){Na.next=16;break}console.log("Unsupported keystore format, wrong password or wrong alias");
throw Error("Unsupported keystore format, wrong password or wrong alias");case 16:if(!Ea.friendlyName[0].key||!Ea.friendlyName[1].cert){Na.next=21;break}Aa=Ea.friendlyName[0].key;xa=Ea.friendlyName[1].cert;Na.next=28;break;case 21:if(!Ea.friendlyName[1].key||!Ea.friendlyName[0].cert){Na.next=26;break}Aa=Ea.friendlyName[1].key;xa=Ea.friendlyName[0].cert;Na.next=28;break;case 26:throw console.log("Unsupported keystore format, wrong password or wrong alias"),Error("Unsupported keystore format, wrong password or wrong alias");
case 28:Na.next=51;break;case 30:za=sa.getBags({bagType:g.pki.oids.certBag});c=sa.getBags({bagType:g.pki.oids.pkcs8ShroudedKeyBag});if(!za){Na.next=49;break}if(!za[g.pki.oids.certBag]||!za[g.pki.oids.certBag][0]){Na.next=38;break}(X=za[g.pki.oids.certBag][0])&&X.cert&&(xa=X.cert);Na.next=40;break;case 38:throw console.log("No forge.pki.oids.certBag found."),Error("No forge.pki.oids.certBag found.");case 40:if(!c[g.pki.oids.pkcs8ShroudedKeyBag]||!c[g.pki.oids.pkcs8ShroudedKeyBag][0]){Na.next=45;break}(ma=
c[g.pki.oids.pkcs8ShroudedKeyBag][0])&&ma.key&&(Aa=ma.key);Na.next=47;break;case 45:throw console.log("No forge.pki.oids.pkcs8ShroudedKeyBag found."),Error("No forge.pki.oids.pkcs8ShroudedKeyBag found.");case 47:Na.next=51;break;case 49:throw console.log("No certified bags found in p12 buffer."),Error("No certified bags found in p12 buffer.");case 51:if(xa&&Aa){Na.next=54;break}console.log("No certified/private key found in p12 buffer.");throw Error("No certified/private key found in p12 buffer.");
case 54:return ka=g.pki.certificateToPem(xa),na=w(P(W(xa.publicKey)).getBytes()),Na.next=58,x.subtle.importKey("spki",na,{name:"RSASSA-PKCS1-v1_5",hash:{name:n}},!0,["verify"]);case 58:return Ba=Na.sent,La=w(P(O(F(Aa))).getBytes()),Na.next=62,x.subtle.importKey("pkcs8",La,{name:"RSASSA-PKCS1-v1_5",hash:{name:n}},!1,["sign"]);case 62:return Pa=Na.sent,Na.abrupt("return",{privateKey:Pa,publicKey:Ba,cert:ka});case 64:case "end":return Na.stop()}},pa)}));return N.apply(this,arguments)}function B(Z){Z=
I.a(Z);if(0<Z.getElementsByTagName("parsererror").length)throw Error("XML parse error");return Z}function G(Z,ca){if((Z=Object(J.a)(Z,ca))&&Z.textContent)return Z.textContent.replace(/\s/g,"");throw Error("Bad TBAI document. Element not found: "+ca);}function v(Z,ca,fa){return(Z=Object(J.a)(Z,ca))&&Z.textContent?Z.textContent.replace(/\s/g,""):fa}function C(Z){return"id-"+Array.prototype.map.call(Z.getRandomValues(new Uint8Array(6)),function(ca){return("00"+ca.toString(16)).slice(-2)}).join("")}function t(Z){var ca=
"string"===typeof Z?B(Z):Z;Z=G(ca,"Emisor>NIF");var fa=G(ca,"FechaExpedicionFactura").replace(/(..)-(..)-..(..)/g,"$1$2$3");ca=G(ca,"ds:SignatureValue").substr(0,13);Z=["TBAI",Z,fa,ca,""].join("-");return Z+("000"+Object(y.a)(Z)).slice(-3)}function S(Z){Z="string"===typeof Z?B(Z):Z;var ca=G(Z,"FechaExpedicionFactura"),fa=G(Z,"HoraExpedicionFactura");ca={issuedTime:new Date(ca.split("-").reverse().join("-")+" "+fa),number:G(Z,"CabeceraFactura>NumFactura"),hash:G(Z,"ds:SignatureValue").substr(0,100)};
if(Z=v(Z,"CabeceraFactura>SerieFactura",""))ca.serie=Z;return ca}function k(Z,ca){Z="string"===typeof Z?B(Z):Z;Z={id:t(Z),s:v(Z,"SerieFactura",""),nf:G(Z,"NumFactura"),i:G(Z,"ImporteTotalFactura")};ca+=function(fa){return"?"+Object.keys(fa).reduce(function(ha,pa){ha.push(pa+"="+encodeURIComponent(fa[pa]));return ha},[]).join("&")}(Z);return ca+"&cr="+("000"+Object(y.a)(ca)).slice(-3)}function e(Z,ca){return k(Z,[["https://ticketbai.araba.eus/TBAI/QRTBAI","https://batuz.eus/QRTBAI/","https://tbai.egoitza.gipuzkoa.eus/qr/"],
["https://ticketbai.araba.eus/TBAI/QRTBAI","https://batuz.eus/QRTBAI/","https://tbai.prep.gipuzkoa.eus/qr/"]][2<arguments.length&&void 0!==arguments[2]&&arguments[2]?1:0][ca])}E.d(H,"d",function(){return t});E.d(H,"c",function(){return S});E.d(H,"a",function(){return Q});E.d(H,"f",function(){return k});E.d(H,"e",function(){return e});E.d(H,"b",function(){return aa});var q=E(45);E.n(q);var I=E(43),g=E(11);E.n(g);var y=E(63),J=E(9),Q;(function(Z){Z[Z.ARABA=0]="ARABA";Z[Z.BIZKAIA=1]="BIZKAIA";Z[Z.GIPUZKOA=
2]="GIPUZKOA"})(Q||(Q={}));var aa=function(){function Z(ca,fa,ha,pa,x){if(!(this instanceof Z))throw new TypeError("Cannot call a class as a function");l(this,"privateKey",void 0);l(this,"publicKey",void 0);l(this,"cert",void 0);l(this,"crypto",void 0);l(this,"hash",void 0);this.privateKey=ca;this.publicKey=fa;this.cert=ha;this.crypto=pa;this.hash=x}V(Z,[{key:"sign",value:function(){var ca=r(regeneratorRuntime.mark(function pa(ha){var x,n,w,F,W,P=arguments;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=
O.next){case 0:return x=1<P.length&&void 0!==P[1]?P[1]:"https://www.batuz.eus/fitxategiak/batuz/ticketbai/sinadura_elektronikoaren_zehaztapenak_especificaciones_de_la_firma_electronica_v1_0.pdf",n=2<P.length&&void 0!==P[2]?P[2]:"Quzn98x3PMbSHwbUzaj5f5KOpiH0u8bvmwbbbNkO9Es=",w=new I.b,F=C(this.crypto),W=this.cert.replace(/-----(BEGIN|END)[\w\d\s]+-----|[\r\n]/g,""),w.XmlSignature.KeyInfo.Id=F,O.next=8,w.Sign({name:"RSASSA-PKCS1-v1_5"},this.privateKey,B(ha),{keyValue:this.publicKey,references:[{hash:this.hash,
uri:"",transforms:["enveloped"]},{hash:this.hash,uri:"#"+F}],policy:{identifier:{value:x},hash:{name:this.hash},digestValue:n},signingCertificate:W,x509:[W]});case 8:return O.abrupt("return",'<?xml version="1.0" encoding="UTF-8"?>\n'+w.toString());case 9:case "end":return O.stop()}},pa,this)}));return function(ha){return ca.apply(this,arguments)}}()}],[{key:"fromBuffer",value:function(){var ca=r(regeneratorRuntime.mark(function n(ha,pa,x){var w,F,W,P=arguments;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=
O.next){case 0:return w=3<P.length&&void 0!==P[3]?P[3]:p(),F=4<P.length&&void 0!==P[4]?P[4]:"SHA-256",O.next=4,z(ha,pa,x,w,F);case 4:return W=O.sent,O.abrupt("return",new Z(W.privateKey,W.publicKey,W.cert,w,F));case 6:case "end":return O.stop()}},n)}));return function(ha,pa,x){return ca.apply(this,arguments)}}()},{key:"fromFile",value:function(){var ca=r(regeneratorRuntime.mark(function n(ha,pa,x){var w,F,W,P=arguments;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=
3<P.length&&void 0!==P[3]?P[3]:p(),F=4<P.length&&void 0!==P[4]?P[4]:"SHA-256",O.next=4,b(ha);case 4:return W=O.sent,O.abrupt("return",Z.fromBuffer(W,pa,x,w,F));case 6:case "end":return O.stop()}},n)}));return function(ha,pa,x){return ca.apply(this,arguments)}}()}]);return Z}()}).call(this,E(19))},function(R,H,E){R=function(u){function K(pa,x,n){Object.defineProperty(pa,x,{value:n,enumerable:!0,configurable:!0,writable:!0});return pa[x]}function V(pa,x,n,w){x=Object.create((x&&x.prototype instanceof
h?x:h).prototype);w=new v(w||[]);x._invoke=z(pa,n,w);return x}function l(pa,x,n){try{return{type:"normal",arg:pa.call(x,n)}}catch(w){return{type:"throw",arg:w}}}function h(){}function r(){}function b(){}function f(pa){["next","throw","return"].forEach(function(x){K(pa,x,function(n){return this._invoke(x,n)})})}function p(pa,x){function n(F,W,P,O){F=l(pa[F],pa,W);if("throw"===F.type)O(F.arg);else{var L=F.arg;return(F=L.value)&&"object"===typeof F&&k.call(F,"__await")?x.resolve(F.__await).then(function(sa){n("next",
sa,P,O)},function(sa){n("throw",sa,P,O)}):x.resolve(F).then(function(sa){L.value=sa;P(L)},function(sa){return n("throw",sa,P,O)})}}var w;this._invoke=function(F,W){function P(){return new x(function(O,L){n(F,W,O,L)})}return w=w?w.then(P,P):P()}}function z(pa,x,n){var w=J;return function(F,W){if(w===aa)throw Error("Generator is already running");if(w===Z){if("throw"===F)throw W;return t()}n.method=F;for(n.arg=W;;){if(F=n.delegate)if(F=N(F,n)){if(F===ca)continue;return F}if("next"===n.method)n.sent=
n._sent=n.arg;else if("throw"===n.method){if(w===J)throw w=Z,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);w=aa;F=l(pa,x,n);if("normal"===F.type){w=n.done?Z:Q;if(F.arg===ca)continue;return{value:F.arg,done:n.done}}"throw"===F.type&&(w=Z,n.method="throw",n.arg=F.arg)}}}function N(pa,x){var n=pa.iterator[x.method];if(n===e){x.delegate=null;if("throw"===x.method){if(pa.iterator["return"]&&(x.method="return",x.arg=e,N(pa,x),"throw"===x.method))return ca;x.method="throw";
x.arg=new TypeError("The iterator does not provide a 'throw' method")}return ca}n=l(n,pa.iterator,x.arg);if("throw"===n.type)return x.method="throw",x.arg=n.arg,x.delegate=null,ca;n=n.arg;if(!n)return x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,ca;if(n.done)x[pa.resultName]=n.value,x.next=pa.nextLoc,"return"!==x.method&&(x.method="next",x.arg=e);else return n;x.delegate=null;return ca}function B(pa){var x={tryLoc:pa[0]};1 in pa&&(x.catchLoc=pa[1]);2 in
pa&&(x.finallyLoc=pa[2],x.afterLoc=pa[3]);this.tryEntries.push(x)}function G(pa){var x=pa.completion||{};x.type="normal";delete x.arg;pa.completion=x}function v(pa){this.tryEntries=[{tryLoc:"root"}];pa.forEach(B,this);this.reset(!0)}function C(pa){if(pa){var x=pa[I];if(x)return x.call(pa);if("function"===typeof pa.next)return pa;if(!isNaN(pa.length)){var n=-1;x=function F(){for(;++n<pa.length;)if(k.call(pa,n))return F.value=pa[n],F.done=!1,F;F.value=e;F.done=!0;return F};return x.next=x}}return{next:t}}
function t(){return{value:e,done:!0}}var S=Object.prototype,k=S.hasOwnProperty,e,q="function"===typeof Symbol?Symbol:{},I=q.iterator||"@@iterator",g=q.asyncIterator||"@@asyncIterator",y=q.toStringTag||"@@toStringTag";try{K({},"")}catch(pa){K=function(x,n,w){return x[n]=w}}u.wrap=V;var J="suspendedStart",Q="suspendedYield",aa="executing",Z="completed",ca={};q={};q[I]=function(){return this};var fa=Object.getPrototypeOf;(fa=fa&&fa(fa(C([]))))&&fa!==S&&k.call(fa,I)&&(q=fa);var ha=b.prototype=h.prototype=
Object.create(q);r.prototype=ha.constructor=b;b.constructor=r;r.displayName=K(b,y,"GeneratorFunction");u.isGeneratorFunction=function(pa){return(pa="function"===typeof pa&&pa.constructor)?pa===r||"GeneratorFunction"===(pa.displayName||pa.name):!1};u.mark=function(pa){Object.setPrototypeOf?Object.setPrototypeOf(pa,b):(pa.__proto__=b,K(pa,y,"GeneratorFunction"));pa.prototype=Object.create(ha);return pa};u.awrap=function(pa){return{__await:pa}};f(p.prototype);p.prototype[g]=function(){return this};u.AsyncIterator=
p;u.async=function(pa,x,n,w,F){void 0===F&&(F=Promise);var W=new p(V(pa,x,n,w),F);return u.isGeneratorFunction(x)?W:W.next().then(function(P){return P.done?P.value:W.next()})};f(ha);K(ha,y,"Generator");ha[I]=function(){return this};ha.toString=function(){return"[object Generator]"};u.keys=function(pa){var x=[],n;for(n in pa)x.push(n);x.reverse();return function F(){for(;x.length;){var W=x.pop();if(W in pa)return F.value=W,F.done=!1,F}F.done=!0;return F}};u.values=C;v.prototype={constructor:v,reset:function(pa){this.next=
this.prev=0;this.sent=this._sent=e;this.done=!1;this.delegate=null;this.method="next";this.arg=e;this.tryEntries.forEach(G);if(!pa)for(var x in this)"t"===x.charAt(0)&&k.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=e)},stop:function(){this.done=!0;var pa=this.tryEntries[0].completion;if("throw"===pa.type)throw pa.arg;return this.rval},dispatchException:function(pa){function x(L,sa){W.type="throw";W.arg=pa;n.next=L;sa&&(n.method="next",n.arg=e);return!!sa}if(this.done)throw pa;for(var n=this,w=this.tryEntries.length-
1;0<=w;--w){var F=this.tryEntries[w],W=F.completion;if("root"===F.tryLoc)return x("end");if(F.tryLoc<=this.prev){var P=k.call(F,"catchLoc"),O=k.call(F,"finallyLoc");if(P&&O){if(this.prev<F.catchLoc)return x(F.catchLoc,!0);if(this.prev<F.finallyLoc)return x(F.finallyLoc)}else if(P){if(this.prev<F.catchLoc)return x(F.catchLoc,!0)}else if(O){if(this.prev<F.finallyLoc)return x(F.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(pa,x){for(var n=this.tryEntries.length-
1;0<=n;--n){var w=this.tryEntries[n];if(w.tryLoc<=this.prev&&k.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var F=w;break}}F&&("break"===pa||"continue"===pa)&&F.tryLoc<=x&&x<=F.finallyLoc&&(F=null);n=F?F.completion:{};n.type=pa;n.arg=x;return F?(this.method="next",this.next=F.finallyLoc,ca):this.complete(n)},complete:function(pa,x){if("throw"===pa.type)throw pa.arg;"break"===pa.type||"continue"===pa.type?this.next=pa.arg:"return"===pa.type?(this.rval=this.arg=pa.arg,this.method="return",this.next=
"end"):"normal"===pa.type&&x&&(this.next=x);return ca},finish:function(pa){for(var x=this.tryEntries.length-1;0<=x;--x){var n=this.tryEntries[x];if(n.finallyLoc===pa)return this.complete(n.completion,n.afterLoc),G(n),ca}},"catch":function(pa){for(var x=this.tryEntries.length-1;0<=x;--x){var n=this.tryEntries[x];if(n.tryLoc===pa){pa=n.completion;if("throw"===pa.type){var w=pa.arg;G(n)}return w}}throw Error("illegal catch attempt");},delegateYield:function(pa,x,n){this.delegate={iterator:C(pa),resultName:x,
nextLoc:n};"next"===this.method&&(this.arg=e);return ca}};return u}(R.exports);try{regeneratorRuntime=R}catch(u){Function("r","regeneratorRuntime = r")(R)}},function(R,H){function E(da,la){for(var va in da)la[va]=da[va]}function u(da,la){var va=da.prototype;if(!(va instanceof la)){var Da=function(){};Da.prototype=la.prototype;Da=new Da;E(va,Da);da.prototype=va=Da}va.constructor!=da&&("function"!=typeof da&&console.error("unknow Class:"+da),va.constructor=da)}function K(da,la){if(la instanceof Error)var va=
la;else va=this,Error.call(this,La[da]),this.message=La[da],Error.captureStackTrace&&Error.captureStackTrace(this,K);va.code=da;la&&(this.message=this.message+": "+la);return va}function V(){}function l(da,la){this._node=da;this._refresh=la;h(this)}function h(da){var la=da._node._inc||da._node.ownerDocument._inc;if(da._inc!=la){var va=da._refresh(da._node);P(da,"length",va.length);E(va,da);da._inc=la}}function r(){}function b(da,la){for(var va=da.length;va--;)if(da[va]===la)return va}function f(da,
la,va,Da){Da?la[b(la,Da)]=va:la[la.length++]=va;da&&(va.ownerElement=da,la=da.ownerDocument)&&(Da&&C(la,da,Da),la&&la._inc++,"http://www.w3.org/2000/xmlns/"==va.namespaceURI&&(da._nsMap[va.prefix?va.localName:""]=va.value))}function p(da,la,va){var Da=b(la,va);if(0<=Da){for(var Wa=la.length-1;Da<Wa;)la[Da]=la[++Da];la.length=Wa;da&&(la=da.ownerDocument)&&(C(la,da,va),va.ownerElement=null)}else throw K(ab,Error(da.tagName+"@"+va));}function z(da){this._features={};if(da)for(var la in da)this._features=
da[la]}function N(){}function B(da){return"<"==da&&"&lt;"||">"==da&&"&gt;"||"&"==da&&"&amp;"||'"'==da&&"&quot;"||"&#"+da.charCodeAt()+";"}function G(da,la){if(la(da))return!0;if(da=da.firstChild){do if(G(da,la))return!0;while(da=da.nextSibling)}}function v(){}function C(da,la,va,Da){da&&da._inc++;"http://www.w3.org/2000/xmlns/"==va.namespaceURI&&delete la._nsMap[va.prefix?va.localName:""]}function t(da,la,va){if(da&&da._inc)if(da._inc++,da=la.childNodes,va)da[da.length++]=va;else{la=la.firstChild;
for(va=0;la;)da[va++]=la,la=la.nextSibling;da.length=va}}function S(da,la){var va=la.previousSibling,Da=la.nextSibling;va?va.nextSibling=Da:da.firstChild=Da;Da?Da.previousSibling=va:da.lastChild=va;t(da.ownerDocument,da);return la}function k(da,la,va){var Da=la.parentNode;Da&&Da.removeChild(la);if(la.nodeType===ka){Da=la.firstChild;if(null==Da)return la;var Wa=la.lastChild}else Da=Wa=la;var ib=va?va.previousSibling:da.lastChild;Da.previousSibling=ib;Wa.nextSibling=va;ib?ib.nextSibling=Da:da.firstChild=
Da;null==va?da.lastChild=Wa:va.previousSibling=Wa;do Da.parentNode=da;while(Da!==Wa&&(Da=Da.nextSibling));t(da.ownerDocument||da,da);la.nodeType==ka&&(la.firstChild=la.lastChild=null);return la}function e(){this._nsMap={}}function q(){}function I(){}function g(){}function y(){}function J(){}function Q(){}function aa(){}function Z(){}function ca(){}function fa(){}function ha(){}function pa(){}function x(da,la){var va=[],Da=9==this.nodeType&&this.documentElement||this,Wa=Da.prefix,ib=Da.namespaceURI;
if(ib&&null==Wa&&(Wa=Da.lookupPrefix(ib),null==Wa))var fb=[{namespace:ib,prefix:null}];w(this,va,da,la,fb);return va.join("")}function n(da,la,va){la=da.prefix||"";da=da.namespaceURI;if(!la&&!da||"xml"===la&&"http://www.w3.org/XML/1998/namespace"===da||"http://www.w3.org/2000/xmlns/"==da)return!1;for(var Da=va.length;Da--;){var Wa=va[Da];if(Wa.prefix==la)return Wa.namespace!=da}return!0}function w(da,la,va,Da,Wa){if(Da)if(da=Da(da)){if("string"==typeof da){la.push(da);return}}else return;switch(da.nodeType){case O:Wa||
(Wa=[]);var ib=da.attributes,fb=ib.length,Qa=da.firstChild,Ka=da.tagName;va="http://www.w3.org/1999/xhtml"===da.namespaceURI||va;la.push("<",Ka);for(var db=0;db<fb;db++){var Xa=ib.item(db);"xmlns"==Xa.prefix?Wa.push({prefix:Xa.localName,namespace:Xa.value}):"xmlns"==Xa.nodeName&&Wa.push({prefix:"",namespace:Xa.value})}for(db=0;db<fb;db++){Xa=ib.item(db);if(n(Xa,va,Wa)){var d=Xa.prefix||"",U=Xa.namespaceURI;la.push(d?" xmlns:"+d:" xmlns",'="',U,'"');Wa.push({prefix:d,namespace:U})}w(Xa,la,va,Da,Wa)}n(da,
va,Wa)&&(d=da.prefix||"",U=da.namespaceURI,la.push(d?" xmlns:"+d:" xmlns",'="',U,'"'),Wa.push({prefix:d,namespace:U}));if(Qa||va&&!/^(?:meta|link|img|br|hr|input)$/i.test(Ka)){la.push(">");if(va&&/^script$/i.test(Ka))for(;Qa;)Qa.data?la.push(Qa.data):w(Qa,la,va,Da,Wa),Qa=Qa.nextSibling;else for(;Qa;)w(Qa,la,va,Da,Wa),Qa=Qa.nextSibling;la.push("</",Ka,">")}else la.push("/>");break;case X:case ka:for(Qa=da.firstChild;Qa;)w(Qa,la,va,Da,Wa),Qa=Qa.nextSibling;break;case L:return la.push(" ",da.name,'="',
da.value.replace(/[<&"]/g,B),'"');case sa:return la.push(da.data.replace(/[<&]/g,B));case Aa:return la.push("<![CDATA[",da.data,"]]\x3e");case c:return la.push("\x3c!--",da.data,"--\x3e");case ma:va=da.publicId;Da=da.systemId;la.push("<!DOCTYPE ",da.name);va?(la.push(' PUBLIC "',va),Da&&"."!=Da&&la.push('" "',Da),la.push('">')):Da&&"."!=Da?la.push(' SYSTEM "',Da,'">'):((da=da.internalSubset)&&la.push(" [",da,"]"),la.push(">"));break;case za:return la.push("<?",da.target," ",da.data,"?>");case xa:return la.push("&",
da.nodeName,";");default:la.push("??",da.nodeName)}}function F(da,la,va){switch(la.nodeType){case O:var Da=la.cloneNode(!1);Da.ownerDocument=da;case ka:break;case L:va=!0}Da||(Da=la.cloneNode(!1));Da.ownerDocument=da;Da.parentNode=null;if(va)for(la=la.firstChild;la;)Da.appendChild(F(da,la,va)),la=la.nextSibling;return Da}function W(da,la,va){var Da=new la.constructor;for(ib in la){var Wa=la[ib];"object"!=typeof Wa&&Wa!=Da[ib]&&(Da[ib]=Wa)}la.childNodes&&(Da.childNodes=new V);Da.ownerDocument=da;switch(Da.nodeType){case O:var ib=
la.attributes;var fb=Da.attributes=new r;Wa=ib.length;fb._ownerElement=Da;for(fb=0;fb<Wa;fb++)Da.setAttributeNode(W(da,ib.item(fb),!0));break;case L:va=!0}if(va)for(la=la.firstChild;la;)Da.appendChild(W(da,la,va)),la=la.nextSibling;return Da}function P(da,la,va){da[la]=va}R={};var O=R.ELEMENT_NODE=1,L=R.ATTRIBUTE_NODE=2,sa=R.TEXT_NODE=3,Aa=R.CDATA_SECTION_NODE=4,xa=R.ENTITY_REFERENCE_NODE=5,Ea=R.ENTITY_NODE=6,za=R.PROCESSING_INSTRUCTION_NODE=7,c=R.COMMENT_NODE=8,X=R.DOCUMENT_NODE=9,ma=R.DOCUMENT_TYPE_NODE=
10,ka=R.DOCUMENT_FRAGMENT_NODE=11,na=R.NOTATION_NODE=12,Ba={},La={};Ba.INDEX_SIZE_ERR=(La[1]="Index size error",1);Ba.DOMSTRING_SIZE_ERR=(La[2]="DOMString size error",2);var Pa=Ba.HIERARCHY_REQUEST_ERR=(La[3]="Hierarchy request error",3);Ba.WRONG_DOCUMENT_ERR=(La[4]="Wrong document",4);Ba.INVALID_CHARACTER_ERR=(La[5]="Invalid character",5);Ba.NO_DATA_ALLOWED_ERR=(La[6]="No data allowed",6);Ba.NO_MODIFICATION_ALLOWED_ERR=(La[7]="No modification allowed",7);var ab=Ba.NOT_FOUND_ERR=(La[8]="Not found",
8);Ba.NOT_SUPPORTED_ERR=(La[9]="Not supported",9);var Na=Ba.INUSE_ATTRIBUTE_ERR=(La[10]="Attribute in use",10);Ba.INVALID_STATE_ERR=(La[11]="Invalid state",11);Ba.SYNTAX_ERR=(La[12]="Syntax error",12);Ba.INVALID_MODIFICATION_ERR=(La[13]="Invalid modification",13);Ba.NAMESPACE_ERR=(La[14]="Invalid namespace",14);Ba.INVALID_ACCESS_ERR=(La[15]="Invalid access",15);K.prototype=Error.prototype;E(Ba,K);V.prototype={length:0,item:function(da){return this[da]||null},toString:function(da,la){for(var va=[],
Da=0;Da<this.length;Da++)w(this[Da],va,da,la);return va.join("")}};l.prototype.item=function(da){h(this);return this[da]};u(l,V);r.prototype={length:0,item:V.prototype.item,getNamedItem:function(da){for(var la=this.length;la--;){var va=this[la];if(va.nodeName==da)return va}},setNamedItem:function(da){var la=da.ownerElement;if(la&&la!=this._ownerElement)throw new K(Na);la=this.getNamedItem(da.nodeName);f(this._ownerElement,this,da,la);return la},setNamedItemNS:function(da){var la=da.ownerElement;if(la&&
la!=this._ownerElement)throw new K(Na);la=this.getNamedItemNS(da.namespaceURI,da.localName);f(this._ownerElement,this,da,la);return la},removeNamedItem:function(da){da=this.getNamedItem(da);p(this._ownerElement,this,da);return da},removeNamedItemNS:function(da,la){da=this.getNamedItemNS(da,la);p(this._ownerElement,this,da);return da},getNamedItemNS:function(da,la){for(var va=this.length;va--;){var Da=this[va];if(Da.localName==la&&Da.namespaceURI==da)return Da}return null}};z.prototype={hasFeature:function(da,
la){return(da=this._features[da.toLowerCase()])&&(!la||la in da)?!0:!1},createDocument:function(da,la,va){var Da=new v;Da.implementation=this;Da.childNodes=new V;(Da.doctype=va)&&Da.appendChild(va);la&&(da=Da.createElementNS(da,la),Da.appendChild(da));return Da},createDocumentType:function(da,la,va){var Da=new Q;Da.name=da;Da.nodeName=da;Da.publicId=la;Da.systemId=va;return Da}};N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,
ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(da,la){return k(this,da,la)},replaceChild:function(da,la){this.insertBefore(da,la);la&&this.removeChild(la)},removeChild:function(da){return S(this,da)},appendChild:function(da){return this.insertBefore(da,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(da){return W(this.ownerDocument||this,this,da)},normalize:function(){for(var da=this.firstChild;da;){var la=da.nextSibling;
la&&la.nodeType==sa&&da.nodeType==sa?(this.removeChild(la),da.appendData(la.data)):(da.normalize(),da=la)}},isSupported:function(da,la){return this.ownerDocument.implementation.hasFeature(da,la)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(da){for(var la=this;la;){var va=la._nsMap;if(va)for(var Da in va)if(va[Da]==da)return Da;la=la.nodeType==L?la.ownerDocument:la.parentNode}return null},lookupNamespaceURI:function(da){for(var la=this;la;){var va=la._nsMap;if(va&&
da in va)return va[da];la=la.nodeType==L?la.ownerDocument:la.parentNode}return null},isDefaultNamespace:function(da){return null==this.lookupPrefix(da)}};E(R,N);E(R,N.prototype);v.prototype={nodeName:"#document",nodeType:X,doctype:null,documentElement:null,_inc:1,insertBefore:function(da,la){if(da.nodeType==ka){for(var va=da.firstChild;va;){var Da=va.nextSibling;this.insertBefore(va,la);va=Da}return da}null==this.documentElement&&da.nodeType==O&&(this.documentElement=da);return k(this,da,la),da.ownerDocument=
this,da},removeChild:function(da){this.documentElement==da&&(this.documentElement=null);return S(this,da)},importNode:function(da,la){return F(this,da,la)},getElementById:function(da){var la=null;G(this.documentElement,function(va){if(va.nodeType==O&&va.getAttribute("id")==da)return la=va,!0});return la},getElementsByClassName:function(da){var la=new RegExp("(^|\\s)"+da+"(\\s|$)");return new l(this,function(va){var Da=[];G(va.documentElement,function(Wa){Wa!==va&&Wa.nodeType==O&&la.test(Wa.getAttribute("class"))&&
Da.push(Wa)});return Da})},createElement:function(da){var la=new e;la.ownerDocument=this;la.nodeName=da;la.tagName=da;la.childNodes=new V;return(la.attributes=new r)._ownerElement=la},createDocumentFragment:function(){var da=new fa;da.ownerDocument=this;da.childNodes=new V;return da},createTextNode:function(da){var la=new g;la.ownerDocument=this;la.appendData(da);return la},createComment:function(da){var la=new y;la.ownerDocument=this;la.appendData(da);return la},createCDATASection:function(da){var la=
new J;la.ownerDocument=this;la.appendData(da);return la},createProcessingInstruction:function(da,la){var va=new ha;va.ownerDocument=this;va.tagName=va.target=da;va.nodeValue=va.data=la;return va},createAttribute:function(da){var la=new q;la.ownerDocument=this;la.name=da;la.nodeName=da;la.localName=da;la.specified=!0;return la},createEntityReference:function(da){var la=new ca;la.ownerDocument=this;la.nodeName=da;return la},createElementNS:function(da,la){var va=new e,Da=la.split(":"),Wa=va.attributes=
new r;va.childNodes=new V;va.ownerDocument=this;va.nodeName=la;va.tagName=la;va.namespaceURI=da;2==Da.length?(va.prefix=Da[0],va.localName=Da[1]):va.localName=la;return Wa._ownerElement=va},createAttributeNS:function(da,la){var va=new q,Da=la.split(":");va.ownerDocument=this;va.nodeName=la;va.name=la;va.namespaceURI=da;va.specified=!0;2==Da.length?(va.prefix=Da[0],va.localName=Da[1]):va.localName=la;return va}};u(v,N);e.prototype={nodeType:O,hasAttribute:function(da){return null!=this.getAttributeNode(da)},
getAttribute:function(da){return(da=this.getAttributeNode(da))&&da.value||""},getAttributeNode:function(da){return this.attributes.getNamedItem(da)},setAttribute:function(da,la){da=this.ownerDocument.createAttribute(da);da.value=da.nodeValue=""+la;this.setAttributeNode(da)},removeAttribute:function(da){(da=this.getAttributeNode(da))&&this.removeAttributeNode(da)},appendChild:function(da){if(da.nodeType===ka)return this.insertBefore(da,null);var la=da.parentNode;la&&la.removeChild(da);la=this.lastChild;
da.parentNode=this;da.previousSibling=la;da.nextSibling=null;la?la.nextSibling=da:this.firstChild=da;this.lastChild=da;t(this.ownerDocument,this,da);return da},setAttributeNode:function(da){return this.attributes.setNamedItem(da)},setAttributeNodeNS:function(da){return this.attributes.setNamedItemNS(da)},removeAttributeNode:function(da){return this.attributes.removeNamedItem(da.nodeName)},removeAttributeNS:function(da,la){(da=this.getAttributeNodeNS(da,la))&&this.removeAttributeNode(da)},hasAttributeNS:function(da,
la){return null!=this.getAttributeNodeNS(da,la)},getAttributeNS:function(da,la){return(da=this.getAttributeNodeNS(da,la))&&da.value||""},setAttributeNS:function(da,la,va){da=this.ownerDocument.createAttributeNS(da,la);da.value=da.nodeValue=""+va;this.setAttributeNode(da)},getAttributeNodeNS:function(da,la){return this.attributes.getNamedItemNS(da,la)},getElementsByTagName:function(da){return new l(this,function(la){var va=[];G(la,function(Da){Da===la||Da.nodeType!=O||"*"!==da&&Da.tagName!=da||va.push(Da)});
return va})},getElementsByTagNameNS:function(da,la){return new l(this,function(va){var Da=[];G(va,function(Wa){Wa===va||Wa.nodeType!==O||"*"!==da&&Wa.namespaceURI!==da||"*"!==la&&Wa.localName!=la||Da.push(Wa)});return Da})}};v.prototype.getElementsByTagName=e.prototype.getElementsByTagName;v.prototype.getElementsByTagNameNS=e.prototype.getElementsByTagNameNS;u(e,N);q.prototype.nodeType=L;u(q,N);I.prototype={data:"",substringData:function(da,la){return this.data.substring(da,da+la)},appendData:function(da){this.nodeValue=
this.data=da=this.data+da;this.length=da.length},insertData:function(da,la){this.replaceData(da,0,la)},appendChild:function(da){throw Error(La[Pa]);},deleteData:function(da,la){this.replaceData(da,la,"")},replaceData:function(da,la,va){var Da=this.data.substring(0,da);da=this.data.substring(da+la);this.nodeValue=this.data=va=Da+va+da;this.length=va.length}};u(I,N);g.prototype={nodeName:"#text",nodeType:sa,splitText:function(da){var la=this.data,va=la.substring(da);this.data=this.nodeValue=la=la.substring(0,
da);this.length=la.length;da=this.ownerDocument.createTextNode(va);this.parentNode&&this.parentNode.insertBefore(da,this.nextSibling);return da}};u(g,I);y.prototype={nodeName:"#comment",nodeType:c};u(y,I);J.prototype={nodeName:"#cdata-section",nodeType:Aa};u(J,I);Q.prototype.nodeType=ma;u(Q,N);aa.prototype.nodeType=na;u(aa,N);Z.prototype.nodeType=Ea;u(Z,N);ca.prototype.nodeType=xa;u(ca,N);fa.prototype.nodeName="#document-fragment";fa.prototype.nodeType=ka;u(fa,N);ha.prototype.nodeType=za;u(ha,N);
pa.prototype.serializeToString=function(da,la,va){return x.call(da,la,va)};N.prototype.toString=x;try{if(Object.defineProperty){var cb=function(da){switch(da.nodeType){case O:case ka:var la=[];for(da=da.firstChild;da;)7!==da.nodeType&&8!==da.nodeType&&la.push(cb(da)),da=da.nextSibling;return la.join("");default:return da.nodeValue}};Object.defineProperty(l.prototype,"length",{get:function(){h(this);return this.$$length}});Object.defineProperty(N.prototype,"textContent",{get:function(){return cb(this)},
set:function(da){switch(this.nodeType){case O:case ka:for(;this.firstChild;)this.removeChild(this.firstChild);(da||String(da))&&this.appendChild(this.ownerDocument.createTextNode(da));break;default:this.nodeValue=this.value=this.data=da}}});P=function(da,la,va){da["$$"+la]=va}}}catch(da){}H.Node=N;H.DOMImplementation=z;H.XMLSerializer=pa},function(R,H,E){(function(u){function K(d){var U=Array.prototype.slice,ea=d.length,ua=function(m,T){return function(){return T.apply(this,m.concat(U.call(arguments)))}},
qa=function(){var m=U.call(arguments);return m.length<ea?ua(m,qa):d.apply(this,U.apply(arguments,[0,ea]))};return qa}function V(){if(0===arguments.length)throw Error("compose requires at least one argument");var d=Array.prototype.slice.call(arguments).reverse(),U=d[0],ea=d.slice(1);return function(){return Ba(function(ua,qa){return qa(ua)},U.apply(null,arguments),ea)}}function l(d){return function(){return d}}function h(d){return d.toString()}function r(d){for(var U=Object(d),ea=1;ea<arguments.length;ea++){var ua=
arguments[ea];if(null!=ua)for(var qa in ua)Object.prototype.hasOwnProperty.call(ua,qa)&&(U[qa]=ua[qa])}return U}function b(){this.init()}function f(d){this.expression=d}function p(){}function z(d){0<arguments.length&&this.init(d)}function N(d){0<arguments.length&&this.init(d)}function B(d,U){0<arguments.length&&this.init(d,U)}function G(d,U){0<arguments.length&&this.init(d,U)}function v(d,U){0<arguments.length&&this.init(d,U)}function C(d,U){0<arguments.length&&this.init(d,U)}function t(d,U){0<arguments.length&&
this.init(d,U)}function S(d,U){0<arguments.length&&this.init(d,U)}function k(d,U){0<arguments.length&&this.init(d,U)}function e(d,U){0<arguments.length&&this.init(d,U)}function q(d,U){0<arguments.length&&this.init(d,U)}function I(d,U){0<arguments.length&&this.init(d,U)}function g(d,U){0<arguments.length&&this.init(d,U)}function y(d,U){0<arguments.length&&this.init(d,U)}function J(d,U){0<arguments.length&&this.init(d,U)}function Q(d,U){0<arguments.length&&this.init(d,U)}function aa(d,U){0<arguments.length&&
this.init(d,U)}function Z(d,U,ea){0<arguments.length&&this.init(d,U,ea)}function ca(d,U){0<arguments.length&&this.init(d,U)}function fa(d,U,ea){0<arguments.length&&this.init(d,U,ea)}function ha(d,U){0<arguments.length&&this.init(d,U)}function pa(d){0<arguments.length&&this.init(d)}function x(d,U){0<arguments.length&&this.init(d,U)}function n(d){0<arguments.length&&this.init(d)}function w(d){0<arguments.length&&this.init(d)}function F(d){0<arguments.length&&this.init(d)}function W(d){this.init(d)}
function P(d,U){if(d===U)return 0;if(d.compareDocumentPosition)return d=d.compareDocumentPosition(U),d&1||d&10?1:d&20?-1:0;for(var ea=0,ua=0,qa=d;null!=qa;qa=qa.parentNode||qa.ownerElement)ea++;for(qa=U;null!=qa;qa=qa.parentNode||qa.ownerElement)ua++;if(ea>ua){for(;ea>ua;)d=d.parentNode||d.ownerElement,ea--;if(d===U)return 1}else if(ua>ea){for(;ua>ea;)U=U.parentNode||U.ownerElement,ua--;if(d===U)return-1}ea=d.parentNode||d.ownerElement;for(ua=U.parentNode||U.ownerElement;ea!==ua;)d=ea,U=ua,ea=d.parentNode||
d.ownerElement,ua=U.parentNode||U.ownerElement;ua=Ka.isAttribute(d);qa=Ka.isAttribute(U);if(ua&&!qa)return-1;if(!ua&&qa)return 1;if(ea)for(ea=ua?ea.attributes:ea.childNodes,ua=ea.length,qa=0;qa<ua;qa+=1){var m=ea[qa];if(m===d)return-1;if(m===U)return 1}throw Error("Unexpected: could not determine node order");}function O(){this.init()}function L(d,U,ea){this.isXPathNamespace=!0;this.ownerDocument=ea.ownerDocument;this.nodeName="#namespace";this.localName=this.prefix=d;this.nodeValue=this.namespaceURI=
U;this.ownerElement=ea;this.nodeType=L.XPATH_NAMESPACE_NODE}function sa(d,U,ea){this.variableResolver=null!=d?d:new Aa;this.namespaceResolver=null!=U?U:new Ea;this.functionResolver=null!=ea?ea:new xa}function Aa(){}function xa(d){this.thisArg=null!=d?d:Qa;this.functions={};this.addStandardFunctions()}function Ea(){}function za(d,U,ea){this.xpath=ea.parse(d);this.context=new sa;this.context.namespaceResolver=new c(U)}function c(d){this.xpathNSResolver=d}function X(d){this.node=d;this.namespaceResolver=
new Ea}function ma(d,U){U==ma.ANY_TYPE&&(d.constructor===n?U=ma.STRING_TYPE:d.constructor===w?U=ma.NUMBER_TYPE:d.constructor===F?U=ma.BOOLEAN_TYPE:d.constructor===O&&(U=ma.UNORDERED_NODE_ITERATOR_TYPE));this.resultType=U;switch(U){case ma.NUMBER_TYPE:this.numberValue=d.numberValue();return;case ma.STRING_TYPE:this.stringValue=d.stringValue();return;case ma.BOOLEAN_TYPE:this.booleanValue=d.booleanValue();return;case ma.ANY_UNORDERED_NODE_TYPE:case ma.FIRST_ORDERED_NODE_TYPE:if(d.constructor===O){this.singleNodeValue=
d.first();return}break;case ma.UNORDERED_NODE_ITERATOR_TYPE:case ma.ORDERED_NODE_ITERATOR_TYPE:if(d.constructor===O){this.invalidIteratorState=!1;this.nodes=d.toArray();this.iteratorIndex=0;return}break;case ma.UNORDERED_NODE_SNAPSHOT_TYPE:case ma.ORDERED_NODE_SNAPSHOT_TYPE:if(d.constructor===O){this.nodes=d.toArray();this.snapshotLength=this.nodes.length;return}}throw new db(db.TYPE_ERR);}function ka(d,U){d.createExpression=function(ea,ua){try{return new za(ea,ua,U)}catch(qa){throw new db(db.INVALID_EXPRESSION_ERR,
qa);}};d.createNSResolver=function(ea){return new X(ea)};d.evaluate=function(ea,ua,qa,m,T){if(0>m||9<m)throw{code:0,toString:function(){return"Request type not supported"}};return d.createExpression(ea,qa,U).evaluate(ua,m,T)}}var na=K(function(d,U){for(var ea=0;ea<U.length;ea+=1)d(U[ea],ea,U)}),Ba=K(function(d,U,ea){var ua=U;na(function(qa,m){ua=d(ua,qa,m)},ea);return ua}),La=K(function(d,U){var ea=Array(U.length);na(function(ua,qa){ea[qa]=d(ua)},U);return ea}),Pa=K(function(d,U){var ea=[];na(function(ua,
qa){d(ua,qa)&&ea.push(ua)},U);return ea}),ab=K(function(d,U){for(var ea=0;ea<d.length;ea+=1)if(d[ea]===U)return!0;return!1}),Na=K(function(d,U){return U[d]}),cb=K(function(d,U){return U.join(d)}),da=K(function(d,U,ea){return d+ea+U});b.prototype={};b.prototype.constructor=b;b.superclass=Object.prototype;b.prototype.init=function(){this.reduceActions=[];this.reduceActions[3]=function(d){return new G(d[0],d[2])};this.reduceActions[5]=function(d){return new v(d[0],d[2])};this.reduceActions[7]=function(d){return new C(d[0],
d[2])};this.reduceActions[8]=function(d){return new t(d[0],d[2])};this.reduceActions[10]=function(d){return new S(d[0],d[2])};this.reduceActions[11]=function(d){return new k(d[0],d[2])};this.reduceActions[12]=function(d){return new e(d[0],d[2])};this.reduceActions[13]=function(d){return new q(d[0],d[2])};this.reduceActions[15]=function(d){return new I(d[0],d[2])};this.reduceActions[16]=function(d){return new g(d[0],d[2])};this.reduceActions[18]=function(d){return new y(d[0],d[2])};this.reduceActions[19]=
function(d){return new J(d[0],d[2])};this.reduceActions[20]=function(d){return new Q(d[0],d[2])};this.reduceActions[22]=function(d){return new N(d[1])};this.reduceActions[24]=function(d){return new aa(d[0],d[2])};this.reduceActions[25]=function(d){return new Z(void 0,void 0,d[0])};this.reduceActions[27]=function(d){d[0].locationPath=d[2];return d[0]};this.reduceActions[28]=function(d){d[0].locationPath=d[2];d[0].locationPath.steps.unshift(new fa(fa.DESCENDANTORSELF,ha.nodeTest,[]));return d[0]};this.reduceActions[29]=
function(d){return new Z(d[0],[],void 0)};this.reduceActions[30]=function(d){return Ka.instance_of(d[0],Z)?(void 0==d[0].filterPredicates&&(d[0].filterPredicates=[]),d[0].filterPredicates.push(d[1]),d[0]):new Z(d[0],[d[1]],void 0)};this.reduceActions[32]=function(d){return d[1]};this.reduceActions[33]=function(d){return new n(d[0])};this.reduceActions[34]=function(d){return new w(d[0])};this.reduceActions[36]=function(d){return new x(d[0],[])};this.reduceActions[37]=function(d){return new x(d[0],
d[2])};this.reduceActions[38]=function(d){return[d[0]]};this.reduceActions[39]=function(d){d[2].unshift(d[0]);return d[2]};this.reduceActions[43]=function(d){return new ca(!0,[])};this.reduceActions[44]=function(d){d[1].absolute=!0;return d[1]};this.reduceActions[46]=function(d){return new ca(!1,[d[0]])};this.reduceActions[47]=function(d){d[0].steps.push(d[2]);return d[0]};this.reduceActions[49]=function(d){return new fa(d[0],d[1],[])};this.reduceActions[50]=function(d){return new fa(fa.CHILD,d[0],
[])};this.reduceActions[51]=function(d){return new fa(d[0],d[1],d[2])};this.reduceActions[52]=function(d){return new fa(fa.CHILD,d[0],d[1])};this.reduceActions[54]=function(d){return[d[0]]};this.reduceActions[55]=function(d){d[1].unshift(d[0]);return d[1]};this.reduceActions[56]=function(d){return"ancestor"==d[0]?fa.ANCESTOR:"ancestor-or-self"==d[0]?fa.ANCESTORORSELF:"attribute"==d[0]?fa.ATTRIBUTE:"child"==d[0]?fa.CHILD:"descendant"==d[0]?fa.DESCENDANT:"descendant-or-self"==d[0]?fa.DESCENDANTORSELF:
"following"==d[0]?fa.FOLLOWING:"following-sibling"==d[0]?fa.FOLLOWINGSIBLING:"namespace"==d[0]?fa.NAMESPACE:"parent"==d[0]?fa.PARENT:"preceding"==d[0]?fa.PRECEDING:"preceding-sibling"==d[0]?fa.PRECEDINGSIBLING:"self"==d[0]?fa.SELF:-1};this.reduceActions[57]=function(d){return fa.ATTRIBUTE};this.reduceActions[59]=function(d){return"comment"==d[0]?ha.commentTest:"text"==d[0]?ha.textTest:"processing-instruction"==d[0]?ha.anyPiTest:"node"==d[0]?ha.nodeTest:new ha(-1,void 0)};this.reduceActions[60]=function(d){return new ha.PITest(d[2])};
this.reduceActions[61]=function(d){return d[1]};this.reduceActions[63]=function(d){d[1].absolute=!0;d[1].steps.unshift(new fa(fa.DESCENDANTORSELF,ha.nodeTest,[]));return d[1]};this.reduceActions[64]=function(d){d[0].steps.push(new fa(fa.DESCENDANTORSELF,ha.nodeTest,[]));d[0].steps.push(d[2]);return d[0]};this.reduceActions[65]=function(d){return new fa(fa.SELF,ha.nodeTest,[])};this.reduceActions[66]=function(d){return new fa(fa.PARENT,ha.nodeTest,[])};this.reduceActions[67]=function(d){return new pa(d[1])};
this.reduceActions[68]=function(d){return ha.nameTestAny};this.reduceActions[69]=function(d){return new ha.NameTestPrefixAny(d[0].split(":")[0])};this.reduceActions[70]=function(d){return new ha.NameTestQName(d[0])}};b.actionTable=" s s        sssssssss    s ss  s  ss;                 s                  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                rrrrr               ; s s        sssssssss    s ss  s  ss;rs  rrrrrrrr s  sssssrrrrrr  rrs rs ; s s        sssssssss    s ss  s  ss;                            s       ;                            s       ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;  s                                 ;                            s       ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr  r  ;a                                   ;r       s                    rr  r  ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrs  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  srrrrrrrr         rrrrrrs rr sr  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                sssss               ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  srrrrrrrr         rrrrrrs rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;              s                     ;                             s      ;                rrrrr               ; s s        sssssssss    s sss s  ss;r  srrrrrrrr         rrrrrrs rr  r  ; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss      ss  s  ss; s s        sssssssss    s ss  s  ss; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr rr  ; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             rr     ;                             s      ;                             rs     ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;                                 r  ;                                 s  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ; s s        sssssssss    s ss  s  ss;r  rrrrrrrrr         rrrrrrr rr rr  ;                             r      ".split(";");
b.actionTableNumber=" 1 0        /.-,+*)('    & %$  #  \"!{                 J                  {a  aaaaaaaaa         aaaaaaa aa  a  {                YYYYY               { 1 0        /.-,+*)('    & %$  #  \"!{K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" { 1 0        /.-,+*)('    & %$  #  \"!{                            N       {                            O       {e  eeeeeeeee         eeeeeee ee ee  {f  fffffffff         fffffff ff ff  {d  ddddddddd         ddddddd dd dd  {B  BBBBBBBBB         BBBBBBB BB BB  {A  AAAAAAAAA         AAAAAAA AA AA  {  P                                 {                            Q       { 1           .  +*)('          #  \" {b  bbbbbbbbb         bbbbbbb bb  b  {                                    {!       S                    !!  !  {\"      T\"                    \"\"  \"  {$   V  $$            U       $$  $  {&   &ZY&&            &XW     &&  &  {)   )))))            )))\\[   ))  )  {.   ....._^]         .....   ..  .  {1   11111111         11111   11  1  {5   55555555         55555`  55  5  {7   77777777         777777  77  7  {9   99999999         999999  99  9  {:  c::::::::         ::::::b :: a:  {I  fIIIIIIII         IIIIIIe II  I  {=  =========         ======= == ==  {?  ?????????         ??????? ?? ??  {C  CCCCCCCCC         CCCCCCC CC CC  {J   JJJJJJJJ         JJJJJJ  JJ  J  {M   MMMMMMMM         MMMMMM  MM  M  {N  NNNNNNNNN         NNNNNNN NN  N  {P  PPPPPPPPP         PPPPPPP PP  P  {                +*)('               {R  RRRRRRRRR         RRRRRRR RR aR  {U  UUUUUUUUU         UUUUUUU UU  U  {Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  {c  ccccccccc         ccccccc cc cc  {                             j      {L  fLLLLLLLL         LLLLLLe LL  L  {6   66666666         66666   66  6  {              k                     {                             l      {                XXXXX               { 1 0        /.-,+*)('    & %$m #  \"!{_  f________         ______e __  _  { 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('      %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {>  >>>>>>>>>         >>>>>>> >> >>  { 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {Q  QQQQQQQQQ         QQQQQQQ QQ aQ  {V  VVVVVVVVV         VVVVVVV VV aV  {T  TTTTTTTTT         TTTTTTT TT  T  {@  @@@@@@@@@         @@@@@@@ @@ @@  {                             \u0087      {[  [[[[[[[[[         [[[[[[[ [[ [[  {D  DDDDDDDDD         DDDDDDD DD DD  {                             HH     {                             \u0088      {                             F\u0089     {#      T#                    ##  #  {%   V  %%            U       %%  %  {'   'ZY''            'XW     ''  '  {(   (ZY((            (XW     ((  (  {+   +++++            +++\\[   ++  +  {*   *****            ***\\[   **  *  {-   -----            ---\\[   --  -  {,   ,,,,,            ,,,\\[   ,,  ,  {0   00000_^]         00000   00  0  {/   /////_^]         /////   //  /  {2   22222222         22222   22  2  {3   33333333         33333   33  3  {4   44444444         44444   44  4  {8   88888888         888888  88  8  {                                 ^  {                                 \u008a  {;  f;;;;;;;;         ;;;;;;e ;;  ;  {<  f<<<<<<<<         <<<<<<e <<  <  {O  OOOOOOOOO         OOOOOOO OO  O  {`  `````````         ``````` ``  `  {S  SSSSSSSSS         SSSSSSS SS  S  {W  WWWWWWWWW         WWWWWWW WW  W  {\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  {E  EEEEEEEEE         EEEEEEE EE EE  { 1 0        /.-,+*)('    & %$  #  \"!{]  ]]]]]]]]]         ]]]]]]] ]] ]]  {                             G      ".split("{");
b.gotoTable="3456789:;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,L456789:;<=>?@ AB  CDEFGH IJ ,            M        EFGH IJ ,       N;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,            S        EFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,              e              ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                        h  J ,              i          j   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ ABpqCDEFGH IJ ,                             ,  r6789:;<=>?@ AB  CDEFGH IJ ,   s789:;<=>?@ AB  CDEFGH IJ ,    t89:;<=>?@ AB  CDEFGH IJ ,    u89:;<=>?@ AB  CDEFGH IJ ,     v9:;<=>?@ AB  CDEFGH IJ ,     w9:;<=>?@ AB  CDEFGH IJ ,     x9:;<=>?@ AB  CDEFGH IJ ,     y9:;<=>?@ AB  CDEFGH IJ ,      z:;<=>?@ AB  CDEFGH IJ ,      {:;<=>?@ AB  CDEFGH IJ ,       |;<=>?@ AB  CDEFGH IJ ,       };<=>?@ AB  CDEFGH IJ ,       ~;<=>?@ AB  CDEFGH IJ ,         \u007f=>?@ AB  CDEFGH IJ ,\u0080456789:;<=>?@ AB  CDEFGH IJ\u0081,            \u0082        EFGH IJ ,            \u0083        EFGH IJ ,                             ,                     \u0084 GH IJ ,                     \u0085 GH IJ ,              i          \u0086   ,              i          \u0087   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ AB\u008cqCDEFGH IJ ,                             ,                             ".split(",");
b.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,
19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]];b.DOUBLEDOT=2;b.DOUBLECOLON=3;b.DOUBLESLASH=4;b.NOTEQUAL=5;b.LESSTHANOREQUAL=6;b.GREATERTHANOREQUAL=7;b.AND=
8;b.OR=9;b.MOD=10;b.DIV=11;b.MULTIPLYOPERATOR=12;b.FUNCTIONNAME=13;b.AXISNAME=14;b.LITERAL=15;b.NUMBER=16;b.ASTERISKNAMETEST=17;b.QNAME=18;b.NCNAMECOLONASTERISK=19;b.NODETYPE=20;b.PROCESSINGINSTRUCTIONWITHLITERAL=21;b.EQUALS=22;b.LESSTHAN=23;b.GREATERTHAN=24;b.PLUS=25;b.MINUS=26;b.BAR=27;b.SLASH=28;b.LEFTPARENTHESIS=29;b.RIGHTPARENTHESIS=30;b.COMMA=31;b.AT=32;b.LEFTBRACKET=33;b.RIGHTBRACKET=34;b.DOT=35;b.DOLLAR=36;b.prototype.tokenize=function(d){var U=[],ea=[];d+="\x00";for(var ua=0,qa=d.charAt(ua++);;){for(;" "==
qa||"\t"==qa||"\r"==qa||"\n"==qa;)qa=d.charAt(ua++);if("\x00"==qa||ua>=d.length)break;if("("==qa)U.push(b.LEFTPARENTHESIS),ea.push(qa),qa=d.charAt(ua++);else if(")"==qa)U.push(b.RIGHTPARENTHESIS),ea.push(qa),qa=d.charAt(ua++);else if("["==qa)U.push(b.LEFTBRACKET),ea.push(qa),qa=d.charAt(ua++);else if("]"==qa)U.push(b.RIGHTBRACKET),ea.push(qa),qa=d.charAt(ua++);else if("@"==qa)U.push(b.AT),ea.push(qa),qa=d.charAt(ua++);else if(","==qa)U.push(b.COMMA),ea.push(qa),qa=d.charAt(ua++);else if("|"==qa)U.push(b.BAR),
ea.push(qa),qa=d.charAt(ua++);else if("+"==qa)U.push(b.PLUS),ea.push(qa),qa=d.charAt(ua++);else if("-"==qa)U.push(b.MINUS),ea.push(qa),qa=d.charAt(ua++);else if("="==qa)U.push(b.EQUALS),ea.push(qa),qa=d.charAt(ua++);else if("$"==qa)U.push(b.DOLLAR),ea.push(qa),qa=d.charAt(ua++);else if("."==qa)if(qa=d.charAt(ua++),"."==qa)U.push(b.DOUBLEDOT),ea.push(".."),qa=d.charAt(ua++);else if("0"<=qa&&"9">=qa){var m="."+qa;for(qa=d.charAt(ua++);"0"<=qa&&"9">=qa;)m+=qa,qa=d.charAt(ua++);U.push(b.NUMBER);ea.push(m)}else U.push(b.DOT),
ea.push(".");else if("'"==qa||'"'==qa){m=qa;for(var T="";ua<d.length&&(qa=d.charAt(ua))!==m;)T+=qa,ua+=1;if(qa!==m)throw db.fromMessage("Unterminated string literal: "+m+T);ua+=1;U.push(b.LITERAL);ea.push(T);qa=d.charAt(ua++)}else if("0"<=qa&&"9">=qa){m=qa;for(qa=d.charAt(ua++);"0"<=qa&&"9">=qa;)m+=qa,qa=d.charAt(ua++);if("."==qa&&"0"<=d.charAt(ua)&&"9">=d.charAt(ua))for(m+=qa,m+=d.charAt(ua++),qa=d.charAt(ua++);"0"<=qa&&"9">=qa;)m+=qa,qa=d.charAt(ua++);U.push(b.NUMBER);ea.push(m)}else if("*"==qa){if(0<
U.length&&(m=U[U.length-1],m!=b.AT&&m!=b.DOUBLECOLON&&m!=b.LEFTPARENTHESIS&&m!=b.LEFTBRACKET&&m!=b.AND&&m!=b.OR&&m!=b.MOD&&m!=b.DIV&&m!=b.MULTIPLYOPERATOR&&m!=b.SLASH&&m!=b.DOUBLESLASH&&m!=b.BAR&&m!=b.PLUS&&m!=b.MINUS&&m!=b.EQUALS&&m!=b.NOTEQUAL&&m!=b.LESSTHAN&&m!=b.LESSTHANOREQUAL&&m!=b.GREATERTHAN&&m!=b.GREATERTHANOREQUAL)){U.push(b.MULTIPLYOPERATOR);ea.push(qa);qa=d.charAt(ua++);continue}U.push(b.ASTERISKNAMETEST);ea.push(qa);qa=d.charAt(ua++)}else if(":"==qa&&":"==d.charAt(ua))U.push(b.DOUBLECOLON),
ea.push("::"),ua++,qa=d.charAt(ua++);else if("/"==qa)qa=d.charAt(ua++),"/"==qa?(U.push(b.DOUBLESLASH),ea.push("//"),qa=d.charAt(ua++)):(U.push(b.SLASH),ea.push("/"));else if("!"==qa&&"="==d.charAt(ua))U.push(b.NOTEQUAL),ea.push("!="),ua++,qa=d.charAt(ua++);else if("<"==qa)"="==d.charAt(ua)?(U.push(b.LESSTHANOREQUAL),ea.push("<="),ua++):(U.push(b.LESSTHAN),ea.push("<")),qa=d.charAt(ua++);else if(">"==qa)"="==d.charAt(ua)?(U.push(b.GREATERTHANOREQUAL),ea.push(">="),ua++):(U.push(b.GREATERTHAN),ea.push(">")),
qa=d.charAt(ua++);else if("_"==qa||Ka.isLetter(qa.charCodeAt(0))){T=qa;for(qa=d.charAt(ua++);Ka.isNCNameChar(qa.charCodeAt(0));)T+=qa,qa=d.charAt(ua++);if(0<U.length&&(m=U[U.length-1],m!=b.AT&&m!=b.DOUBLECOLON&&m!=b.LEFTPARENTHESIS&&m!=b.LEFTBRACKET&&m!=b.AND&&m!=b.OR&&m!=b.MOD&&m!=b.DIV&&m!=b.MULTIPLYOPERATOR&&m!=b.SLASH&&m!=b.DOUBLESLASH&&m!=b.BAR&&m!=b.PLUS&&m!=b.MINUS&&m!=b.EQUALS&&m!=b.NOTEQUAL&&m!=b.LESSTHAN&&m!=b.LESSTHANOREQUAL&&m!=b.GREATERTHAN&&m!=b.GREATERTHANOREQUAL)){if("and"==T){U.push(b.AND);
ea.push(T);continue}if("or"==T){U.push(b.OR);ea.push(T);continue}if("mod"==T){U.push(b.MOD);ea.push(T);continue}if("div"==T){U.push(b.DIV);ea.push(T);continue}}if(":"==qa){if("*"==d.charAt(ua)){U.push(b.NCNAMECOLONASTERISK);ea.push(T+":*");ua++;qa=d.charAt(ua++);continue}if("_"==d.charAt(ua)||Ka.isLetter(d.charCodeAt(ua))){T+=":";for(qa=d.charAt(ua++);Ka.isNCNameChar(qa.charCodeAt(0));)T+=qa,qa=d.charAt(ua++);if("("==qa){U.push(b.FUNCTIONNAME);ea.push(T);continue}U.push(b.QNAME);ea.push(T);continue}if(":"==
d.charAt(ua)){U.push(b.AXISNAME);ea.push(T);continue}}"("==qa?"comment"==T||"text"==T||"node"==T?U.push(b.NODETYPE):"processing-instruction"==T?")"==d.charAt(ua)?U.push(b.NODETYPE):U.push(b.PROCESSINGINSTRUCTIONWITHLITERAL):U.push(b.FUNCTIONNAME):U.push(b.QNAME);ea.push(T)}else throw Error("Unexpected character "+qa);}U.push(1);ea.push("[EOF]");return[U,ea]};b.SHIFT="s";b.REDUCE="r";b.ACCEPT="a";b.prototype.parse=function(d){d=this.tokenize(d);if(void 0!=d){var U=d[0];var ea=d[1];var ua=0,qa=[],m=
[],T=[],ba;qa.push(0);m.push(1);T.push("_S");var ra=U[ua];for(ba=ea[ua++];;)switch(d=qa[qa.length-1],b.actionTable[d].charAt(ra-1)){case b.SHIFT:m.push(-ra);T.push(ba);qa.push(b.actionTableNumber[d].charCodeAt(ra-1)-32);ra=U[ua];ba=ea[ua++];break;case b.REDUCE:for(var wa=b.productions[b.actionTableNumber[d].charCodeAt(ra-1)-32][1],Fa=[],$a=0;$a<wa;$a++)m.pop(),Fa.unshift(T.pop()),qa.pop();wa=qa[qa.length-1];m.push(b.productions[b.actionTableNumber[d].charCodeAt(ra-1)-32][0]);void 0==this.reduceActions[b.actionTableNumber[d].charCodeAt(ra-
1)-32]?T.push(Fa[0]):T.push(this.reduceActions[b.actionTableNumber[d].charCodeAt(ra-1)-32](Fa));qa.push(b.gotoTable[wa].charCodeAt(b.productions[b.actionTableNumber[d].charCodeAt(ra-1)-32][0]-2)-33);break;case b.ACCEPT:return new f(T.pop());default:throw Error("XPath parse error");}}};f.prototype={};f.prototype.constructor=f;f.superclass=Object.prototype;f.prototype.toString=function(){return this.expression.toString()};f.prototype.evaluate=function(d){d.contextNode=d.expressionContextNode;d.contextSize=
1;d.contextPosition=1;d.isHtml&&("caseInsensitive"in d||(d.caseInsensitive=!0),"allowAnyNamespaceForNoPrefix"in d||(d.allowAnyNamespaceForNoPrefix=!0));"caseInsensitive"in d||(d.caseInsensitive=!1);return this.expression.evaluate(d)};f.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace";f.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/";p.prototype={};p.prototype.constructor=p;p.superclass=Object.prototype;p.prototype.init=function(){};p.prototype.toString=function(){return"<Expression>"};
p.prototype.evaluate=function(d){throw Error("Could not evaluate expression.");};z.prototype=new p;z.prototype.constructor=z;z.superclass=p.prototype;z.prototype.init=function(d){this.rhs=d};N.prototype=new z;N.prototype.constructor=N;N.superclass=z.prototype;N.prototype.init=function(d){N.superclass.init.call(this,d)};N.prototype.evaluate=function(d){return this.rhs.evaluate(d).number().negate()};N.prototype.toString=function(){return"-"+this.rhs.toString()};B.prototype=new p;B.prototype.constructor=
B;B.superclass=p.prototype;B.prototype.init=function(d,U){this.lhs=d;this.rhs=U};G.prototype=new B;G.prototype.constructor=G;G.superclass=B.prototype;G.prototype.init=function(d,U){G.superclass.init.call(this,d,U)};G.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"};G.prototype.evaluate=function(d){var U=this.lhs.evaluate(d).bool();return U.booleanValue()?U:this.rhs.evaluate(d).bool()};v.prototype=new B;v.prototype.constructor=v;v.superclass=B.prototype;v.prototype.init=
function(d,U){v.superclass.init.call(this,d,U)};v.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"};v.prototype.evaluate=function(d){var U=this.lhs.evaluate(d).bool();return U.booleanValue()?this.rhs.evaluate(d).bool():U};C.prototype=new B;C.prototype.constructor=C;C.superclass=B.prototype;C.prototype.init=function(d,U){C.superclass.init.call(this,d,U)};C.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"};C.prototype.evaluate=
function(d){return this.lhs.evaluate(d).equals(this.rhs.evaluate(d))};t.prototype=new B;t.prototype.constructor=t;t.superclass=B.prototype;t.prototype.init=function(d,U){t.superclass.init.call(this,d,U)};t.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"};t.prototype.evaluate=function(d){return this.lhs.evaluate(d).notequal(this.rhs.evaluate(d))};S.prototype=new B;S.prototype.constructor=S;S.superclass=B.prototype;S.prototype.init=function(d,U){S.superclass.init.call(this,
d,U)};S.prototype.evaluate=function(d){return this.lhs.evaluate(d).lessthan(this.rhs.evaluate(d))};S.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"};k.prototype=new B;k.prototype.constructor=k;k.superclass=B.prototype;k.prototype.init=function(d,U){k.superclass.init.call(this,d,U)};k.prototype.evaluate=function(d){return this.lhs.evaluate(d).greaterthan(this.rhs.evaluate(d))};k.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+
")"};e.prototype=new B;e.prototype.constructor=e;e.superclass=B.prototype;e.prototype.init=function(d,U){e.superclass.init.call(this,d,U)};e.prototype.evaluate=function(d){return this.lhs.evaluate(d).lessthanorequal(this.rhs.evaluate(d))};e.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"};q.prototype=new B;q.prototype.constructor=q;q.superclass=B.prototype;q.prototype.init=function(d,U){q.superclass.init.call(this,d,U)};q.prototype.evaluate=function(d){return this.lhs.evaluate(d).greaterthanorequal(this.rhs.evaluate(d))};
q.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"};I.prototype=new B;I.prototype.constructor=I;I.superclass=B.prototype;I.prototype.init=function(d,U){I.superclass.init.call(this,d,U)};I.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().plus(this.rhs.evaluate(d).number())};I.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"};g.prototype=new B;g.prototype.constructor=g;g.superclass=B.prototype;g.prototype.init=
function(d,U){g.superclass.init.call(this,d,U)};g.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().minus(this.rhs.evaluate(d).number())};g.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"};y.prototype=new B;y.prototype.constructor=y;y.superclass=B.prototype;y.prototype.init=function(d,U){y.superclass.init.call(this,d,U)};y.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().multiply(this.rhs.evaluate(d).number())};y.prototype.toString=
function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"};J.prototype=new B;J.prototype.constructor=J;J.superclass=B.prototype;J.prototype.init=function(d,U){J.superclass.init.call(this,d,U)};J.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().div(this.rhs.evaluate(d).number())};J.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"};Q.prototype=new B;Q.prototype.constructor=Q;Q.superclass=B.prototype;Q.prototype.init=function(d,
U){Q.superclass.init.call(this,d,U)};Q.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().mod(this.rhs.evaluate(d).number())};Q.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"};aa.prototype=new B;aa.prototype.constructor=aa;aa.superclass=B.prototype;aa.prototype.init=function(d,U){aa.superclass.init.call(this,d,U)};aa.prototype.evaluate=function(d){return this.lhs.evaluate(d).nodeset().union(this.rhs.evaluate(d).nodeset())};aa.prototype.toString=
function(){return La(h,[this.lhs,this.rhs]).join(" | ")};Z.prototype=new p;Z.prototype.constructor=Z;Z.superclass=p.prototype;Z.prototype.init=function(d,U,ea){Z.superclass.init.call(this);this.filter=d;this.filterPredicates=U;this.locationPath=ea};Z.applyPredicates=function(d,U,ea){return Ba(function(ua,qa){var m=U.extend({contextSize:ua.length});return Pa(function(T,ba){return Z.predicateMatches(qa,m.extend({contextNode:T,contextPosition:ba+1}))},ua)},ea,d)};Z.getRoot=function(d,U){U=U[0];if(9===
U.nodeType)return U;if(d.virtualRoot)return d.virtualRoot;if(d=U.ownerDocument)return d;for(d=U;null!=d.parentNode;)d=d.parentNode;return d};Z.applyStep=function(d,U,ea){var ua=[];U.contextNode=ea;switch(d.axis){case fa.ANCESTOR:if(U.contextNode===U.virtualRoot)break;for(ea=2==U.contextNode.nodeType?Z.getOwnerElement(U.contextNode):U.contextNode.parentNode;null!=ea;){d.nodeTest.matches(ea,U)&&ua.push(ea);if(ea===U.virtualRoot)break;ea=ea.parentNode}break;case fa.ANCESTORORSELF:for(ea=U.contextNode;null!=
ea&&(d.nodeTest.matches(ea,U)&&ua.push(ea),ea!==U.virtualRoot);ea=2==ea.nodeType?Z.getOwnerElement(ea):ea.parentNode);break;case fa.ATTRIBUTE:var qa=U.contextNode.attributes;if(null!=qa)for(var m=0;m<qa.length;m++)ea=qa.item(m),d.nodeTest.matches(ea,U)&&ua.push(ea);break;case fa.CHILD:for(ea=U.contextNode.firstChild;null!=ea;ea=ea.nextSibling)d.nodeTest.matches(ea,U)&&ua.push(ea);break;case fa.DESCENDANT:for(qa=[U.contextNode.firstChild];0<qa.length;)for(ea=qa.pop();null!=ea;)d.nodeTest.matches(ea,
U)&&ua.push(ea),null!=ea.firstChild?(qa.push(ea.nextSibling),ea=ea.firstChild):ea=ea.nextSibling;break;case fa.DESCENDANTORSELF:d.nodeTest.matches(U.contextNode,U)&&ua.push(U.contextNode);for(qa=[U.contextNode.firstChild];0<qa.length;)for(ea=qa.pop();null!=ea;)d.nodeTest.matches(ea,U)&&ua.push(ea),null!=ea.firstChild?(qa.push(ea.nextSibling),ea=ea.firstChild):ea=ea.nextSibling;break;case fa.FOLLOWING:if(U.contextNode===U.virtualRoot)break;qa=[];null!=U.contextNode.firstChild?qa.unshift(U.contextNode.firstChild):
qa.unshift(U.contextNode.nextSibling);for(ea=U.contextNode.parentNode;null!=ea&&9!=ea.nodeType&&ea!==U.virtualRoot;ea=ea.parentNode)qa.unshift(ea.nextSibling);do for(ea=qa.pop();null!=ea;)d.nodeTest.matches(ea,U)&&ua.push(ea),null!=ea.firstChild?(qa.push(ea.nextSibling),ea=ea.firstChild):ea=ea.nextSibling;while(0<qa.length);break;case fa.FOLLOWINGSIBLING:if(U.contextNode===U.virtualRoot)break;for(ea=U.contextNode.nextSibling;null!=ea;ea=ea.nextSibling)d.nodeTest.matches(ea,U)&&ua.push(ea);break;case fa.NAMESPACE:var T=
{};if(1==U.contextNode.nodeType){T.xml=f.XML_NAMESPACE_URI;T.xmlns=f.XMLNS_NAMESPACE_URI;for(ea=U.contextNode;null!=ea&&1==ea.nodeType;ea=ea.parentNode)for(m=0;m<ea.attributes.length;m++){var ba=ea.attributes.item(m),ra=String(ba.name);"xmlns"==ra?void 0==T[""]&&(T[""]=ba.value):6<ra.length&&"xmlns:"==ra.substring(0,6)&&(qa=ra.substring(6,ra.length),void 0==T[qa]&&(T[qa]=ba.value))}for(qa in T)ea=new L(qa,T[qa],U.contextNode),d.nodeTest.matches(ea,U)&&ua.push(ea)}break;case fa.PARENT:ea=null;U.contextNode!==
U.virtualRoot&&(ea=2==U.contextNode.nodeType?Z.getOwnerElement(U.contextNode):U.contextNode.parentNode);null!=ea&&d.nodeTest.matches(ea,U)&&ua.push(ea);break;case fa.PRECEDING:if(null!=U.virtualRoot)qa=[U.virtualRoot];else{for(ea=U.contextNode;ea&&ea.parentNode;)ea=ea.parentNode;qa=[ea]}a:for(;0<qa.length;)for(ea=qa.pop();null!=ea;){if(ea==U.contextNode)break a;d.nodeTest.matches(ea,U)&&ua.unshift(ea);null!=ea.firstChild?(qa.push(ea.nextSibling),ea=ea.firstChild):ea=ea.nextSibling}break;case fa.PRECEDINGSIBLING:if(U.contextNode===
U.virtualRoot)break;for(ea=U.contextNode.previousSibling;null!=ea;ea=ea.previousSibling)d.nodeTest.matches(ea,U)&&ua.push(ea);break;case fa.SELF:d.nodeTest.matches(U.contextNode,U)&&ua.push(U.contextNode)}return ua};Z.applySteps=function(d,U,ea){return Ba(function(ua,qa){return[].concat.apply([],La(function(m){return Z.applyPredicates(qa.predicates,U,Z.applyStep(qa,U,m))},ua))},ea,d)};Z.prototype.applyFilter=function(d,U){if(!this.filter)return{nodes:[d.contextNode]};d=this.filter.evaluate(d);if(!Ka.instance_of(d,
O)){if(null!=this.filterPredicates&&0<this.filterPredicates.length||null!=this.locationPath)throw Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:d}}return{nodes:Z.applyPredicates(this.filterPredicates||[],U,d.toUnsortedArray())}};Z.applyLocationPath=function(d,U,ea){if(!d)return ea;ea=d.absolute?[Z.getRoot(U,ea)]:ea;return Z.applySteps(d.steps,U,ea)};Z.prototype.evaluate=function(d){var U=r(new sa,d);d=this.applyFilter(d,U);if("nonNodes"in
d)return d.nonNodes;var ea=new O;ea.addArray(Z.applyLocationPath(this.locationPath,U,d.nodes));return ea};Z.predicateMatches=function(d,U){d=d.evaluate(U);return Ka.instance_of(d,w)?U.contextPosition==d.numberValue():d.booleanValue()};Z.predicateString=V(da("[","]"),h);Z.predicatesString=V(cb(""),La(Z.predicateString));Z.prototype.toString=function(){if(void 0!=this.filter){var d=h(this.filter);return Ka.instance_of(this.filter,n)?da("'","'",d):void 0!=this.filterPredicates&&this.filterPredicates.length?
da("(",")",d)+Z.predicatesString(this.filterPredicates):void 0!=this.locationPath?d+(this.locationPath.absolute?"":"/")+h(this.locationPath):d}return h(this.locationPath)};Z.getOwnerElement=function(d){if(d.ownerElement)return d.ownerElement;try{if(d.selectSingleNode)return d.selectSingleNode("..")}catch(T){}for(var U=(9==d.nodeType?d:d.ownerDocument).getElementsByTagName("*"),ea=0;ea<U.length;ea++)for(var ua=U.item(ea),qa=ua.attributes,m=0;m<qa.length;m++)if(qa.item(m)===d)return ua;return null};
ca.prototype={};ca.prototype.constructor=ca;ca.superclass=Object.prototype;ca.prototype.init=function(d,U){this.absolute=d;this.steps=U};ca.prototype.toString=function(){return(this.absolute?"/":"")+La(h,this.steps).join("/")};fa.prototype={};fa.prototype.constructor=fa;fa.superclass=Object.prototype;fa.prototype.init=function(d,U,ea){this.axis=d;this.nodeTest=U;this.predicates=ea};fa.prototype.toString=function(){return fa.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+Z.predicatesString(this.predicates)};
fa.ANCESTOR=0;fa.ANCESTORORSELF=1;fa.ATTRIBUTE=2;fa.CHILD=3;fa.DESCENDANT=4;fa.DESCENDANTORSELF=5;fa.FOLLOWING=6;fa.FOLLOWINGSIBLING=7;fa.NAMESPACE=8;fa.PARENT=9;fa.PRECEDING=10;fa.PRECEDINGSIBLING=11;fa.SELF=12;fa.STEPNAMES=Ba(function(d,U){return d[U[0]]=U[1],d},{},[[fa.ANCESTOR,"ancestor"],[fa.ANCESTORORSELF,"ancestor-or-self"],[fa.ATTRIBUTE,"attribute"],[fa.CHILD,"child"],[fa.DESCENDANT,"descendant"],[fa.DESCENDANTORSELF,"descendant-or-self"],[fa.FOLLOWING,"following"],[fa.FOLLOWINGSIBLING,"following-sibling"],
[fa.NAMESPACE,"namespace"],[fa.PARENT,"parent"],[fa.PRECEDING,"preceding"],[fa.PRECEDINGSIBLING,"preceding-sibling"],[fa.SELF,"self"]]);ha.prototype={};ha.prototype.constructor=ha;ha.superclass=Object.prototype;ha.prototype.init=function(d,U){this.type=d;this.value=U};ha.prototype.toString=function(){return"<unknown nodetest type>"};ha.prototype.matches=function(d,U){console.warn("unknown node test type")};ha.NAMETESTANY=0;ha.NAMETESTPREFIXANY=1;ha.NAMETESTQNAME=2;ha.COMMENT=3;ha.TEXT=4;ha.PI=5;ha.NODE=
6;ha.isNodeType=function(d){return V(ab(d),Na("nodeType"))};ha.makeNodeTestType=function(d,U,ea){ea=ea||function(){};ea.prototype=new ha(U.type);ea.prototype.constructor=d;for(var ua in U)ea.prototype[ua]=U[ua];return ea};ha.makeNodeTypeTest=function(d,U,ea){return new (ha.makeNodeTestType(d,{matches:ha.isNodeType(U),toString:l(ea)}))};ha.hasPrefix=function(d){return d.prefix||-1!==(d.nodeName||d.tagName).indexOf(":")};ha.isElementOrAttribute=ha.isNodeType([1,2]);ha.nameSpaceMatches=function(d,U,
ea){var ua=ea.namespaceURI||"";if(!d)return!ua||U.allowAnyNamespaceForNoPrefix&&!ha.hasPrefix(ea);U=U.namespaceResolver.getNamespace(d,U.expressionContextNode);if(null==U)throw Error("Cannot resolve QName "+d);return U===ua};ha.localNameMatches=function(d,U,ea){ea=ea.localName||ea.nodeName;return U.caseInsensitive?d.toLowerCase()===ea.toLowerCase():d===ea};ha.NameTestPrefixAny=ha.makeNodeTestType(ha.NAMETESTPREFIXANY,{matches:function(d,U){return ha.isElementOrAttribute(d)&&ha.nameSpaceMatches(this.prefix,
U,d)},toString:function(){return this.prefix+":*"}},function(d){this.prefix=d});ha.NameTestQName=ha.makeNodeTestType(ha.NAMETESTQNAME,{matches:function(d,U){return ha.isNodeType([1,2,L.XPATH_NAMESPACE_NODE])(d)&&ha.nameSpaceMatches(this.prefix,U,d)&&ha.localNameMatches(this.localName,U,d)},toString:function(){return this.name}},function(d){var U=d.split(":");this.name=d;this.prefix=1<U.length?U[0]:null;this.localName=U[1<U.length?1:0]});ha.PITest=ha.makeNodeTestType(ha.PI,{matches:function(d,U){return ha.isNodeType([7])(d)&&
(d.target||d.nodeName)===this.name},toString:function(){return da('processing-instruction("','")',this.name)}},function(d){this.name=d});ha.nameTestAny=ha.makeNodeTypeTest(ha.NAMETESTANY,[1,2,L.XPATH_NAMESPACE_NODE],"*");ha.textTest=ha.makeNodeTypeTest(ha.TEXT,[3,4],"text()");ha.commentTest=ha.makeNodeTypeTest(ha.COMMENT,[8],"comment()");ha.nodeTest=ha.makeNodeTypeTest(ha.NODE,[1,2,3,4,7,8,9],"node()");ha.anyPiTest=ha.makeNodeTypeTest(ha.PI,[7],"processing-instruction()");pa.prototype=new p;pa.prototype.constructor=
pa;pa.superclass=p.prototype;pa.prototype.init=function(d){this.variable=d};pa.prototype.toString=function(){return"$"+this.variable};pa.prototype.evaluate=function(d){var U=Ka.resolveQName(this.variable,d.namespaceResolver,d.contextNode,!1);if(null==U[0])throw Error("Cannot resolve QName "+fn);d=d.variableResolver.getVariable(U[1],U[0]);if(!d)throw db.fromMessage("Undeclared variable: "+this.toString());return d};x.prototype=new p;x.prototype.constructor=x;x.superclass=p.prototype;x.prototype.init=
function(d,U){this.functionName=d;this.arguments=U};x.prototype.toString=function(){for(var d=this.functionName+"(",U=0;U<this.arguments.length;U++)0<U&&(d+=", "),d+=this.arguments[U].toString();return d+")"};x.prototype.evaluate=function(d){var U=xa.getFunctionFromContext(this.functionName,d);if(!U)throw Error("Unknown function "+this.functionName);var ea=[d].concat(this.arguments);return U.apply(d.functionResolver.thisArg,ea)};var la=function(d,U){return d.equals(U)},va=function(d,U){return d.notequal(U)},
Da=function(d,U){return d.lessthan(U)},Wa=function(d,U){return d.greaterthan(U)},ib=function(d,U){return d.lessthanorequal(U)},fb=function(d,U){return d.greaterthanorequal(U)};n.prototype=new p;n.prototype.constructor=n;n.superclass=p.prototype;n.prototype.init=function(d){this.str=String(d)};n.prototype.toString=function(){return this.str};n.prototype.evaluate=function(d){return this};n.prototype.string=function(){return this};n.prototype.number=function(){return new w(this.str)};n.prototype.bool=
function(){return new F(this.str)};n.prototype.nodeset=function(){throw Error("Cannot convert string to nodeset");};n.prototype.stringValue=function(){return this.str};n.prototype.numberValue=function(){return this.number().numberValue()};n.prototype.booleanValue=function(){return this.bool().booleanValue()};n.prototype.equals=function(d){return Ka.instance_of(d,F)?this.bool().equals(d):Ka.instance_of(d,w)?this.number().equals(d):Ka.instance_of(d,O)?d.compareWithString(this,la):new F(this.str==d.str)};
n.prototype.notequal=function(d){return Ka.instance_of(d,F)?this.bool().notequal(d):Ka.instance_of(d,w)?this.number().notequal(d):Ka.instance_of(d,O)?d.compareWithString(this,va):new F(this.str!=d.str)};n.prototype.lessthan=function(d){return this.number().lessthan(d)};n.prototype.greaterthan=function(d){return this.number().greaterthan(d)};n.prototype.lessthanorequal=function(d){return this.number().lessthanorequal(d)};n.prototype.greaterthanorequal=function(d){return this.number().greaterthanorequal(d)};
w.prototype=new p;w.prototype.constructor=w;w.superclass=p.prototype;w.prototype.init=function(d){this.num="string"===typeof d?this.parse(d):Number(d)};w.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/;w.prototype.parse=function(d){return this.numberFormat.test(d)?parseFloat(d):Number.NaN};w.prototype.toString=function(){var d=this.num.toString();if(-1!==d.indexOf("e-")){var U=d.split("e-");d=U[0].replace(".","");U=Number(U[1]);for(var ea=0;ea<U-1;ea+=1)d="0"+d;return"0."+d}if(-1!==d.indexOf("e")){U=
d.split("e");d=U[0].replace(".","");U=Number(U[1])+1-d.length;for(ea=0;ea<U;ea+=1)d+="0";return d}return d};w.prototype.evaluate=function(d){return this};w.prototype.string=function(){return new n(this.toString())};w.prototype.number=function(){return this};w.prototype.bool=function(){return new F(this.num)};w.prototype.nodeset=function(){throw Error("Cannot convert number to nodeset");};w.prototype.stringValue=function(){return this.string().stringValue()};w.prototype.numberValue=function(){return this.num};
w.prototype.booleanValue=function(){return this.bool().booleanValue()};w.prototype.negate=function(){return new w(-this.num)};w.prototype.equals=function(d){return Ka.instance_of(d,F)?this.bool().equals(d):Ka.instance_of(d,n)?this.equals(d.number()):Ka.instance_of(d,O)?d.compareWithNumber(this,la):new F(this.num==d.num)};w.prototype.notequal=function(d){return Ka.instance_of(d,F)?this.bool().notequal(d):Ka.instance_of(d,n)?this.notequal(d.number()):Ka.instance_of(d,O)?d.compareWithNumber(this,va):
new F(this.num!=d.num)};w.prototype.lessthan=function(d){return Ka.instance_of(d,O)?d.compareWithNumber(this,Wa):Ka.instance_of(d,F)||Ka.instance_of(d,n)?this.lessthan(d.number()):new F(this.num<d.num)};w.prototype.greaterthan=function(d){return Ka.instance_of(d,O)?d.compareWithNumber(this,Da):Ka.instance_of(d,F)||Ka.instance_of(d,n)?this.greaterthan(d.number()):new F(this.num>d.num)};w.prototype.lessthanorequal=function(d){return Ka.instance_of(d,O)?d.compareWithNumber(this,fb):Ka.instance_of(d,
F)||Ka.instance_of(d,n)?this.lessthanorequal(d.number()):new F(this.num<=d.num)};w.prototype.greaterthanorequal=function(d){return Ka.instance_of(d,O)?d.compareWithNumber(this,ib):Ka.instance_of(d,F)||Ka.instance_of(d,n)?this.greaterthanorequal(d.number()):new F(this.num>=d.num)};w.prototype.plus=function(d){return new w(this.num+d.num)};w.prototype.minus=function(d){return new w(this.num-d.num)};w.prototype.multiply=function(d){return new w(this.num*d.num)};w.prototype.div=function(d){return new w(this.num/
d.num)};w.prototype.mod=function(d){return new w(this.num%d.num)};F.prototype=new p;F.prototype.constructor=F;F.superclass=p.prototype;F.prototype.init=function(d){this.b=!!d};F.prototype.toString=function(){return this.b.toString()};F.prototype.evaluate=function(d){return this};F.prototype.string=function(){return new n(this.b)};F.prototype.number=function(){return new w(this.b)};F.prototype.bool=function(){return this};F.prototype.nodeset=function(){throw Error("Cannot convert boolean to nodeset");
};F.prototype.stringValue=function(){return this.string().stringValue()};F.prototype.numberValue=function(){return this.number().numberValue()};F.prototype.booleanValue=function(){return this.b};F.prototype.not=function(){return new F(!this.b)};F.prototype.equals=function(d){return Ka.instance_of(d,n)||Ka.instance_of(d,w)?this.equals(d.bool()):Ka.instance_of(d,O)?d.compareWithBoolean(this,la):new F(this.b==d.b)};F.prototype.notequal=function(d){return Ka.instance_of(d,n)||Ka.instance_of(d,w)?this.notequal(d.bool()):
Ka.instance_of(d,O)?d.compareWithBoolean(this,va):new F(this.b!=d.b)};F.prototype.lessthan=function(d){return this.number().lessthan(d)};F.prototype.greaterthan=function(d){return this.number().greaterthan(d)};F.prototype.lessthanorequal=function(d){return this.number().lessthanorequal(d)};F.prototype.greaterthanorequal=function(d){return this.number().greaterthanorequal(d)};F.true_=new F(!0);F.false_=new F(!1);W.prototype={};W.prototype.constructor=W;W.superclass=Object.prototype;W.prototype.init=
function(d){this.right=this.left=null;this.node=d;this.depth=1};W.prototype.balance=function(){var d=null==this.left?0:this.left.depth,U=null==this.right?0:this.right.depth;d>U+1?((null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL()):d+1<U&&((null==this.right.left?0:this.right.left.depth)>(null==this.right.right?0:this.right.right.depth)&&this.right.rotateLL(),this.rotateRR())};W.prototype.rotateLL=function(){var d=this.node,
U=this.right;this.node=this.left.node;this.right=this.left;this.left=this.left.left;this.right.left=this.right.right;this.right.right=U;this.right.node=d;this.right.updateInNewLocation();this.updateInNewLocation()};W.prototype.rotateRR=function(){var d=this.node,U=this.left;this.node=this.right.node;this.left=this.right;this.right=this.right.right;this.left.right=this.left.left;this.left.left=U;this.left.node=d;this.left.updateInNewLocation();this.updateInNewLocation()};W.prototype.updateInNewLocation=
function(){this.getDepthFromChildren()};W.prototype.getDepthFromChildren=function(){this.depth=null==this.node?0:1;null!=this.left&&(this.depth=this.left.depth+1);null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};W.prototype.add=function(d){if(d===this.node)return!1;var U=P(d,this.node),ea=!1;-1==U?null==this.left?(this.left=new W(d),ea=!0):(ea=this.left.add(d))&&this.balance():1==U&&(null==this.right?(this.right=new W(d),ea=!0):(ea=this.right.add(d))&&this.balance());
ea&&this.getDepthFromChildren();return ea};O.prototype=new p;O.prototype.constructor=O;O.superclass=p.prototype;O.prototype.init=function(){this.tree=null;this.nodes=[];this.size=0};O.prototype.toString=function(){var d=this.first();return null==d?"":this.stringForNode(d)};O.prototype.evaluate=function(d){return this};O.prototype.string=function(){return new n(this.toString())};O.prototype.stringValue=function(){return this.toString()};O.prototype.number=function(){return new w(this.string())};O.prototype.numberValue=
function(){return Number(this.string())};O.prototype.bool=function(){return new F(this.booleanValue())};O.prototype.booleanValue=function(){return!!this.size};O.prototype.nodeset=function(){return this};O.prototype.stringForNode=function(d){return 9==d.nodeType||1==d.nodeType||11===d.nodeType?this.stringForContainerNode(d):2===d.nodeType?d.value||d.nodeValue:d.isNamespaceNode?d.namespace:d.nodeValue};O.prototype.stringForContainerNode=function(d){var U="";for(d=d.firstChild;null!=d;d=d.nextSibling){var ea=
d.nodeType;if(1===ea||3===ea||4===ea||9===ea||11===ea)U+=this.stringForNode(d)}return U};O.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new W(this.nodes[0]);for(var d=1;d<this.nodes.length;d+=1)this.tree.add(this.nodes[d])}return this.tree};O.prototype.first=function(){var d=this.buildTree();if(null==d)return null;for(;null!=d.left;)d=d.left;return d.node};O.prototype.add=function(d){for(var U=0;U<this.nodes.length;U+=1)if(d===this.nodes[U])return;this.tree=null;this.nodes.push(d);
this.size+=1};O.prototype.addArray=function(d){var U=this;na(function(ea){U.add(ea)},d)};O.prototype.toArray=function(){var d=[];this.toArrayRec(this.buildTree(),d);return d};O.prototype.toArrayRec=function(d,U){null!=d&&(this.toArrayRec(d.left,U),U.push(d.node),this.toArrayRec(d.right,U))};O.prototype.toUnsortedArray=function(){return this.nodes.slice()};O.prototype.compareWithString=function(d,U){for(var ea=this.toUnsortedArray(),ua=0;ua<ea.length;ua++){var qa=new n(this.stringForNode(ea[ua]));
qa=U(qa,d);if(qa.booleanValue())return qa}return new F(!1)};O.prototype.compareWithNumber=function(d,U){for(var ea=this.toUnsortedArray(),ua=0;ua<ea.length;ua++){var qa=new w(this.stringForNode(ea[ua]));qa=U(qa,d);if(qa.booleanValue())return qa}return new F(!1)};O.prototype.compareWithBoolean=function(d,U){return U(this.bool(),d)};O.prototype.compareWithNodeSet=function(d,U){for(var ea=this.toUnsortedArray(),ua=function(T,ba){return U(ba,T)},qa=0;qa<ea.length;qa++){var m=new n(this.stringForNode(ea[qa]));
m=d.compareWithString(m,ua);if(m.booleanValue())return m}return new F(!1)};O.compareWith=K(function(d,U){return Ka.instance_of(U,n)?this.compareWithString(U,d):Ka.instance_of(U,w)?this.compareWithNumber(U,d):Ka.instance_of(U,F)?this.compareWithBoolean(U,d):this.compareWithNodeSet(U,d)});O.prototype.equals=O.compareWith(la);O.prototype.notequal=O.compareWith(va);O.prototype.lessthan=O.compareWith(Da);O.prototype.greaterthan=O.compareWith(Wa);O.prototype.lessthanorequal=O.compareWith(ib);O.prototype.greaterthanorequal=
O.compareWith(fb);O.prototype.union=function(d){var U=new O;U.addArray(this.toUnsortedArray());U.addArray(d.toUnsortedArray());return U};L.prototype={};L.prototype.constructor=L;L.superclass=Object.prototype;L.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'};sa.prototype={};sa.prototype.constructor=sa;sa.superclass=Object.prototype;sa.prototype.extend=function(d){return r(new sa,this,d)};Aa.prototype={};Aa.prototype.constructor=Aa;Aa.superclass=Object.prototype;
Aa.prototype.getVariable=function(d,U){return null};xa.prototype={};xa.prototype.constructor=xa;xa.superclass=Object.prototype;xa.prototype.addStandardFunctions=function(){this.functions["{}last"]=Qa.last;this.functions["{}position"]=Qa.position;this.functions["{}count"]=Qa.count;this.functions["{}id"]=Qa.id;this.functions["{}local-name"]=Qa.localName;this.functions["{}namespace-uri"]=Qa.namespaceURI;this.functions["{}name"]=Qa.name;this.functions["{}string"]=Qa.string;this.functions["{}concat"]=
Qa.concat;this.functions["{}starts-with"]=Qa.startsWith;this.functions["{}contains"]=Qa.contains;this.functions["{}substring-before"]=Qa.substringBefore;this.functions["{}substring-after"]=Qa.substringAfter;this.functions["{}substring"]=Qa.substring;this.functions["{}string-length"]=Qa.stringLength;this.functions["{}normalize-space"]=Qa.normalizeSpace;this.functions["{}translate"]=Qa.translate;this.functions["{}boolean"]=Qa.boolean_;this.functions["{}not"]=Qa.not;this.functions["{}true"]=Qa.true_;
this.functions["{}false"]=Qa.false_;this.functions["{}lang"]=Qa.lang;this.functions["{}number"]=Qa.number;this.functions["{}sum"]=Qa.sum;this.functions["{}floor"]=Qa.floor;this.functions["{}ceiling"]=Qa.ceiling;this.functions["{}round"]=Qa.round};xa.prototype.addFunction=function(d,U,ea){this.functions["{"+d+"}"+U]=ea};xa.getFunctionFromContext=function(d,U){d=Ka.resolveQName(d,U.namespaceResolver,U.contextNode,!1);if(null===d[0])throw Error("Cannot resolve QName "+name);return U.functionResolver.getFunction(d[1],
d[0])};xa.prototype.getFunction=function(d,U){return this.functions["{"+U+"}"+d]};Ea.prototype={};Ea.prototype.constructor=Ea;Ea.superclass=Object.prototype;Ea.prototype.getNamespace=function(d,U){if("xml"==d)return f.XML_NAMESPACE_URI;if("xmlns"==d)return f.XMLNS_NAMESPACE_URI;9==U.nodeType?U=U.documentElement:2==U.nodeType?U=Z.getOwnerElement(U):1!=U.nodeType&&(U=U.parentNode);for(;null!=U&&1==U.nodeType;){for(var ea=U.attributes,ua=0;ua<ea.length;ua++){var qa=ea.item(ua),m=qa.name||qa.nodeName;
if("xmlns"===m&&""===d||m==="xmlns:"+d)return String(qa.value||qa.nodeValue)}U=U.parentNode}return null};var Qa={last:function(d){if(1!=arguments.length)throw Error("Function last expects ()");return new w(d.contextSize)},position:function(d){if(1!=arguments.length)throw Error("Function position expects ()");return new w(d.contextPosition)},count:function(){var d=arguments[0],U;if(2!=arguments.length||!Ka.instance_of(U=arguments[1].evaluate(d),O))throw Error("Function count expects (node-set)");return new w(U.size)},
id:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function id expects (object)");var U=arguments[1].evaluate(d);U=Ka.instance_of(U,O)?U.toArray().join(" "):U.stringValue();U=U.split(/[\x0d\x0a\x09\x20]+/);var ea=0,ua=new O;d=9==d.contextNode.nodeType?d.contextNode:d.contextNode.ownerDocument;for(var qa=0;qa<U.length;qa++){var m=d.getElementById?d.getElementById(U[qa]):Ka.getElementById(d,U[qa]);null!=m&&(ua.add(m),ea++)}return ua},localName:function(d,U){if(1==arguments.length)var ea=
d.contextNode;else if(2==arguments.length)ea=U.evaluate(d).first();else throw Error("Function local-name expects (node-set?)");return null==ea?new n(""):new n(ea.localName||ea.baseName||ea.target||ea.nodeName||"")},namespaceURI:function(){var d=arguments[0];if(1==arguments.length)d=d.contextNode;else if(2==arguments.length)d=arguments[1].evaluate(d).first();else throw Error("Function namespace-uri expects (node-set?)");return null==d?new n(""):new n(d.namespaceURI)},name:function(){var d=arguments[0];
if(1==arguments.length)d=d.contextNode;else if(2==arguments.length)d=arguments[1].evaluate(d).first();else throw Error("Function name expects (node-set?)");return null==d?new n(""):1==d.nodeType?new n(d.nodeName):2==d.nodeType?new n(d.name||d.nodeName):7===d.nodeType?new n(d.target||d.nodeName):null==d.localName?new n(""):new n(d.localName)},string:function(){var d=arguments[0];if(1==arguments.length)return new n(O.prototype.stringForNode(d.contextNode));if(2==arguments.length)return arguments[1].evaluate(d).string();
throw Error("Function string expects (object?)");},concat:function(d){if(3>arguments.length)throw Error("Function concat expects (string, string[, string]*)");for(var U="",ea=1;ea<arguments.length;ea++)U+=arguments[ea].evaluate(d).stringValue();return new n(U)},startsWith:function(){var d=arguments[0];if(3!=arguments.length)throw Error("Function startsWith expects (string, string)");var U=arguments[1].evaluate(d).stringValue();d=arguments[2].evaluate(d).stringValue();return new F(U.substring(0,d.length)==
d)},contains:function(){var d=arguments[0];if(3!=arguments.length)throw Error("Function contains expects (string, string)");var U=arguments[1].evaluate(d).stringValue();d=arguments[2].evaluate(d).stringValue();return new F(-1!==U.indexOf(d))},substringBefore:function(){var d=arguments[0];if(3!=arguments.length)throw Error("Function substring-before expects (string, string)");var U=arguments[1].evaluate(d).stringValue();d=arguments[2].evaluate(d).stringValue();return new n(U.substring(0,U.indexOf(d)))},
substringAfter:function(){var d=arguments[0];if(3!=arguments.length)throw Error("Function substring-after expects (string, string)");var U=arguments[1].evaluate(d).stringValue();d=arguments[2].evaluate(d).stringValue();if(0==d.length)return new n(U);var ea=U.indexOf(d);return-1==ea?new n(""):new n(U.substring(ea+d.length))},substring:function(){var d=arguments[0];if(3!=arguments.length&&4!=arguments.length)throw Error("Function substring expects (string, number, number?)");var U=arguments[1].evaluate(d).stringValue(),
ea=Math.round(arguments[2].evaluate(d).numberValue())-1;d=4==arguments.length?ea+Math.round(arguments[3].evaluate(d).numberValue()):void 0;return new n(U.substring(ea,d))},stringLength:function(){var d=arguments[0];if(1==arguments.length)d=O.prototype.stringForNode(d.contextNode);else if(2==arguments.length)d=arguments[1].evaluate(d).stringValue();else throw Error("Function string-length expects (string?)");return new w(d.length)},normalizeSpace:function(){var d=arguments[0];if(1==arguments.length)d=
O.prototype.stringForNode(d.contextNode);else if(2==arguments.length)d=arguments[1].evaluate(d).stringValue();else throw Error("Function normalize-space expects (string?)");for(var U=0,ea=d.length-1;Ka.isSpace(d.charCodeAt(ea));)ea--;for(var ua="";U<=ea&&Ka.isSpace(d.charCodeAt(U));)U++;for(;U<=ea;)if(Ka.isSpace(d.charCodeAt(U)))for(ua+=" ";U<=ea&&Ka.isSpace(d.charCodeAt(U));)U++;else ua+=d.charAt(U),U++;return new n(ua)},translate:function(d,U,ea,ua){if(4!=arguments.length)throw Error("Function translate expects (string, string, string)");
var qa=U.evaluate(d).stringValue(),m=ea.evaluate(d).stringValue(),T=ua.evaluate(d).stringValue(),ba=Ba(function(ra,wa,Fa){wa in ra||(ra[wa]=Fa>T.length?"":T[Fa]);return ra},{},m);qa=cb("",La(function(ra){return ra in ba?ba[ra]:ra},qa));return new n(qa)},boolean_:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function boolean expects (object)");return arguments[1].evaluate(d).bool()},not:function(d,U){if(2!=arguments.length)throw Error("Function not expects (object)");return U.evaluate(d).bool().not()},
true_:function(){if(1!=arguments.length)throw Error("Function true expects ()");return F.true_},false_:function(){if(1!=arguments.length)throw Error("Function false expects ()");return F.false_},lang:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function lang expects (string)");for(var U,ea=d.contextNode;null!=ea&&9!=ea.nodeType;ea=ea.parentNode){var ua=ea.getAttributeNS(f.XML_NAMESPACE_URI,"lang");if(null!=ua){U=String(ua);break}}if(null==U)return F.false_;d=arguments[1].evaluate(d).stringValue();
return new F(U.substring(0,d.length)==d&&(U.length==d.length||"-"==U.charAt(d.length)))},number:function(){var d=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw Error("Function number expects (object?)");return 1==arguments.length?new w(O.prototype.stringForNode(d.contextNode)):arguments[1].evaluate(d).number()},sum:function(){var d=arguments[0],U;if(2!=arguments.length||!Ka.instance_of(U=arguments[1].evaluate(d),O))throw Error("Function sum expects (node-set)");U=U.toUnsortedArray();
for(var ea=d=0;ea<U.length;ea++)d+=(new w(O.prototype.stringForNode(U[ea]))).numberValue();return new w(d)},floor:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function floor expects (number)");return new w(Math.floor(arguments[1].evaluate(d).numberValue()))},ceiling:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function ceiling expects (number)");return new w(Math.ceil(arguments[1].evaluate(d).numberValue()))},round:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function round expects (number)");
return new w(Math.round(arguments[1].evaluate(d).numberValue()))}},Ka={isAttribute:function(d){return d&&(2===d.nodeType||d.ownerElement)},splitQName:function(d){var U=d.indexOf(":");return-1==U?[null,d]:[d.substring(0,U),d.substring(U+1)]},resolveQName:function(d,U,ea,ua){d=Ka.splitQName(d);null!=d[0]?d[0]=U.getNamespace(d[0],ea):ua?(d[0]=U.getNamespace("",ea),null==d[0]&&(d[0]="")):d[0]="";return d},isSpace:function(d){return 9==d||13==d||10==d||32==d},isLetter:function(d){return 65<=d&&90>=d||
97<=d&&122>=d||192<=d&&214>=d||216<=d&&246>=d||248<=d&&255>=d||256<=d&&305>=d||308<=d&&318>=d||321<=d&&328>=d||330<=d&&382>=d||384<=d&&451>=d||461<=d&&496>=d||500<=d&&501>=d||506<=d&&535>=d||592<=d&&680>=d||699<=d&&705>=d||902==d||904<=d&&906>=d||908==d||910<=d&&929>=d||931<=d&&974>=d||976<=d&&982>=d||986==d||988==d||990==d||992==d||994<=d&&1011>=d||1025<=d&&1036>=d||1038<=d&&1103>=d||1105<=d&&1116>=d||1118<=d&&1153>=d||1168<=d&&1220>=d||1223<=d&&1224>=d||1227<=d&&1228>=d||1232<=d&&1259>=d||1262<=
d&&1269>=d||1272<=d&&1273>=d||1329<=d&&1366>=d||1369==d||1377<=d&&1414>=d||1488<=d&&1514>=d||1520<=d&&1522>=d||1569<=d&&1594>=d||1601<=d&&1610>=d||1649<=d&&1719>=d||1722<=d&&1726>=d||1728<=d&&1742>=d||1744<=d&&1747>=d||1749==d||1765<=d&&1766>=d||2309<=d&&2361>=d||2365==d||2392<=d&&2401>=d||2437<=d&&2444>=d||2447<=d&&2448>=d||2451<=d&&2472>=d||2474<=d&&2480>=d||2482==d||2486<=d&&2489>=d||2524<=d&&2525>=d||2527<=d&&2529>=d||2544<=d&&2545>=d||2565<=d&&2570>=d||2575<=d&&2576>=d||2579<=d&&2600>=d||2602<=
d&&2608>=d||2610<=d&&2611>=d||2613<=d&&2614>=d||2616<=d&&2617>=d||2649<=d&&2652>=d||2654==d||2674<=d&&2676>=d||2693<=d&&2699>=d||2701==d||2703<=d&&2705>=d||2707<=d&&2728>=d||2730<=d&&2736>=d||2738<=d&&2739>=d||2741<=d&&2745>=d||2749==d||2784==d||2821<=d&&2828>=d||2831<=d&&2832>=d||2835<=d&&2856>=d||2858<=d&&2864>=d||2866<=d&&2867>=d||2870<=d&&2873>=d||2877==d||2908<=d&&2909>=d||2911<=d&&2913>=d||2949<=d&&2954>=d||2958<=d&&2960>=d||2962<=d&&2965>=d||2969<=d&&2970>=d||2972==d||2974<=d&&2975>=d||2979<=
d&&2980>=d||2984<=d&&2986>=d||2990<=d&&2997>=d||2999<=d&&3001>=d||3077<=d&&3084>=d||3086<=d&&3088>=d||3090<=d&&3112>=d||3114<=d&&3123>=d||3125<=d&&3129>=d||3168<=d&&3169>=d||3205<=d&&3212>=d||3214<=d&&3216>=d||3218<=d&&3240>=d||3242<=d&&3251>=d||3253<=d&&3257>=d||3294==d||3296<=d&&3297>=d||3333<=d&&3340>=d||3342<=d&&3344>=d||3346<=d&&3368>=d||3370<=d&&3385>=d||3424<=d&&3425>=d||3585<=d&&3630>=d||3632==d||3634<=d&&3635>=d||3648<=d&&3653>=d||3713<=d&&3714>=d||3716==d||3719<=d&&3720>=d||3722==d||3725==
d||3732<=d&&3735>=d||3737<=d&&3743>=d||3745<=d&&3747>=d||3749==d||3751==d||3754<=d&&3755>=d||3757<=d&&3758>=d||3760==d||3762<=d&&3763>=d||3773==d||3776<=d&&3780>=d||3904<=d&&3911>=d||3913<=d&&3945>=d||4256<=d&&4293>=d||4304<=d&&4342>=d||4352==d||4354<=d&&4355>=d||4357<=d&&4359>=d||4361==d||4363<=d&&4364>=d||4366<=d&&4370>=d||4412==d||4414==d||4416==d||4428==d||4430==d||4432==d||4436<=d&&4437>=d||4441==d||4447<=d&&4449>=d||4451==d||4453==d||4455==d||4457==d||4461<=d&&4462>=d||4466<=d&&4467>=d||4469==
d||4510==d||4520==d||4523==d||4526<=d&&4527>=d||4535<=d&&4536>=d||4538==d||4540<=d&&4546>=d||4587==d||4592==d||4601==d||7680<=d&&7835>=d||7840<=d&&7929>=d||7936<=d&&7957>=d||7960<=d&&7965>=d||7968<=d&&8005>=d||8008<=d&&8013>=d||8016<=d&&8023>=d||8025==d||8027==d||8029==d||8031<=d&&8061>=d||8064<=d&&8116>=d||8118<=d&&8124>=d||8126==d||8130<=d&&8132>=d||8134<=d&&8140>=d||8144<=d&&8147>=d||8150<=d&&8155>=d||8160<=d&&8172>=d||8178<=d&&8180>=d||8182<=d&&8188>=d||8486==d||8490<=d&&8491>=d||8494==d||8576<=
d&&8578>=d||12353<=d&&12436>=d||12449<=d&&12538>=d||12549<=d&&12588>=d||44032<=d&&55203>=d||19968<=d&&40869>=d||12295==d||12321<=d&&12329>=d},isNCNameChar:function(d){return 48<=d&&57>=d||1632<=d&&1641>=d||1776<=d&&1785>=d||2406<=d&&2415>=d||2534<=d&&2543>=d||2662<=d&&2671>=d||2790<=d&&2799>=d||2918<=d&&2927>=d||3047<=d&&3055>=d||3174<=d&&3183>=d||3302<=d&&3311>=d||3430<=d&&3439>=d||3664<=d&&3673>=d||3792<=d&&3801>=d||3872<=d&&3881>=d||46==d||45==d||95==d||Ka.isLetter(d)||768<=d&&837>=d||864<=d&&
865>=d||1155<=d&&1158>=d||1425<=d&&1441>=d||1443<=d&&1465>=d||1467<=d&&1469>=d||1471==d||1473<=d&&1474>=d||1476==d||1611<=d&&1618>=d||1648==d||1750<=d&&1756>=d||1757<=d&&1759>=d||1760<=d&&1764>=d||1767<=d&&1768>=d||1770<=d&&1773>=d||2305<=d&&2307>=d||2364==d||2366<=d&&2380>=d||2381==d||2385<=d&&2388>=d||2402<=d&&2403>=d||2433<=d&&2435>=d||2492==d||2494==d||2495==d||2496<=d&&2500>=d||2503<=d&&2504>=d||2507<=d&&2509>=d||2519==d||2530<=d&&2531>=d||2562==d||2620==d||2622==d||2623==d||2624<=d&&2626>=d||
2631<=d&&2632>=d||2635<=d&&2637>=d||2672<=d&&2673>=d||2689<=d&&2691>=d||2748==d||2750<=d&&2757>=d||2759<=d&&2761>=d||2763<=d&&2765>=d||2817<=d&&2819>=d||2876==d||2878<=d&&2883>=d||2887<=d&&2888>=d||2891<=d&&2893>=d||2902<=d&&2903>=d||2946<=d&&2947>=d||3006<=d&&3010>=d||3014<=d&&3016>=d||3018<=d&&3021>=d||3031==d||3073<=d&&3075>=d||3134<=d&&3140>=d||3142<=d&&3144>=d||3146<=d&&3149>=d||3157<=d&&3158>=d||3202<=d&&3203>=d||3262<=d&&3268>=d||3270<=d&&3272>=d||3274<=d&&3277>=d||3285<=d&&3286>=d||3330<=
d&&3331>=d||3390<=d&&3395>=d||3398<=d&&3400>=d||3402<=d&&3405>=d||3415==d||3633==d||3636<=d&&3642>=d||3655<=d&&3662>=d||3761==d||3764<=d&&3769>=d||3771<=d&&3772>=d||3784<=d&&3789>=d||3864<=d&&3865>=d||3893==d||3895==d||3897==d||3902==d||3903==d||3953<=d&&3972>=d||3974<=d&&3979>=d||3984<=d&&3989>=d||3991==d||3993<=d&&4013>=d||4017<=d&&4023>=d||4025==d||8400<=d&&8412>=d||8417==d||12330<=d&&12335>=d||12441==d||12442==d||183==d||720==d||721==d||903==d||1600==d||3654==d||3782==d||12293==d||12337<=d&&12341>=
d||12445<=d&&12446>=d||12540<=d&&12542>=d},coalesceText:function(d){for(d=d.firstChild;null!=d;d=d.nextSibling)if(3==d.nodeType||4==d.nodeType){var U=d.nodeValue,ea=d;for(d=d.nextSibling;null!=d&&(3==d.nodeType||4==d.nodeType);){U+=d.nodeValue;var ua=d;d=d.nextSibling;ua.parentNode.removeChild(ua)}if(4==ea.nodeType)if(ua=ea.parentNode,null==ea.nextSibling)ua.removeChild(ea),ua.appendChild(ua.ownerDocument.createTextNode(U));else{var qa=ea.nextSibling;ua.removeChild(ea);ua.insertBefore(ua.ownerDocument.createTextNode(U),
qa)}else ea.nodeValue=U;if(null==d)break}else 1==d.nodeType&&Ka.coalesceText(d)},instance_of:function(d,U){for(;null!=d;){if(d.constructor===U)return!0;if(d===Object)break;d=d.constructor.superclass}return!1},getElementById:function(d,U){if(1==d.nodeType&&(d.getAttribute("id")==U||d.getAttributeNS(null,"id")==U))return d;for(d=d.firstChild;null!=d;d=d.nextSibling){var ea=Ka.getElementById(d,U);if(null!=ea)return ea}return null}},db=function(){function d(U,ea,ua){var qa=Error,m=qa.call;a:{var T=ea?
": "+ea.toString():"";switch(U){case d.INVALID_EXPRESSION_ERR:T="Invalid expression"+T;break a;case d.TYPE_ERR:T="Type error"+T;break a}T=null}ua=m.call(qa,this,T||ua);ua.code=U;ua.exception=ea;return ua}d.prototype=Object.create(Error.prototype);d.prototype.constructor=d;d.superclass=Error;d.prototype.toString=function(){return this.message};d.fromMessage=function(U,ea){return new d(null,ea,U)};d.INVALID_EXPRESSION_ERR=51;d.TYPE_ERR=52;return d}();za.prototype={};za.prototype.constructor=za;za.superclass=
Object.prototype;za.getOwnerDocument=function(d){return 9===d.nodeType?d:d.ownerDocument};za.detectHtmlDom=function(d){if(!d)return!1;d=za.getOwnerDocument(d);try{return d.implementation.hasFeature("HTML","2.0")}catch(U){return!0}};za.prototype.evaluate=function(d,U,ea){this.context.expressionContextNode=d;this.context.caseInsensitive=za.detectHtmlDom(d);d=this.xpath.evaluate(this.context);return new ma(d,U)};c.prototype={};c.prototype.constructor=c;c.superclass=Object.prototype;c.prototype.getNamespace=
function(d,U){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(d)};X.prototype={};X.prototype.constructor=X;X.superclass=Object.prototype;X.prototype.lookupNamespaceURI=function(d){return this.namespaceResolver.getNamespace(d,this.node)};ma.prototype={};ma.prototype.constructor=ma;ma.superclass=Object.prototype;ma.prototype.iterateNext=function(){if(this.resultType!=ma.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=ma.ORDERED_NODE_ITERATOR_TYPE)throw new db(db.TYPE_ERR);
return this.nodes[this.iteratorIndex++]};ma.prototype.snapshotItem=function(d){if(this.resultType!=ma.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=ma.ORDERED_NODE_SNAPSHOT_TYPE)throw new db(db.TYPE_ERR);return this.nodes[d]};ma.ANY_TYPE=0;ma.NUMBER_TYPE=1;ma.STRING_TYPE=2;ma.BOOLEAN_TYPE=3;ma.UNORDERED_NODE_ITERATOR_TYPE=4;ma.ORDERED_NODE_ITERATOR_TYPE=5;ma.UNORDERED_NODE_SNAPSHOT_TYPE=6;ma.ORDERED_NODE_SNAPSHOT_TYPE=7;ma.ANY_UNORDERED_NODE_TYPE=8;ma.FIRST_ORDERED_NODE_TYPE=9;try{var Xa=!0;try{document.implementation&&
document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(Xa=!1)}catch(d){}Xa&&ka(document,new b)}catch(d){}ka(u,new b);(function(){function d(Va){return{getNamespace:function(A,ia){return Va(A,ia)||wa.getNamespace(A,ia)}}}function U(Va){return d(function(A){return Va[A]})}function ea(Va){if(null===Va||"undefined"===typeof Va||Va instanceof n||Va instanceof F||Va instanceof w||Va instanceof O)return Va;switch(typeof Va){case "string":return new n(Va);case "boolean":return new F(Va);
case "number":return new w(Va)}var A=new O;A.addArray([].concat(Va));return A}function ua(Va){return function(A){var ia=Array.prototype.slice.call(arguments,1).map(function(oa){return oa.evaluate(A)});ia=Va.apply(this,[].concat(A,ia));return ea(ia)}}function qa(Va){return{getFunction:function(A,ia){var oa=Va(A,ia);return oa?ua(oa):Fa.getFunction(A,ia)}}}function m(Va){return qa(function(A){return Va[A]})}function T(Va){return{getVariable:function(A,ia){A=Va(A,ia);return ea(A)}}}function ba(Va){if(Va){if("function"===
typeof Va.getVariable)return T(Va.getVariable.bind(Va));if("function"===typeof Va)return T(Va);if("object"===typeof Va)return T(function(A){return Va[A]})}return $a}var ra=new b,wa=new Ea,Fa=new xa,$a=new Aa,lb={evaluate:function(Va){var A=this.expression,ia=new sa;if(Va){var oa=(oa=Va.namespaces)&&"function"===typeof oa.getNamespace?d(oa.getNamespace.bind(oa)):"function"===typeof oa?d(oa):"object"===typeof oa?U(oa):wa;ia.namespaceResolver=oa;oa=(oa=Va.functions)&&"function"===typeof oa.getFunction?
qa(oa.getFunction.bind(oa)):"function"===typeof oa?qa(oa):"object"===typeof oa?m(oa):Fa;ia.functionResolver=oa;ia.variableResolver=ba(Va.variables);ia.expressionContextNode=Va.node;"allowAnyNamespaceForNoPrefix"in Va&&(ia.allowAnyNamespaceForNoPrefix=Va.allowAnyNamespaceForNoPrefix);"isHtml"in Va&&(ia.isHtml=Va.isHtml)}else ia.namespaceResolver=wa;return A.evaluate(ia)},evaluateNumber:function(Va){return this.evaluate(Va).numberValue()},evaluateString:function(Va){return this.evaluate(Va).stringValue()},
evaluateBoolean:function(Va){return this.evaluate(Va).booleanValue()},evaluateNodeSet:function(Va){return this.evaluate(Va).nodeset()},select:function(Va){return this.evaluateNodeSet(Va).toArray()},select1:function(Va){return this.select(Va)[0]}};u.parse=function(Va){Va=ra.parse(Va);return Object.create(lb,{expression:{value:Va}})}})();u.XPath=f;u.XPathParser=b;u.XPathResult=ma;u.Step=fa;u.NodeTest=ha;u.BarOperation=aa;u.NamespaceResolver=Ea;u.FunctionResolver=xa;u.VariableResolver=Aa;u.Utilities=
Ka;u.XPathContext=sa;u.XNodeSet=O;u.XBoolean=F;u.XString=n;u.XNumber=w;u.select=function(d,U,ea){return u.selectWithResolver(d,U,null,ea)};u.useNamespaces=function(d){var U={mappings:d||{},lookupNamespaceURI:function(ea){return this.mappings[ea]}};return function(ea,ua,qa){return u.selectWithResolver(ea,ua,U,qa)}};u.selectWithResolver=function(d,U,ea,ua){d=(new za(d,ea,new b)).evaluate(U,ma.ANY_TYPE,null);d.resultType==ma.STRING_TYPE?d=d.stringValue:d.resultType==ma.NUMBER_TYPE?d=d.numberValue:d.resultType==
ma.BOOLEAN_TYPE?d=d.booleanValue:(d=d.nodes,ua&&(d=d[0]));return d};u.select1=function(d,U){return u.select(d,U,!0)}})(H)},function(R,H,E){function u(h,r){"string"===typeof h&&(h=l.util.createBuffer(h));if(l.util.isArray(h)&&4<h.length){var b=h;h=l.util.createBuffer();for(var f=0;f<b.length;++f)h.putByte(b[f])}if(h.length()<r)throw Error("Invalid IV length; got "+h.length()+" bytes and expected "+r+" bytes.");if(!l.util.isArray(h)){b=[];r/=4;for(f=0;f<r;++f)b.push(h.getInt32());h=b}return h}function K(h){h[h.length-
1]=h[h.length-1]+1&4294967295}function V(h){return[h/4294967296|0,h&4294967295]}var l=E(5);E(7);l.cipher=l.cipher||{};R=R.exports=l.cipher.modes=l.cipher.modes||{};R.ecb=function(h){h=h||{};this.name="ECB";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints)};R.ecb.prototype.start=function(h){};R.ecb.prototype.encrypt=function(h,r,b){if(h.length()<this.blockSize&&!(b&&0<h.length()))return!0;for(b=0;b<this._ints;++b)this._inBlock[b]=
h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(b=0;b<this._ints;++b)r.putInt32(this._outBlock[b])};R.ecb.prototype.decrypt=function(h,r,b){if(h.length()<this.blockSize&&!(b&&0<h.length()))return!0;for(b=0;b<this._ints;++b)this._inBlock[b]=h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(b=0;b<this._ints;++b)r.putInt32(this._outBlock[b])};R.ecb.prototype.pad=function(h,r){r=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();h.fillWithByte(r,r);
return!0};R.ecb.prototype.unpad=function(h,r){if(0<r.overflow)return!1;r=h.length();r=h.at(r-1);if(r>this.blockSize<<2)return!1;h.truncate(r);return!0};R.cbc=function(h){h=h||{};this.name="CBC";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints)};R.cbc.prototype.start=function(h){if(null===h.iv){if(!this._prev)throw Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in h)this._iv=u(h.iv,
this.blockSize),this._prev=this._iv.slice(0);else throw Error("Invalid IV parameter.");};R.cbc.prototype.encrypt=function(h,r,b){if(h.length()<this.blockSize&&!(b&&0<h.length()))return!0;for(b=0;b<this._ints;++b)this._inBlock[b]=this._prev[b]^h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(b=0;b<this._ints;++b)r.putInt32(this._outBlock[b]);this._prev=this._outBlock};R.cbc.prototype.decrypt=function(h,r,b){if(h.length()<this.blockSize&&!(b&&0<h.length()))return!0;for(b=0;b<this._ints;++b)this._inBlock[b]=
h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(b=0;b<this._ints;++b)r.putInt32(this._prev[b]^this._outBlock[b]);this._prev=this._inBlock.slice(0)};R.cbc.prototype.pad=function(h,r){r=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();h.fillWithByte(r,r);return!0};R.cbc.prototype.unpad=function(h,r){if(0<r.overflow)return!1;r=h.length();r=h.at(r-1);if(r>this.blockSize<<2)return!1;h.truncate(r);return!0};R.cfb=function(h){h=h||{};this.name="CFB";this.cipher=h.cipher;
this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);this._partialBlock=Array(this._ints);this._partialOutput=l.util.createBuffer();this._partialBytes=0};R.cfb.prototype.start=function(h){if(!("iv"in h))throw Error("Invalid IV parameter.");this._iv=u(h.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};R.cfb.prototype.encrypt=function(h,r,b){var f=h.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);
if(0===this._partialBytes&&f>=this.blockSize)for(var p=0;p<this._ints;++p)this._inBlock[p]=h.getInt32()^this._outBlock[p],r.putInt32(this._inBlock[p]);else{var z=(this.blockSize-f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(p=0;p<this._ints;++p)this._partialBlock[p]=h.getInt32()^this._outBlock[p],this._partialOutput.putInt32(this._partialBlock[p]);if(0<z)h.read-=this.blockSize;else for(p=0;p<this._ints;++p)this._inBlock[p]=this._partialBlock[p];0<this._partialBytes&&
this._partialOutput.getBytes(this._partialBytes);if(0<z&&!b)return r.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,!0;r.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}};R.cfb.prototype.decrypt=function(h,r,b){var f=h.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize)for(var p=0;p<this._ints;++p)this._inBlock[p]=h.getInt32(),r.putInt32(this._inBlock[p]^this._outBlock[p]);
else{var z=(this.blockSize-f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(p=0;p<this._ints;++p)this._partialBlock[p]=h.getInt32(),this._partialOutput.putInt32(this._partialBlock[p]^this._outBlock[p]);if(0<z)h.read-=this.blockSize;else for(p=0;p<this._ints;++p)this._inBlock[p]=this._partialBlock[p];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<z&&!b)return r.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,
!0;r.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}};R.ofb=function(h){h=h||{};this.name="OFB";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);this._partialOutput=l.util.createBuffer();this._partialBytes=0};R.ofb.prototype.start=function(h){if(!("iv"in h))throw Error("Invalid IV parameter.");this._iv=u(h.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};R.ofb.prototype.encrypt=
function(h,r,b){var f=h.length();if(0===h.length())return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize)for(var p=0;p<this._ints;++p)r.putInt32(h.getInt32()^this._outBlock[p]),this._inBlock[p]=this._outBlock[p];else{var z=(this.blockSize-f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(p=0;p<this._ints;++p)this._partialOutput.putInt32(h.getInt32()^this._outBlock[p]);if(0<z)h.read-=this.blockSize;else for(p=0;p<this._ints;++p)this._inBlock[p]=
this._outBlock[p];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<z&&!b)return r.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,!0;r.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}};R.ofb.prototype.decrypt=R.ofb.prototype.encrypt;R.ctr=function(h){h=h||{};this.name="CTR";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);
this._partialOutput=l.util.createBuffer();this._partialBytes=0};R.ctr.prototype.start=function(h){if(!("iv"in h))throw Error("Invalid IV parameter.");this._iv=u(h.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};R.ctr.prototype.encrypt=function(h,r,b){var f=h.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize)for(var p=0;p<this._ints;++p)r.putInt32(h.getInt32()^this._outBlock[p]);else{var z=(this.blockSize-
f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(p=0;p<this._ints;++p)this._partialOutput.putInt32(h.getInt32()^this._outBlock[p]);0<z&&(h.read-=this.blockSize);0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<z&&!b)return r.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,!0;r.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}K(this._inBlock)};R.ctr.prototype.decrypt=R.ctr.prototype.encrypt;
R.gcm=function(h){h=h||{};this.name="GCM";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints);this._partialOutput=l.util.createBuffer();this._partialBytes=0;this._R=3774873600};R.gcm.prototype.start=function(h){if(!("iv"in h))throw Error("Invalid IV parameter.");var r=l.util.createBuffer(h.iv);this._cipherLength=0;var b="additionalData"in h?l.util.createBuffer(h.additionalData):l.util.createBuffer();this._tagLength=
"tagLength"in h?h.tagLength:128;this._tag=null;if(h.decrypt&&(this._tag=l.util.createBuffer(h.tag).getBytes(),this._tag.length!==this._tagLength/8))throw Error("Authentication tag does not match tag length.");this._hashBlock=Array(this._ints);this.tag=null;this._hashSubkey=Array(this._ints);this.cipher.encrypt([0,0,0,0],this._hashSubkey);this.componentBits=4;this._m=this.generateHashTable(this._hashSubkey,this.componentBits);h=r.length();if(12===h)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),
1];else{for(this._j0=[0,0,0,0];0<r.length();)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(V(8*h)))}this._inBlock=this._j0.slice(0);K(this._inBlock);this._partialBytes=0;b=l.util.createBuffer(b);this._aDataLength=V(8*b.length());(r=b.length()%this.blockSize)&&b.fillWithByte(0,this.blockSize-r);for(this._s=[0,0,0,0];0<b.length();)this._s=this.ghash(this._hashSubkey,this._s,[b.getInt32(),
b.getInt32(),b.getInt32(),b.getInt32()])};R.gcm.prototype.encrypt=function(h,r,b){var f=h.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize){for(var p=0;p<this._ints;++p)r.putInt32(this._outBlock[p]^=h.getInt32());this._cipherLength+=this.blockSize}else{var z=(this.blockSize-f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(p=0;p<this._ints;++p)this._partialOutput.putInt32(h.getInt32()^this._outBlock[p]);
if(0>=z||b){b?(p=f%this.blockSize,this._cipherLength+=p,this._partialOutput.truncate(this.blockSize-p)):this._cipherLength+=this.blockSize;for(p=0;p<this._ints;++p)this._outBlock[p]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<z&&!b)return h.read-=this.blockSize,r.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,!0;r.putBytes(this._partialOutput.getBytes(f-this._partialBytes));
this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock);K(this._inBlock)};R.gcm.prototype.decrypt=function(h,r,b){var f=h.length();if(f<this.blockSize&&!(b&&0<f))return!0;this.cipher.encrypt(this._inBlock,this._outBlock);K(this._inBlock);this._hashBlock[0]=h.getInt32();this._hashBlock[1]=h.getInt32();this._hashBlock[2]=h.getInt32();this._hashBlock[3]=h.getInt32();this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(h=0;h<this._ints;++h)r.putInt32(this._outBlock[h]^
this._hashBlock[h]);this._cipherLength=f<this.blockSize?this._cipherLength+f%this.blockSize:this._cipherLength+this.blockSize};R.gcm.prototype.afterFinish=function(h,r){var b=!0;r.decrypt&&r.overflow&&h.truncate(this.blockSize-r.overflow);this.tag=l.util.createBuffer();h=this._aDataLength.concat(V(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,h);h=[];this.cipher.encrypt(this._j0,h);for(var f=0;f<this._ints;++f)this.tag.putInt32(this._s[f]^h[f]);this.tag.truncate(this.tag.length()%
(this._tagLength/8));r.decrypt&&this.tag.bytes()!==this._tag&&(b=!1);return b};R.gcm.prototype.multiply=function(h,r){var b=[0,0,0,0];r=r.slice(0);for(var f=0;128>f;++f)h[f/32|0]&1<<31-f%32&&(b[0]^=r[0],b[1]^=r[1],b[2]^=r[2],b[3]^=r[3]),this.pow(r,r);return b};R.gcm.prototype.pow=function(h,r){for(var b=h[3]&1,f=3;0<f;--f)r[f]=h[f]>>>1|(h[f-1]&1)<<31;r[0]=h[0]>>>1;b&&(r[0]^=this._R)};R.gcm.prototype.tableMultiply=function(h){for(var r=[0,0,0,0],b=0;32>b;++b){var f=this._m[b][h[b/8|0]>>>4*(7-b%8)&
15];r[0]^=f[0];r[1]^=f[1];r[2]^=f[2];r[3]^=f[3]}return r};R.gcm.prototype.ghash=function(h,r,b){r[0]^=b[0];r[1]^=b[1];r[2]^=b[2];r[3]^=b[3];return this.tableMultiply(r)};R.gcm.prototype.generateHashTable=function(h,r){var b=8/r,f=4*b;b*=16;for(var p=Array(b),z=0;z<b;++z){var N=[0,0,0,0];N[z/f|0]=1<<r-1<<(f-1-z%f)*r;p[z]=this.generateSubHashTable(this.multiply(N,h),r)}return p};R.gcm.prototype.generateSubHashTable=function(h,r){r=1<<r;var b=r>>>1,f=Array(r);f[b]=h.slice(0);for(var p=b>>>1;0<p;)this.pow(f[2*
p],f[p]=[]),p>>=1;for(p=2;p<b;){for(var z=1;z<p;++z){var N=f[p],B=f[z];f[p+z]=[N[0]^B[0],N[1]^B[1],N[2]^B[2],N[3]^B[3]]}p*=2}f[0]=[0,0,0,0];for(p=b+1;p<r;++p)z=f[p^b],f[p]=[h[0]^z[0],h[1]^z[1],h[2]^z[2],h[3]^z[3]];return f}},function(R,H,E){var u=E(5);E(16);E(25);E(37);E(22);E(50);E(14);E(26);E(7);var K=function(x,n,w,F){var W=u.util.createBuffer(),P=x.length>>1,O=P+(x.length&1),L=x.substr(0,O);O=x.substr(P,O);x=u.util.createBuffer();P=u.hmac.create();w=n+w;var sa=Math.ceil(F/16);n=Math.ceil(F/20);
P.start("MD5",L);L=u.util.createBuffer();x.putBytes(w);for(var Aa=0;Aa<sa;++Aa)P.start(null,null),P.update(x.getBytes()),x.putBuffer(P.digest()),P.start(null,null),P.update(x.bytes()+w),L.putBuffer(P.digest());P.start("SHA1",O);O=u.util.createBuffer();x.clear();x.putBytes(w);for(Aa=0;Aa<n;++Aa)P.start(null,null),P.update(x.getBytes()),x.putBuffer(P.digest()),P.start(null,null),P.update(x.bytes()+w),O.putBuffer(P.digest());W.putBytes(u.util.xorBytes(L.getBytes(),O.getBytes(),F));return W},V=function(x,
n,w){w=!1;try{var F=x.deflate(n.fragment.getBytes());n.fragment=u.util.createBuffer(F);n.length=F.length;w=!0}catch(W){}return w},l=function(x,n,w){w=!1;try{var F=x.inflate(n.fragment.getBytes());n.fragment=u.util.createBuffer(F);n.length=F.length;w=!0}catch(W){}return w},h=function(x,n){var w=0;switch(n){case 1:w=x.getByte();break;case 2:w=x.getInt16();break;case 3:w=x.getInt24();break;case 4:w=x.getInt32()}return u.util.createBuffer(x.getBytes(w))},r=function(x,n,w){x.putInt(w.length(),n<<3);x.putBuffer(w)},
b={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};b.SupportedVersions=[b.Versions.TLS_1_1,b.Versions.TLS_1_0];b.Version=b.SupportedVersions[0];b.MaxFragment=15360;b.ConnectionEnd={server:0,client:1};b.PRFAlgorithm={tls_prf_sha256:0};b.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};b.CipherType={stream:0,block:1,aead:2};b.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};b.CompressionMethod={none:0,deflate:1};b.ContentType=
{change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};b.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};b.Alert={};b.Alert.Level={warning:1,fatal:2};b.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,
unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};b.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};b.CipherSuites={};b.getCipherSuite=function(x){var n=null,w;for(w in b.CipherSuites){var F=b.CipherSuites[w];if(F.id[0]===x.charCodeAt(0)&&
F.id[1]===x.charCodeAt(1)){n=F;break}}return n};b.handleUnexpected=function(x,n){(x.open||x.entity!==b.ConnectionEnd.client)&&x.error(x,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.unexpected_message}})};b.handleHelloRequest=function(x,n,w){!x.handshaking&&0<x.handshakes&&(b.queue(x,b.createAlert(x,{level:b.Alert.Level.warning,description:b.Alert.Description.no_renegotiation})),b.flush(x));x.process()};b.parseHelloMessage=
function(x,n,w){var F=null,W=x.entity===b.ConnectionEnd.client;if(38>w)x.error(x,{message:W?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.illegal_parameter}});else{n=n.fragment;var P=n.length();F={version:{major:n.getByte(),minor:n.getByte()},random:u.util.createBuffer(n.getBytes(32)),session_id:h(n,1),extensions:[]};W?(F.cipher_suite=n.getBytes(2),F.compression_method=n.getByte()):
(F.cipher_suites=h(n,2),F.compression_methods=h(n,1));P=w-(P-n.length());if(0<P){for(w=h(n,2);0<w.length();)F.extensions.push({type:[w.getByte(),w.getByte()],data:h(w,2)});if(!W)for(w=0;w<F.extensions.length;++w)if(n=F.extensions[w],0===n.type[0]&&0===n.type[1])for(n=h(n.data,2);0<n.length()&&0===n.getByte();)x.session.extensions.server_name.serverNameList.push(h(n,2).getBytes())}if(x.session.version&&(F.version.major!==x.session.version.major||F.version.minor!==x.session.version.minor))return x.error(x,
{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.protocol_version}});if(W)x.session.cipherSuite=b.getCipherSuite(F.cipher_suite);else for(w=u.util.createBuffer(F.cipher_suites.bytes());0<w.length()&&(x.session.cipherSuite=b.getCipherSuite(w.getBytes(2)),null===x.session.cipherSuite););if(null===x.session.cipherSuite)return x.error(x,{message:"No cipher suites in common.",send:!0,alert:{level:b.Alert.Level.fatal,
description:b.Alert.Description.handshake_failure},cipherSuite:u.util.bytesToHex(F.cipher_suite)});x.session.compressionMethod=W?F.compression_method:b.CompressionMethod.none}return F};b.createSecurityParameters=function(x,n){var w=x.entity===b.ConnectionEnd.client,F=n.random.bytes();n=w?x.session.sp.client_random:F;w=w?F:b.createRandom().getBytes();x.session.sp={entity:x.entity,prf_algorithm:b.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,
fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:x.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:n,server_random:w}};b.handleServerHello=function(x,n,w){n=b.parseHelloMessage(x,n,w);if(!x.fail){if(n.version.minor<=x.version.minor)x.version.minor=n.version.minor;else return x.error(x,{message:"Incompatible TLS version.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.protocol_version}});
x.session.version=x.version;w=n.session_id.bytes();0<w.length&&w===x.session.id?(x.expect=B,x.session.resuming=!0,x.session.sp.server_random=n.random.bytes()):(x.expect=f,x.session.resuming=!1,b.createSecurityParameters(x,n));x.session.id=w;x.process()}};b.handleClientHello=function(x,n,w){n=b.parseHelloMessage(x,n,w);if(!x.fail){var F=n.session_id.bytes();w=null;if(x.sessionCache)if(w=x.sessionCache.getSession(F),null===w)F="";else if(w.version.major!==n.version.major||w.version.minor>n.version.minor)w=
null,F="";0===F.length&&(F=u.random.getBytes(32));x.session.id=F;x.session.clientHelloVersion=n.version;x.session.sp={};if(w)x.version=x.session.version=w.version,x.session.sp=w.sp;else{for(F=1;F<b.SupportedVersions.length;++F){var W=b.SupportedVersions[F];if(W.minor<=n.version.minor)break}x.version={major:W.major,minor:W.minor};x.session.version=x.version}null!==w?(x.expect=e,x.session.resuming=!0,x.session.sp.client_random=n.random.bytes()):(x.expect=!1!==x.verifyClient?t:S,x.session.resuming=!1,
b.createSecurityParameters(x,n));x.open=!0;b.queue(x,b.createRecord(x,{type:b.ContentType.handshake,data:b.createServerHello(x)}));x.session.resuming?(b.queue(x,b.createRecord(x,{type:b.ContentType.change_cipher_spec,data:b.createChangeCipherSpec()})),x.state.pending=b.createConnectionState(x),x.state.current.write=x.state.pending.write,b.queue(x,b.createRecord(x,{type:b.ContentType.handshake,data:b.createFinished(x)}))):(b.queue(x,b.createRecord(x,{type:b.ContentType.handshake,data:b.createCertificate(x)})),
x.fail||(b.queue(x,b.createRecord(x,{type:b.ContentType.handshake,data:b.createServerKeyExchange(x)})),!1!==x.verifyClient&&b.queue(x,b.createRecord(x,{type:b.ContentType.handshake,data:b.createCertificateRequest(x)})),b.queue(x,b.createRecord(x,{type:b.ContentType.handshake,data:b.createServerHelloDone(x)}))));b.flush(x);x.process()}};b.handleCertificate=function(x,n,w){if(3>w)return x.error(x,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.illegal_parameter}});
w=h(n.fragment,3);n=[];try{for(;0<w.length();){var F=h(w,3);var W=u.asn1.fromDer(F);F=u.pki.certificateFromAsn1(W,!0);n.push(F)}}catch(P){return x.error(x,{message:"Could not parse certificate list.",cause:P,send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.bad_certificate}})}F=x.entity===b.ConnectionEnd.client;!F&&!0!==x.verifyClient||0!==n.length?0===n.length?x.expect=F?p:S:(F?x.session.serverCertificate=n[0]:x.session.clientCertificate=n[0],b.verifyCertificateChain(x,n)&&
(x.expect=F?p:S)):x.error(x,{message:F?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.illegal_parameter}});x.process()};b.handleServerKeyExchange=function(x,n,w){if(0<w)return x.error(x,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.unsupported_certificate}});x.expect=z;x.process()};b.handleClientKeyExchange=function(x,n,
w){if(48>w)return x.error(x,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.unsupported_certificate}});n=h(n.fragment,2).getBytes();w=null;if(x.getPrivateKey)try{w=x.getPrivateKey(x,x.session.serverCertificate),w=u.pki.privateKeyFromPem(w)}catch(P){x.error(x,{message:"Could not get private key.",cause:P,send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.internal_error}})}if(null===w)return x.error(x,
{message:"No private key set.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.internal_error}});try{var F=x.session.sp;F.pre_master_secret=w.decrypt(n);var W=x.session.clientHelloVersion;if(W.major!==F.pre_master_secret.charCodeAt(0)||W.minor!==F.pre_master_secret.charCodeAt(1))throw Error("TLS version rollback attack detected.");}catch(P){F.pre_master_secret=u.random.getBytes(48)}x.expect=e;null!==x.session.clientCertificate&&(x.expect=k);x.process()};b.handleCertificateRequest=
function(x,n,w){if(3>w)return x.error(x,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.illegal_parameter}});n=n.fragment;n={certificate_types:h(n,1),certificate_authorities:h(n,2)};x.session.certificateRequest=n;x.expect=N;x.process()};b.handleCertificateVerify=function(x,n,w){if(2>w)return x.error(x,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.illegal_parameter}});
w=n.fragment;w.read-=4;n=w.bytes();w.read+=4;w=h(w,2).getBytes();var F=u.util.createBuffer();F.putBuffer(x.session.md5.digest());F.putBuffer(x.session.sha1.digest());F=F.getBytes();try{if(!x.session.clientCertificate.publicKey.verify(F,w,"NONE"))throw Error("CertificateVerify signature does not match.");x.session.md5.update(n);x.session.sha1.update(n)}catch(W){return x.error(x,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.handshake_failure}})}x.expect=
e;x.process()};b.handleServerHelloDone=function(x,n,w){if(0<w)return x.error(x,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.record_overflow}});if(null===x.serverCertificate&&(n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.insufficient_security}},w=x.verify(x,n.alert.description,0,[]),!0!==w)){if(w||0===w)"object"!==typeof w||
u.util.isArray(w)?"number"===typeof w&&(n.alert.description=w):(w.message&&(n.message=w.message),w.alert&&(n.alert.description=w.alert));return x.error(x,n)}null!==x.session.certificateRequest&&(n=b.createRecord(x,{type:b.ContentType.handshake,data:b.createCertificate(x)}),b.queue(x,n));n=b.createRecord(x,{type:b.ContentType.handshake,data:b.createClientKeyExchange(x)});b.queue(x,n);x.expect=C;n=function(F,W){null!==F.session.certificateRequest&&null!==F.session.clientCertificate&&b.queue(F,b.createRecord(F,
{type:b.ContentType.handshake,data:b.createCertificateVerify(F,W)}));b.queue(F,b.createRecord(F,{type:b.ContentType.change_cipher_spec,data:b.createChangeCipherSpec()}));F.state.pending=b.createConnectionState(F);F.state.current.write=F.state.pending.write;b.queue(F,b.createRecord(F,{type:b.ContentType.handshake,data:b.createFinished(F)}));F.expect=B;b.flush(F);F.process()};if(null===x.session.certificateRequest||null===x.session.clientCertificate)return n(x,null);b.getClientSignature(x,n)};b.handleChangeCipherSpec=
function(x,n){if(1!==n.fragment.getByte())return x.error(x,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.illegal_parameter}});n=x.entity===b.ConnectionEnd.client;if(x.session.resuming&&n||!x.session.resuming&&!n)x.state.pending=b.createConnectionState(x);x.state.current.read=x.state.pending.read;if(!x.session.resuming&&n||x.session.resuming&&!n)x.state.pending=null;x.expect=n?G:q;x.process()};b.handleFinished=function(x,
n,w){w=n.fragment;w.read-=4;var F=w.bytes();w.read+=4;n=n.fragment.getBytes();w=u.util.createBuffer();w.putBuffer(x.session.md5.digest());w.putBuffer(x.session.sha1.digest());var W=x.entity===b.ConnectionEnd.client;w=K(x.session.sp.master_secret,W?"server finished":"client finished",w.getBytes(),12);if(w.getBytes()!==n)return x.error(x,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.decrypt_error}});x.session.md5.update(F);
x.session.sha1.update(F);if(x.session.resuming&&W||!x.session.resuming&&!W)b.queue(x,b.createRecord(x,{type:b.ContentType.change_cipher_spec,data:b.createChangeCipherSpec()})),x.state.current.write=x.state.pending.write,x.state.pending=null,b.queue(x,b.createRecord(x,{type:b.ContentType.handshake,data:b.createFinished(x)}));x.expect=W?v:I;x.handshaking=!1;++x.handshakes;x.peerCertificate=W?x.session.serverCertificate:x.session.clientCertificate;b.flush(x);x.isConnected=!0;x.connected(x);x.process()};
b.handleAlert=function(x,n){n=n.fragment;n={level:n.getByte(),description:n.getByte()};switch(n.description){case b.Alert.Description.close_notify:var w="Connection closed.";break;case b.Alert.Description.unexpected_message:w="Unexpected message.";break;case b.Alert.Description.bad_record_mac:w="Bad record MAC.";break;case b.Alert.Description.decryption_failed:w="Decryption failed.";break;case b.Alert.Description.record_overflow:w="Record overflow.";break;case b.Alert.Description.decompression_failure:w=
"Decompression failed.";break;case b.Alert.Description.handshake_failure:w="Handshake failure.";break;case b.Alert.Description.bad_certificate:w="Bad certificate.";break;case b.Alert.Description.unsupported_certificate:w="Unsupported certificate.";break;case b.Alert.Description.certificate_revoked:w="Certificate revoked.";break;case b.Alert.Description.certificate_expired:w="Certificate expired.";break;case b.Alert.Description.certificate_unknown:w="Certificate unknown.";break;case b.Alert.Description.illegal_parameter:w=
"Illegal parameter.";break;case b.Alert.Description.unknown_ca:w="Unknown certificate authority.";break;case b.Alert.Description.access_denied:w="Access denied.";break;case b.Alert.Description.decode_error:w="Decode error.";break;case b.Alert.Description.decrypt_error:w="Decrypt error.";break;case b.Alert.Description.export_restriction:w="Export restriction.";break;case b.Alert.Description.protocol_version:w="Unsupported protocol version.";break;case b.Alert.Description.insufficient_security:w="Insufficient security.";
break;case b.Alert.Description.internal_error:w="Internal error.";break;case b.Alert.Description.user_canceled:w="User canceled.";break;case b.Alert.Description.no_renegotiation:w="Renegotiation not supported.";break;default:w="Unknown error."}if(n.description===b.Alert.Description.close_notify)return x.close();x.error(x,{message:w,send:!1,origin:x.entity===b.ConnectionEnd.client?"server":"client",alert:n});x.process()};b.handleHandshake=function(x,n){var w=n.fragment,F=w.getByte(),W=w.getInt24();
if(W>w.length())return x.fragmented=n,n.fragment=u.util.createBuffer(),w.read-=4,x.process();x.fragmented=null;w.read-=4;var P=w.bytes(W+4);w.read+=4;F in ca[x.entity][x.expect]?(x.entity!==b.ConnectionEnd.server||x.open||x.fail||(x.handshaking=!0,x.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:u.md.md5.create(),sha1:u.md.sha1.create()}),F!==b.HandshakeType.hello_request&&F!==b.HandshakeType.certificate_verify&&
F!==b.HandshakeType.finished&&(x.session.md5.update(P),x.session.sha1.update(P)),ca[x.entity][x.expect][F](x,n,W)):b.handleUnexpected(x,n)};b.handleApplicationData=function(x,n){x.data.putBuffer(n.fragment);x.dataReady(x);x.process()};b.handleHeartbeat=function(x,n){var w=n.fragment;n=w.getByte();var F=w.getInt16();w=w.getBytes(F);if(n===b.HeartbeatMessageType.heartbeat_request){if(x.handshaking||F>w.length)return x.process();b.queue(x,b.createRecord(x,{type:b.ContentType.heartbeat,data:b.createHeartbeat(b.HeartbeatMessageType.heartbeat_response,
w)}));b.flush(x)}else if(n===b.HeartbeatMessageType.heartbeat_response){if(w!==x.expectedHeartbeatPayload)return x.process();x.heartbeatReceived&&x.heartbeatReceived(x,u.util.createBuffer(w))}x.process()};var f=1,p=2,z=3,N=4,B=5,G=6,v=7,C=8,t=1,S=2,k=3,e=4,q=5,I=6;H=b.handleUnexpected;E=b.handleChangeCipherSpec;var g=b.handleAlert,y=b.handleHandshake,J=b.handleApplicationData,Q=b.handleHeartbeat,aa=[];aa[b.ConnectionEnd.client]=[[H,g,y,H,Q],[H,g,y,H,Q],[H,g,y,H,Q],[H,g,y,H,Q],[H,g,y,H,Q],[E,g,H,H,
Q],[H,g,y,H,Q],[H,g,y,J,Q],[H,g,y,H,Q]];aa[b.ConnectionEnd.server]=[[H,g,y,H,Q],[H,g,y,H,Q],[H,g,y,H,Q],[H,g,y,H,Q],[E,g,H,H,Q],[H,g,y,H,Q],[H,g,y,J,Q],[H,g,y,H,Q]];E=b.handleHelloRequest;g=b.handleCertificate;y=b.handleServerKeyExchange;J=b.handleCertificateRequest;Q=b.handleServerHelloDone;var Z=b.handleFinished,ca=[];ca[b.ConnectionEnd.client]=[[H,H,b.handleServerHello,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[E,H,H,H,H,H,H,H,H,H,H,g,y,J,Q,H,H,H,H,H,H],[E,H,H,H,H,H,H,H,H,H,H,H,y,J,Q,H,H,H,H,H,H],[E,
H,H,H,H,H,H,H,H,H,H,H,H,J,Q,H,H,H,H,H,H],[E,H,H,H,H,H,H,H,H,H,H,H,H,H,Q,H,H,H,H,H,H],[E,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[E,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,Z],[E,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[E,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H]];ca[b.ConnectionEnd.server]=[[H,b.handleClientHello,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,g,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,b.handleClientKeyExchange,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,b.handleCertificateVerify,
H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,Z],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H]];b.generateKeys=function(x,n){var w=n.client_random+n.server_random;x.session.resuming||(n.master_secret=K(n.pre_master_secret,"master secret",w,48).bytes(),n.pre_master_secret=null);w=n.server_random+n.client_random;var F=2*n.mac_key_length+2*n.enc_key_length;(x=x.version.major===b.Versions.TLS_1_0.major&&x.version.minor===
b.Versions.TLS_1_0.minor)&&(F+=2*n.fixed_iv_length);w=K(n.master_secret,"key expansion",w,F);F={client_write_MAC_key:w.getBytes(n.mac_key_length),server_write_MAC_key:w.getBytes(n.mac_key_length),client_write_key:w.getBytes(n.enc_key_length),server_write_key:w.getBytes(n.enc_key_length)};x&&(F.client_write_IV=w.getBytes(n.fixed_iv_length),F.server_write_IV=w.getBytes(n.fixed_iv_length));return F};b.createConnectionState=function(x){var n=x.entity===b.ConnectionEnd.client,w=function(){var W={sequenceNumber:[0,
0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(P){return!0},compressionState:null,compressFunction:function(P){return!0},updateSequenceNumber:function(){4294967295===W.sequenceNumber[1]?(W.sequenceNumber[1]=0,++W.sequenceNumber[0]):++W.sequenceNumber[1]}};return W},F={read:w(),write:w()};F.read.update=function(W,P){F.read.cipherFunction(P,F.read)?F.read.compressFunction(W,P,F.read)||W.error(W,{message:"Could not decompress record.",send:!0,alert:{level:b.Alert.Level.fatal,
description:b.Alert.Description.decompression_failure}}):W.error(W,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.bad_record_mac}});return!W.fail};F.write.update=function(W,P){F.write.compressFunction(W,P,F.write)?F.write.cipherFunction(P,F.write)||W.error(W,{message:"Could not encrypt record.",send:!1,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.internal_error}}):W.error(W,{message:"Could not compress record.",
send:!1,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.internal_error}});return!W.fail};if(x.session)switch(w=x.session.sp,x.session.cipherSuite.initSecurityParameters(w),w.keys=b.generateKeys(x,w),F.read.macKey=n?w.keys.server_write_MAC_key:w.keys.client_write_MAC_key,F.write.macKey=n?w.keys.client_write_MAC_key:w.keys.server_write_MAC_key,x.session.cipherSuite.initConnectionState(F,x,w),w.compression_algorithm){case b.CompressionMethod.none:break;case b.CompressionMethod.deflate:F.read.compressFunction=
l;F.write.compressFunction=V;break;default:throw Error("Unsupported compression algorithm.");}return F};b.createRandom=function(){var x=new Date;x=+x+6E4*x.getTimezoneOffset();var n=u.util.createBuffer();n.putInt32(x);n.putBytes(u.random.getBytes(28));return n};b.createRecord=function(x,n){return n.data?{type:n.type,version:{major:x.version.major,minor:x.version.minor},length:n.data.length(),fragment:n.data}:null};b.createAlert=function(x,n){var w=u.util.createBuffer();w.putByte(n.level);w.putByte(n.description);
return b.createRecord(x,{type:b.ContentType.alert,data:w})};b.createClientHello=function(x){x.session.clientHelloVersion={major:x.version.major,minor:x.version.minor};for(var n=u.util.createBuffer(),w=0;w<x.cipherSuites.length;++w){var F=x.cipherSuites[w];n.putByte(F.id[0]);n.putByte(F.id[1])}var W=n.length();w=u.util.createBuffer();w.putByte(b.CompressionMethod.none);var P=w.length();F=u.util.createBuffer();if(x.virtualHost){var O=u.util.createBuffer();O.putByte(0);O.putByte(0);var L=u.util.createBuffer();
L.putByte(0);r(L,2,u.util.createBuffer(x.virtualHost));var sa=u.util.createBuffer();r(sa,2,L);r(O,2,sa);F.putBuffer(O)}O=F.length();0<O&&(O+=2);L=x.session.id;W=L.length+1+2+4+28+2+W+1+P+O;P=u.util.createBuffer();P.putByte(b.HandshakeType.client_hello);P.putInt24(W);P.putByte(x.version.major);P.putByte(x.version.minor);P.putBytes(x.session.sp.client_random);r(P,1,u.util.createBuffer(L));r(P,2,n);r(P,1,w);0<O&&r(P,2,F);return P};b.createServerHello=function(x){var n=x.session.id,w=n.length+1+2+4+28+
2+1,F=u.util.createBuffer();F.putByte(b.HandshakeType.server_hello);F.putInt24(w);F.putByte(x.version.major);F.putByte(x.version.minor);F.putBytes(x.session.sp.server_random);r(F,1,u.util.createBuffer(n));F.putByte(x.session.cipherSuite.id[0]);F.putByte(x.session.cipherSuite.id[1]);F.putByte(x.session.compressionMethod);return F};b.createCertificate=function(x){var n=x.entity===b.ConnectionEnd.client,w=null;x.getCertificate&&(w=x.getCertificate(x,n?x.session.certificateRequest:x.session.extensions.server_name.serverNameList));
var F=u.util.createBuffer();if(null!==w)try{u.util.isArray(w)||(w=[w]);for(var W=null,P=0;P<w.length;++P){var O=u.pem.decode(w[P])[0];if("CERTIFICATE"!==O.type&&"X509 CERTIFICATE"!==O.type&&"TRUSTED CERTIFICATE"!==O.type){var L=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');L.headerType=O.type;throw L;}if(O.procType&&"ENCRYPTED"===O.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");
var sa=u.util.createBuffer(O.body);null===W&&(W=u.asn1.fromDer(sa.bytes(),!1));var Aa=u.util.createBuffer();r(Aa,3,sa);F.putBuffer(Aa)}w=u.pki.certificateFromAsn1(W);n?x.session.clientCertificate=w:x.session.serverCertificate=w}catch(xa){return x.error(x,{message:"Could not send certificate list.",cause:xa,send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.bad_certificate}})}x=3+F.length();n=u.util.createBuffer();n.putByte(b.HandshakeType.certificate);n.putInt24(x);r(n,3,F);
return n};b.createClientKeyExchange=function(x){var n=u.util.createBuffer();n.putByte(x.session.clientHelloVersion.major);n.putByte(x.session.clientHelloVersion.minor);n.putBytes(u.random.getBytes(46));var w=x.session.sp;w.pre_master_secret=n.getBytes();n=x.session.serverCertificate.publicKey.encrypt(w.pre_master_secret);x=n.length+2;w=u.util.createBuffer();w.putByte(b.HandshakeType.client_key_exchange);w.putInt24(x);w.putInt16(n.length);w.putBytes(n);return w};b.createServerKeyExchange=function(x){return u.util.createBuffer()};
b.getClientSignature=function(x,n){var w=u.util.createBuffer();w.putBuffer(x.session.md5.digest());w.putBuffer(x.session.sha1.digest());w=w.getBytes();x.getSignature=x.getSignature||function(F,W,P){var O=null;if(F.getPrivateKey)try{O=F.getPrivateKey(F,F.session.clientCertificate),O=u.pki.privateKeyFromPem(O)}catch(L){F.error(F,{message:"Could not get private key.",cause:L,send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.internal_error}})}null===O?F.error(F,{message:"No private key set.",
send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.internal_error}}):W=O.sign(W,null);P(F,W)};x.getSignature(x,w,n)};b.createCertificateVerify=function(x,n){x=n.length+2;var w=u.util.createBuffer();w.putByte(b.HandshakeType.certificate_verify);w.putInt24(x);w.putInt16(n.length);w.putBytes(n);return w};b.createCertificateRequest=function(x){var n=u.util.createBuffer();n.putByte(1);var w=u.util.createBuffer();for(W in x.caStore.certs){var F=u.pki.distinguishedNameToAsn1(x.caStore.certs[W].subject);
F=u.asn1.toDer(F);w.putInt16(F.length());w.putBuffer(F)}x=1+n.length()+2+w.length();var W=u.util.createBuffer();W.putByte(b.HandshakeType.certificate_request);W.putInt24(x);r(W,1,n);r(W,2,w);return W};b.createServerHelloDone=function(x){x=u.util.createBuffer();x.putByte(b.HandshakeType.server_hello_done);x.putInt24(0);return x};b.createChangeCipherSpec=function(){var x=u.util.createBuffer();x.putByte(1);return x};b.createFinished=function(x){var n=u.util.createBuffer();n.putBuffer(x.session.md5.digest());
n.putBuffer(x.session.sha1.digest());n=K(x.session.sp.master_secret,x.entity===b.ConnectionEnd.client?"client finished":"server finished",n.getBytes(),12);x=u.util.createBuffer();x.putByte(b.HandshakeType.finished);x.putInt24(n.length());x.putBuffer(n);return x};b.createHeartbeat=function(x,n,w){"undefined"===typeof w&&(w=n.length);var F=u.util.createBuffer();F.putByte(x);F.putInt16(w);F.putBytes(n);x=F.length();F.putBytes(u.random.getBytes(Math.max(16,x-w-3)));return F};b.queue=function(x,n){if(n&&
(0!==n.fragment.length()||n.type!==b.ContentType.handshake&&n.type!==b.ContentType.alert&&n.type!==b.ContentType.change_cipher_spec)){if(n.type===b.ContentType.handshake){var w=n.fragment.bytes();x.session.md5.update(w);x.session.sha1.update(w)}if(n.fragment.length()<=b.MaxFragment)w=[n];else{w=[];for(var F=n.fragment.bytes();F.length>b.MaxFragment;)w.push(b.createRecord(x,{type:n.type,data:u.util.createBuffer(F.slice(0,b.MaxFragment))})),F=F.slice(b.MaxFragment);0<F.length&&w.push(b.createRecord(x,
{type:n.type,data:u.util.createBuffer(F)}))}for(n=0;n<w.length&&!x.fail;++n)F=w[n],x.state.current.write.update(x,F)&&x.records.push(F)}};b.flush=function(x){for(var n=0;n<x.records.length;++n){var w=x.records[n];x.tlsData.putByte(w.type);x.tlsData.putByte(w.version.major);x.tlsData.putByte(w.version.minor);x.tlsData.putInt16(w.fragment.length());x.tlsData.putBuffer(x.records[n].fragment)}x.records=[];return x.tlsDataReady(x)};var fa=function(x){switch(x){case !0:return!0;case u.pki.certificateError.bad_certificate:return b.Alert.Description.bad_certificate;
case u.pki.certificateError.unsupported_certificate:return b.Alert.Description.unsupported_certificate;case u.pki.certificateError.certificate_revoked:return b.Alert.Description.certificate_revoked;case u.pki.certificateError.certificate_expired:return b.Alert.Description.certificate_expired;case u.pki.certificateError.certificate_unknown:return b.Alert.Description.certificate_unknown;case u.pki.certificateError.unknown_ca:return b.Alert.Description.unknown_ca;default:return b.Alert.Description.bad_certificate}},
ha=function(x){switch(x){case !0:return!0;case b.Alert.Description.bad_certificate:return u.pki.certificateError.bad_certificate;case b.Alert.Description.unsupported_certificate:return u.pki.certificateError.unsupported_certificate;case b.Alert.Description.certificate_revoked:return u.pki.certificateError.certificate_revoked;case b.Alert.Description.certificate_expired:return u.pki.certificateError.certificate_expired;case b.Alert.Description.certificate_unknown:return u.pki.certificateError.certificate_unknown;
case b.Alert.Description.unknown_ca:return u.pki.certificateError.unknown_ca;default:return u.pki.certificateError.bad_certificate}};b.verifyCertificateChain=function(x,n){try{var w={},F;for(F in x.verifyOptions)w[F]=x.verifyOptions[F];w.verify=function(W,P,O){fa(W);P=x.verify(x,W,P,O);if(!0!==P){if("object"===typeof P&&!u.util.isArray(P))throw W=Error("The application rejected the certificate."),W.send=!0,W.alert={level:b.Alert.Level.fatal,description:b.Alert.Description.bad_certificate},P.message&&
(W.message=P.message),P.alert&&(W.alert.description=P.alert),W;P!==W&&(P=ha(P))}return P};u.pki.verifyCertificateChain(x.caStore,n,w)}catch(W){n=W;if("object"!==typeof n||u.util.isArray(n))n={send:!0,alert:{level:b.Alert.Level.fatal,description:fa(W)}};"send"in n||(n.send=!0);"alert"in n||(n.alert={level:b.Alert.Level.fatal,description:fa(n.error)});x.error(x,n)}return!x.fail};b.createSessionCache=function(x,n){var w=null;if(x&&x.getSession&&x.setSession&&x.order)w=x;else{w={};w.cache=x||{};w.capacity=
Math.max(n||100,1);w.order=[];for(var F in x)w.order.length<=n?w.order.push(F):delete x[F];w.getSession=function(W){var P=null,O=null;W?O=u.util.bytesToHex(W):0<w.order.length&&(O=w.order[0]);if(null!==O&&O in w.cache){P=w.cache[O];delete w.cache[O];for(var L in w.order)if(w.order[L]===O){w.order.splice(L,1);break}}return P};w.setSession=function(W,P){if(w.order.length===w.capacity){var O=w.order.shift();delete w.cache[O]}O=u.util.bytesToHex(W);w.order.push(O);w.cache[O]=P}}return w};b.createConnection=
function(x){var n=null;n=x.caStore?u.util.isArray(x.caStore)?u.pki.createCaStore(x.caStore):x.caStore:u.pki.createCaStore();var w=x.cipherSuites||null;if(null===w){w=[];for(var F in b.CipherSuites)w.push(b.CipherSuites[F])}F=x.server?b.ConnectionEnd.server:b.ConnectionEnd.client;var W=x.sessionCache?b.createSessionCache(x.sessionCache):null,P={version:{major:b.Version.major,minor:b.Version.minor},entity:F,sessionId:x.sessionId,caStore:n,sessionCache:W,cipherSuites:w,connected:x.connected,virtualHost:x.virtualHost||
null,verifyClient:x.verifyClient||!1,verify:x.verify||function(O,L,sa,Aa){return L},verifyOptions:x.verifyOptions||{},getCertificate:x.getCertificate||null,getPrivateKey:x.getPrivateKey||null,getSignature:x.getSignature||null,input:u.util.createBuffer(),tlsData:u.util.createBuffer(),data:u.util.createBuffer(),tlsDataReady:x.tlsDataReady,dataReady:x.dataReady,heartbeatReceived:x.heartbeatReceived,closed:x.closed,error:function(O,L){L.origin=L.origin||(O.entity===b.ConnectionEnd.client?"client":"server");
L.send&&(b.queue(O,b.createAlert(O,L.alert)),b.flush(O));var sa=!1!==L.fatal;sa&&(O.fail=!0);x.error(O,L);sa&&O.close(!1)},deflate:x.deflate||null,inflate:x.inflate||null,reset:function(O){P.version={major:b.Version.major,minor:b.Version.minor};P.record=null;P.session=null;P.peerCertificate=null;P.state={pending:null,current:null};P.expect=0;P.fragmented=null;P.records=[];P.open=!1;P.handshakes=0;P.handshaking=!1;P.isConnected=!1;P.fail=!(O||"undefined"===typeof O);P.input.clear();P.tlsData.clear();
P.data.clear();P.state.current=b.createConnectionState(P)}};P.reset();P.handshake=function(O){if(P.entity!==b.ConnectionEnd.client)P.error(P,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(P.handshaking)P.error(P,{message:"Handshake already in progress.",fatal:!1});else{P.fail&&!P.open&&0===P.handshakes&&(P.fail=!1);P.handshaking=!0;O=O||"";var L=null;0<O.length&&(P.sessionCache&&(L=P.sessionCache.getSession(O)),null===L&&(O=""));0===O.length&&P.sessionCache&&(L=P.sessionCache.getSession(),
null!==L&&(O=L.id));P.session={id:O,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:u.md.md5.create(),sha1:u.md.sha1.create()};L&&(P.version=L.version,P.session.sp=L.sp);P.session.sp.client_random=b.createRandom().getBytes();P.open=!0;b.queue(P,b.createRecord(P,{type:b.ContentType.handshake,data:b.createClientHello(P)}));b.flush(P)}};P.process=function(O){var L=0;O&&P.input.putBytes(O);if(!P.fail){null!==P.record&&
P.record.ready&&P.record.fragment.isEmpty()&&(P.record=null);if(null===P.record){L=0;O=P.input;var sa=O.length();5>sa?L=5-sa:(P.record={type:O.getByte(),version:{major:O.getByte(),minor:O.getByte()},length:O.getInt16(),fragment:u.util.createBuffer(),ready:!1},(O=P.record.version.major===P.version.major)&&P.session&&P.session.version&&(O=P.record.version.minor===P.version.minor),O||P.error(P,{message:"Incompatible TLS version.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.protocol_version}}))}if(!P.fail&&
null!==P.record&&!P.record.ready){L=P;O=0;sa=L.input;var Aa=sa.length();Aa<L.record.length?O=L.record.length-Aa:(L.record.fragment.putBytes(sa.getBytes(L.record.length)),sa.compact(),L.state.current.read.update(L,L.record)&&(null!==L.fragmented&&(L.fragmented.type===L.record.type?(L.fragmented.fragment.putBuffer(L.record.fragment),L.record=L.fragmented):L.error(L,{message:"Invalid fragmented record.",send:!0,alert:{level:b.Alert.Level.fatal,description:b.Alert.Description.unexpected_message}})),L.record.ready=
!0));L=O}if(!P.fail&&null!==P.record&&P.record.ready)if(O=P.record,sa=O.type-b.ContentType.change_cipher_spec,Aa=aa[P.entity][P.expect],sa in Aa)Aa[sa](P,O);else b.handleUnexpected(P,O)}return L};P.prepare=function(O){b.queue(P,b.createRecord(P,{type:b.ContentType.application_data,data:u.util.createBuffer(O)}));return b.flush(P)};P.prepareHeartbeatRequest=function(O,L){O instanceof u.util.ByteBuffer&&(O=O.bytes());"undefined"===typeof L&&(L=O.length);P.expectedHeartbeatPayload=O;b.queue(P,b.createRecord(P,
{type:b.ContentType.heartbeat,data:b.createHeartbeat(b.HeartbeatMessageType.heartbeat_request,O,L)}));return b.flush(P)};P.close=function(O){if(!P.fail&&P.sessionCache&&P.session){var L={id:P.session.id,version:P.session.version,sp:P.session.sp};L.sp.keys=null;P.sessionCache.setSession(L.id,L)}if(P.open){P.open=!1;P.input.clear();if(P.isConnected||P.handshaking)P.isConnected=P.handshaking=!1,b.queue(P,b.createAlert(P,{level:b.Alert.Level.warning,description:b.Alert.Description.close_notify})),b.flush(P);
P.closed(P)}P.reset(O)};return P};R.exports=u.tls=u.tls||{};for(var pa in b)"function"!==typeof b[pa]&&(u.tls[pa]=b[pa]);u.tls.prf_tls1=K;u.tls.hmac_sha1=function(x,n,w){var F=u.hmac.create();F.start("SHA1",x);x=u.util.createBuffer();x.putInt32(n[0]);x.putInt32(n[1]);x.putByte(w.type);x.putByte(w.version.major);x.putByte(w.version.minor);x.putInt16(w.length);x.putBytes(w.fragment.bytes());F.update(x.getBytes());return F.digest().getBytes()};u.tls.createSessionCache=b.createSessionCache;u.tls.createConnection=
b.createConnection},function(R,H,E){var u=E(5);E(16);E(21);E(51);E(22);E(38);E(57);E(41);E(33);E(7);E(40);var K=u.asn1,V=R.exports=u.pki=u.pki||{};V.pemToDer=function(l){l=u.pem.decode(l)[0];if(l.procType&&"ENCRYPTED"===l.procType.type)throw Error("Could not convert PEM to DER; PEM is encrypted.");return u.util.createBuffer(l.body)};V.privateKeyFromPem=function(l){l=u.pem.decode(l)[0];if("PRIVATE KEY"!==l.type&&"RSA PRIVATE KEY"!==l.type){var h=Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');
h.headerType=l.type;throw h;}if(l.procType&&"ENCRYPTED"===l.procType.type)throw Error("Could not convert private key from PEM; PEM is encrypted.");l=K.fromDer(l.body);return V.privateKeyFromAsn1(l)};V.privateKeyToPem=function(l,h){l={type:"RSA PRIVATE KEY",body:K.toDer(V.privateKeyToAsn1(l)).getBytes()};return u.pem.encode(l,{maxline:h})};V.privateKeyInfoToPem=function(l,h){l={type:"PRIVATE KEY",body:K.toDer(l).getBytes()};return u.pem.encode(l,{maxline:h})}},function(R,H,E){function u(B,G){return B.start().update(G).digest().getBytes()}
function K(B){if(B){var G=b.oids[r.derToOid(B)];if(!G)throw G=Error("Unsupported PRF OID."),G.oid=B,G.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],G;}else G="hmacWithSHA1";return V(G)}function V(B){var G=l.md;switch(B){case "hmacWithSHA224":G=l.md.sha512;case "hmacWithSHA1":case "hmacWithSHA256":case "hmacWithSHA384":case "hmacWithSHA512":B=B.substr(8).toLowerCase();break;default:throw G=Error("Unsupported PRF algorithm."),G.algorithm=B,G.supported=
["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],G;}if(!(G&&B in G))throw Error("Unknown hash algorithm: "+B);return G[B].create()}var l=E(5);E(20);E(16);E(32);E(17);E(21);E(38);E(22);E(14);E(54);E(33);E(7);if("undefined"===typeof h)var h=l.jsbn.BigInteger;var r=l.asn1,b=l.pki=l.pki||{};R.exports=b.pbe=l.pbe=l.pbe||{};var f=b.oids,p={name:"EncryptedPrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",
tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},z={name:"PBES2Algorithms",tagClass:r.Class.UNIVERSAL,
type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",
tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",
tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},N={name:"pkcs-12PbeParams",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,
capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"iterations"}]};b.encryptPrivateKeyInfo=function(B,G,v){v=v||{};v.saltSize=v.saltSize||8;v.count=v.count||2048;v.algorithm=v.algorithm||"aes128";v.prfAlgorithm=v.prfAlgorithm||"sha1";var C=l.random.getBytesSync(v.saltSize),t=v.count,S=r.integerToDer(t),k;if(0===v.algorithm.indexOf("aes")||"des"===v.algorithm){switch(v.algorithm){case "aes128":var e=k=16;var q=f["aes128-CBC"];var I=
l.aes.createEncryptionCipher;break;case "aes192":k=24;e=16;q=f["aes192-CBC"];I=l.aes.createEncryptionCipher;break;case "aes256":k=32;e=16;q=f["aes256-CBC"];I=l.aes.createEncryptionCipher;break;case "des":e=k=8;q=f.desCBC;I=l.des.createEncryptionCipher;break;default:throw C=Error("Cannot encrypt private key. Unknown encryption algorithm."),C.algorithm=v.algorithm,C;}v="hmacWith"+v.prfAlgorithm.toUpperCase();var g=V(v);g=l.pkcs5.pbkdf2(G,C,t,k,g);G=l.random.getBytesSync(e);t=I(g);t.start(G);t.update(r.toDer(B));
t.finish();B=t.output.getBytes();C=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,C),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,S.getBytes())]);"hmacWithSHA1"!==v&&C.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,l.util.hexToBytes(k.toString(16))),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(b.oids[v]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));C=r.create(r.Class.UNIVERSAL,
r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(f.pkcs5PBES2).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(f.pkcs5PBKDF2).getBytes()),C]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(q).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,G)])])])}else if("3des"===v.algorithm)k=24,q=new l.util.ByteBuffer(C),
g=b.pbe.generatePkcs12Key(G,q,1,t,k),G=b.pbe.generatePkcs12Key(G,q,2,t,k),t=l.des.createEncryptionCipher(g),t.start(G),t.update(r.toDer(B)),t.finish(),B=t.output.getBytes(),C=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(f["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,C),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,S.getBytes())])]);else throw C=Error("Cannot encrypt private key. Unknown encryption algorithm."),
C.algorithm=v.algorithm,C;return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[C,r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,B)])};b.decryptPrivateKeyInfo=function(B,G){var v=null,C={},t=[];if(!r.validate(B,p,C,t))throw v=Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo."),v.errors=t,v;t=r.derToOid(C.encryptionOid);G=b.pbe.getCipher(t,C.encryptionParams,G);C=l.util.createBuffer(C.encryptedData);G.update(C);G.finish()&&(v=r.fromDer(G.output));
return v};b.encryptedPrivateKeyToPem=function(B,G){B={type:"ENCRYPTED PRIVATE KEY",body:r.toDer(B).getBytes()};return l.pem.encode(B,{maxline:G})};b.encryptedPrivateKeyFromPem=function(B){B=l.pem.decode(B)[0];if("ENCRYPTED PRIVATE KEY"!==B.type){var G=Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');G.headerType=B.type;throw G;}if(B.procType&&"ENCRYPTED"===B.procType.type)throw Error("Could not convert encrypted private key from PEM; PEM is encrypted.");
return r.fromDer(B.body)};b.encryptRsaPrivateKey=function(B,G,v){v=v||{};if(!v.legacy)return B=b.wrapRsaPrivateKey(b.privateKeyToAsn1(B)),B=b.encryptPrivateKeyInfo(B,G,v),b.encryptedPrivateKeyToPem(B);switch(v.algorithm){case "aes128":v="AES-128-CBC";var C=16;var t=l.random.getBytesSync(16);var S=l.aes.createEncryptionCipher;break;case "aes192":v="AES-192-CBC";C=24;t=l.random.getBytesSync(16);S=l.aes.createEncryptionCipher;break;case "aes256":v="AES-256-CBC";C=32;t=l.random.getBytesSync(16);S=l.aes.createEncryptionCipher;
break;case "3des":v="DES-EDE3-CBC";C=24;t=l.random.getBytesSync(8);S=l.des.createEncryptionCipher;break;case "des":v="DES-CBC";C=8;t=l.random.getBytesSync(8);S=l.des.createEncryptionCipher;break;default:throw B=Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+v.algorithm+'".'),B.algorithm=v.algorithm,B;}G=l.pbe.opensslDeriveBytes(G,t.substr(0,8),C);G=S(G);G.start(t);G.update(r.toDer(b.privateKeyToAsn1(B)));G.finish();B={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},
dekInfo:{algorithm:v,parameters:l.util.bytesToHex(t).toUpperCase()},body:G.output.getBytes()};return l.pem.encode(B)};b.decryptRsaPrivateKey=function(B,G){var v=null;B=l.pem.decode(B)[0];if("ENCRYPTED PRIVATE KEY"!==B.type&&"PRIVATE KEY"!==B.type&&"RSA PRIVATE KEY"!==B.type)throw G=Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".'),G.headerType=G,G;if(B.procType&&"ENCRYPTED"===B.procType.type){switch(B.dekInfo.algorithm){case "DES-CBC":var C=
8;var t=l.des.createDecryptionCipher;break;case "DES-EDE3-CBC":C=24;t=l.des.createDecryptionCipher;break;case "AES-128-CBC":C=16;t=l.aes.createDecryptionCipher;break;case "AES-192-CBC":C=24;t=l.aes.createDecryptionCipher;break;case "AES-256-CBC":C=32;t=l.aes.createDecryptionCipher;break;case "RC2-40-CBC":C=5;t=function(k){return l.rc2.createDecryptionCipher(k,40)};break;case "RC2-64-CBC":C=8;t=function(k){return l.rc2.createDecryptionCipher(k,64)};break;case "RC2-128-CBC":C=16;t=function(k){return l.rc2.createDecryptionCipher(k,
128)};break;default:throw G=Error('Could not decrypt private key; unsupported encryption algorithm "'+B.dekInfo.algorithm+'".'),G.algorithm=B.dekInfo.algorithm,G;}var S=l.util.hexToBytes(B.dekInfo.parameters);C=l.pbe.opensslDeriveBytes(G,S.substr(0,8),C);t=t(C);t.start(S);t.update(l.util.createBuffer(B.body));if(t.finish())v=t.output.getBytes();else return v}else v=B.body;v="ENCRYPTED PRIVATE KEY"===B.type?b.decryptPrivateKeyInfo(r.fromDer(v),G):r.fromDer(v);null!==v&&(v=b.privateKeyFromAsn1(v));
return v};b.pbe.generatePkcs12Key=function(B,G,v,C,t,S){var k,e;if("undefined"===typeof S||null===S){if(!("sha1"in l.md))throw Error('"sha1" hash algorithm unavailable.');S=l.md.sha1.create()}var q=S.digestLength,I=S.blockLength,g=new l.util.ByteBuffer,y=new l.util.ByteBuffer;if(null!==B&&void 0!==B){for(e=0;e<B.length;e++)y.putInt16(B.charCodeAt(e));y.putInt16(0)}B=y.length();var J=G.length(),Q=new l.util.ByteBuffer;Q.fillWithByte(v,I);var aa=I*Math.ceil(J/I);v=new l.util.ByteBuffer;for(e=0;e<aa;e++)v.putByte(G.at(e%
J));aa=I*Math.ceil(B/I);G=new l.util.ByteBuffer;for(e=0;e<aa;e++)G.putByte(y.at(e%B));y=v;y.putBuffer(G);G=Math.ceil(t/q);for(v=1;v<=G;v++){aa=new l.util.ByteBuffer;aa.putBytes(Q.bytes());aa.putBytes(y.bytes());for(e=0;e<C;e++)S.start(),S.update(aa.getBytes()),aa=S.digest();var Z=new l.util.ByteBuffer;for(e=0;e<I;e++)Z.putByte(aa.at(e%q));var ca=Math.ceil(J/I)+Math.ceil(B/I),fa=new l.util.ByteBuffer;for(k=0;k<ca;k++){var ha=new l.util.ByteBuffer(y.getBytes(I)),pa=511;for(e=Z.length()-1;0<=e;e--)pa>>=
8,pa+=Z.at(e)+ha.at(e),ha.setAt(e,pa&255);fa.putBuffer(ha)}y=fa;g.putBuffer(aa)}g.truncate(g.length()-t);return g};b.pbe.getCipher=function(B,G,v){switch(B){case b.oids.pkcs5PBES2:return b.pbe.getCipherForPBES2(B,G,v);case b.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case b.oids["pbewithSHAAnd40BitRC2-CBC"]:return b.pbe.getCipherForPKCS12PBE(B,G,v);default:throw G=Error("Cannot read encrypted PBE data block. Unsupported OID."),G.oid=B,G.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],
G;}};b.pbe.getCipherForPBES2=function(B,G,v){var C={};B=[];if(!r.validate(G,z,C,B)){var t=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");t.errors=B;throw t;}B=r.derToOid(C.kdfOid);if(B!==b.oids.pkcs5PBKDF2)throw t=Error("Cannot read encrypted private key. Unsupported key derivation function OID."),t.oid=B,t.supportedOids=["pkcs5PBKDF2"],t;B=r.derToOid(C.encOid);if(B!==b.oids["aes128-CBC"]&&B!==b.oids["aes192-CBC"]&&B!==
b.oids["aes256-CBC"]&&B!==b.oids["des-EDE3-CBC"]&&B!==b.oids.desCBC)throw t=Error("Cannot read encrypted private key. Unsupported encryption scheme OID."),t.oid=B,t.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],t;G=C.kdfSalt;var S=l.util.createBuffer(C.kdfIterationCount);S=S.getInt(S.length()<<3);switch(b.oids[B]){case "aes128-CBC":var k=16;t=l.aes.createDecryptionCipher;break;case "aes192-CBC":k=24;t=l.aes.createDecryptionCipher;break;case "aes256-CBC":k=32;t=l.aes.createDecryptionCipher;
break;case "des-EDE3-CBC":k=24;t=l.des.createDecryptionCipher;break;case "desCBC":k=8,t=l.des.createDecryptionCipher}B=K(C.prfOid);v=l.pkcs5.pbkdf2(v,G,S,k,B);C=C.encIv;t=t(v);t.start(C);return t};b.pbe.getCipherForPKCS12PBE=function(B,G,v){var C={},t=[];if(!r.validate(G,N,C,t))throw v=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo."),v.errors=t,v;t=l.util.createBuffer(C.salt);G=l.util.createBuffer(C.iterations);G=G.getInt(G.length()<<
3);switch(B){case b.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:var S=24;var k=8;B=l.des.startDecrypting;break;case b.oids["pbewithSHAAnd40BitRC2-CBC"]:S=5;k=8;B=function(e,q){e=l.rc2.createDecryptionCipher(e,40);e.start(q,null);return e};break;default:throw v=Error("Cannot read PKCS #12 PBE data block. Unsupported OID."),v.oid=B,v;}C=K(C.prfOid);S=b.pbe.generatePkcs12Key(v,t,1,G,S,C);C.start();v=b.pbe.generatePkcs12Key(v,t,2,G,k,C);return B(S,v)};b.pbe.opensslDeriveBytes=function(B,G,v,C){if("undefined"===
typeof C||null===C){if(!("md5"in l.md))throw Error('"md5" hash algorithm unavailable.');C=l.md.md5.create()}null===G&&(G="");for(var t=[u(C,B+G)],S=16,k=1;S<v;++k,S+=16)t.push(u(C,t[k-1]+B+G));return t.join("").substr(0,v)}},function(R,H,E){function u(r,b,f){for(var p,z,N,B,G,v,C,t,S,k,e,q,I,g=f.length();64<=g;){for(G=0;16>G;++G)b[G]=f.getInt32();for(;64>G;++G)p=b[G-2],p=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,z=b[G-15],z=(z>>>7|z<<25)^(z>>>18|z<<14)^z>>>3,b[G]=p+b[G-7]+z+b[G-16]|0;v=r.h0;C=r.h1;t=r.h2;
S=r.h3;k=r.h4;e=r.h5;q=r.h6;I=r.h7;for(G=0;64>G;++G)p=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7),N=q^k&(e^q),z=(v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10),B=v&C|t&(v^C),p=I+p+N+h[G]+b[G],z+=B,I=q,q=e,e=k,k=S+p>>>0,S=t,t=C,C=v,v=p+z>>>0;r.h0=r.h0+v|0;r.h1=r.h1+C|0;r.h2=r.h2+t|0;r.h3=r.h3+S|0;r.h4=r.h4+k|0;r.h5=r.h5+e|0;r.h6=r.h6+q|0;r.h7=r.h7+I|0;g-=64}}var K=E(5);E(17);E(7);R=R.exports=K.sha256=K.sha256||{};K.md.sha256=K.md.algorithms.sha256=R;R.create=function(){l||(V=String.fromCharCode(128),V+=
K.util.fillString(String.fromCharCode(0),64),h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,
3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=!0);var r=null,b=K.util.createBuffer(),f=Array(64),p={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){p.messageLength=0;p.fullMessageLength=p.messageLength64=[];for(var z=p.messageLengthSize/4,N=
0;N<z;++N)p.fullMessageLength.push(0);b=K.util.createBuffer();r={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return p}};p.start();p.update=function(z,N){"utf8"===N&&(z=K.util.encodeUtf8(z));N=z.length;p.messageLength+=N;N=[N/4294967296>>>0,N>>>0];for(var B=p.fullMessageLength.length-1;0<=B;--B)p.fullMessageLength[B]+=N[1],N[1]=N[0]+(p.fullMessageLength[B]/4294967296>>>0),p.fullMessageLength[B]>>>=0,N[0]=N[1]/4294967296>>>0;b.putBytes(z);
u(r,f,b);(2048<b.read||0===b.length())&&b.compact();return p};p.digest=function(){var z=K.util.createBuffer();z.putBytes(b.bytes());z.putBytes(V.substr(0,p.blockLength-(p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize&p.blockLength-1)));for(var N,B,G=8*p.fullMessageLength[0],v=0;v<p.fullMessageLength.length-1;++v)N=8*p.fullMessageLength[v+1],B=N/4294967296>>>0,G+=B,z.putInt32(G>>>0),G=N>>>0;z.putInt32(G);N={h0:r.h0,h1:r.h1,h2:r.h2,h3:r.h3,h4:r.h4,h5:r.h5,h6:r.h6,h7:r.h7};u(N,
f,z);z=K.util.createBuffer();z.putInt32(N.h0);z.putInt32(N.h1);z.putInt32(N.h2);z.putInt32(N.h3);z.putInt32(N.h4);z.putInt32(N.h5);z.putInt32(N.h6);z.putInt32(N.h7);return z};return p};var V=null,l=!1,h=null},function(R,H,E){(function(u){var K=E(5);E(7);var V=null;!K.util.isNodejs||K.options.usePureJavaScript||u.versions["node-webkit"]||(V=E(39));(R.exports=K.prng=K.prng||{}).create=function(l){function h(N){if(32<=f.pools[0].messageLength)return r(),N();f.seedFile(32-f.pools[0].messageLength<<5,
function(B,G){if(B)return N(B);f.collect(G);r();N()})}function r(){f.reseeds=4294967295===f.reseeds?0:f.reseeds+1;var N=f.plugin.md.create();N.update(f.keyBytes);for(var B=1,G=0;32>G;++G)0===f.reseeds%B&&(N.update(f.pools[G].digest().getBytes()),f.pools[G].start()),B<<=1;f.keyBytes=N.digest().getBytes();N.start();N.update(f.keyBytes);N=N.digest().getBytes();f.key=f.plugin.formatKey(f.keyBytes);f.seed=f.plugin.formatSeed(N);f.generated=0}function b(N){var B=null,G=K.util.globalScope,v=G.crypto||G.msCrypto;
v&&v.getRandomValues&&(B=function(S){return v.getRandomValues(S)});G=K.util.createBuffer();if(B)for(;G.length()<N;){var C=Math.max(1,Math.min(N-G.length(),65536)/4),t=new Uint32Array(Math.floor(C));try{for(B(t),C=0;C<t.length;++C)G.putInt32(t[C])}catch(S){if(!("undefined"!==typeof QuotaExceededError&&S instanceof QuotaExceededError))throw S;}}if(G.length()<N)for(B=Math.floor(65536*Math.random());G.length()<N;)for(C=16807*(B&65535),B=16807*(B>>16),C+=(B&32767)<<16,C+=B>>15,C=(C&2147483647)+(C>>31),
B=C&4294967295,C=0;3>C;++C)t=B>>>(C<<3),t^=Math.floor(256*Math.random()),G.putByte(String.fromCharCode(t&255));return G.getBytes(N)}var f={plugin:l,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""};l=l.md;for(var p=Array(32),z=0;32>z;++z)p[z]=l.create();f.pools=p;f.pool=0;f.generate=function(N,B){function G(e){if(e)return B(e);if(k.length()>=N)return B(null,k.getBytes(N));1048575<f.generated&&(f.key=null);if(null===f.key)return K.util.nextTick(function(){h(G)});e=v(f.key,f.seed);f.generated+=
e.length;k.putBytes(e);f.key=t(v(f.key,C(f.seed)));f.seed=S(v(f.key,f.seed));K.util.setImmediate(G)}if(!B)return f.generateSync(N);var v=f.plugin.cipher,C=f.plugin.increment,t=f.plugin.formatKey,S=f.plugin.formatSeed,k=K.util.createBuffer();f.key=null;G()};f.generateSync=function(N){var B=f.plugin.cipher,G=f.plugin.increment,v=f.plugin.formatKey,C=f.plugin.formatSeed;f.key=null;for(var t=K.util.createBuffer();t.length()<N;){1048575<f.generated&&(f.key=null);null===f.key&&(32<=f.pools[0].messageLength||
f.collect(f.seedFileSync(32-f.pools[0].messageLength<<5)),r());var S=B(f.key,f.seed);f.generated+=S.length;t.putBytes(S);f.key=v(B(f.key,G(f.seed)));f.seed=C(B(f.key,f.seed))}return t.getBytes(N)};V?(f.seedFile=function(N,B){V.randomBytes(N,function(G,v){if(G)return B(G);B(null,v.toString())})},f.seedFileSync=function(N){return V.randomBytes(N).toString()}):(f.seedFile=function(N,B){try{B(null,b(N))}catch(G){B(G)}},f.seedFileSync=b);f.collect=function(N){for(var B=N.length,G=0;G<B;++G)f.pools[f.pool].update(N.substr(G,
1)),f.pool=31===f.pool?0:f.pool+1};f.collectInt=function(N,B){for(var G="",v=0;v<B;v+=8)G+=String.fromCharCode(N>>v&255);f.collect(G)};f.registerWorker=function(N){N===self?f.seedFile=function(B,G){function v(C){C=C.data;C.forge&&C.forge.prng&&(self.removeEventListener("message",v),G(C.forge.prng.err,C.forge.prng.bytes))}self.addEventListener("message",v);self.postMessage({forge:{prng:{needed:B}}})}:N.addEventListener("message",function(B){B=B.data;B.forge&&B.forge.prng&&f.seedFile(B.forge.prng.needed,
function(G,v){N.postMessage({forge:{prng:{err:G,bytes:v}}})})})};return f}}).call(this,E(31))},function(R,H,E){var u=E(5);E(7);var K=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,
7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,
165,156,119,10,166,32,104,254,127,193,173],V=[1,2,3,5];R.exports=u.rc2=u.rc2||{};u.rc2.expandKey=function(h,r){"string"===typeof h&&(h=u.util.createBuffer(h));r=r||128;var b=h;h=h.length();var f=r;r=Math.ceil(f/8);f=255>>(f&7);var p;for(p=h;128>p;p++)b.putByte(K[b.at(p-1)+b.at(p-h)&255]);b.setAt(128-r,K[b.at(128-r)&f]);for(p=127-r;0<=p;p--)b.setAt(p,K[b.at(p+1)^b.at(p+r)]);return b};var l=function(h,r,b){var f=!1,p=null,z=null,N=null,B,G,v=[];h=u.rc2.expandKey(h,r);for(B=0;64>B;B++)v.push(h.getInt16Le());
if(b){var C=function(k){for(B=0;4>B;B++){k[B]+=v[G]+(k[(B+3)%4]&k[(B+2)%4])+(~k[(B+3)%4]&k[(B+1)%4]);var e=k[B],q=V[B];k[B]=e<<q&65535|(e&65535)>>16-q;G++}};var t=function(k){for(B=0;4>B;B++)k[B]+=v[k[(B+3)%4]&63]}}else C=function(k){for(B=3;0<=B;B--){var e=k[B],q=V[B];k[B]=(e&65535)>>q|e<<16-q&65535;k[B]-=v[G]+(k[(B+3)%4]&k[(B+2)%4])+(~k[(B+3)%4]&k[(B+1)%4]);G--}},t=function(k){for(B=3;0<=B;B--)k[B]-=v[k[(B+3)%4]&63]};var S=null;return S={start:function(k,e){k&&"string"===typeof k&&(k=u.util.createBuffer(k));
f=!1;p=u.util.createBuffer();z=e||new u.util.createBuffer;N=k;S.output=z},update:function(k){for(f||p.putBuffer(k);8<=p.length();){k=[[5,C],[1,t],[6,C],[1,t],[5,C]];var e=[];for(B=0;4>B;B++){var q=p.getInt16Le();null!==N&&(b?q^=N.getInt16Le():N.putInt16Le(q));e.push(q&65535)}G=b?0:63;for(q=0;q<k.length;q++)for(var I=0;I<k[q][0];I++)k[q][1](e);for(B=0;4>B;B++)null!==N&&(b?N.putInt16Le(e[B]):e[B]^=N.getInt16Le()),z.putInt16Le(e[B])}},finish:function(k){var e=!0;if(b)if(k)e=k(8,p,!b);else{var q=8===
p.length()?8:8-p.length();p.fillWithByte(q,q)}e&&(f=!0,S.update());!b&&(e=0===p.length())&&(k?e=k(8,z,!b):(k=z.length(),q=z.at(k-1),q>k?e=!1:z.truncate(q)));return e}}};u.rc2.startEncrypting=function(h,r,b){h=u.rc2.createEncryptionCipher(h,128);h.start(r,b);return h};u.rc2.createEncryptionCipher=function(h,r){return l(h,r,!0)};u.rc2.startDecrypting=function(h,r,b){h=u.rc2.createDecryptionCipher(h,128);h.start(r,b);return h};u.rc2.createDecryptionCipher=function(h,r){return l(h,r,!1)}},function(R,
H,E){function u(V,l,h){h||(h=K.md.sha1.create());for(var r="",b=Math.ceil(l/h.digestLength),f=0;f<b;++f){var p=String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,f&255);h.start();h.update(V+p);r+=h.digest().getBytes()}return r.substring(0,l)}var K=E(5);E(7);E(14);E(26);R=R.exports=K.pkcs1=K.pkcs1||{};R.encode_rsa_oaep=function(V,l,h,r,b){if("string"===typeof h){var f=h;var p=r||void 0;var z=b||void 0}else if(h&&(f=h.label||void 0,p=h.seed||void 0,z=h.md||void 0,h.mgf1&&h.mgf1.md))var N=h.mgf1.md;z?
z.start():z=K.md.sha1.create();N||(N=z);V=Math.ceil(V.n.bitLength()/8);h=V-2*z.digestLength-2;if(l.length>h)throw N=Error("RSAES-OAEP input message length is too long."),N.length=l.length,N.maxLength=h,N;f||(f="");z.update(f,"raw");f=z.digest();r="";h-=l.length;for(b=0;b<h;b++)r+="\x00";l=f.getBytes()+r+"\u0001"+l;if(!p)p=K.random.getBytes(z.digestLength);else if(p.length!==z.digestLength)throw N=Error("Invalid RSAES-OAEP seed. The seed length must match the digest length."),N.seedLength=p.length,
N.digestLength=z.digestLength,N;V=u(p,V-z.digestLength-1,N);l=K.util.xorBytes(l,V,l.length);z=u(l,z.digestLength,N);return"\x00"+K.util.xorBytes(p,z,p.length)+l};R.decode_rsa_oaep=function(V,l,h,r){if("string"===typeof h){var b=h;var f=r||void 0}else if(h&&(b=h.label||void 0,f=h.md||void 0,h.mgf1&&h.mgf1.md))var p=h.mgf1.md;h=Math.ceil(V.n.bitLength()/8);if(l.length!==h)throw p=Error("RSAES-OAEP encoded message length is invalid."),p.length=l.length,p.expectedLength=h,p;void 0===f?f=K.md.sha1.create():
f.start();p||(p=f);if(h<2*f.digestLength+2)throw Error("RSAES-OAEP key is too short for the hash function.");b||(b="");f.update(b,"raw");b=f.digest().getBytes();V=l.charAt(0);r=l.substring(1,f.digestLength+1);l=l.substring(1+f.digestLength);var z=u(l,f.digestLength,p);r=K.util.xorBytes(r,z,r.length);p=u(r,h-f.digestLength-1,p);l=K.util.xorBytes(l,p,l.length);h=l.substring(0,f.digestLength);p="\x00"!==V;for(V=0;V<f.digestLength;++V)p|=b.charAt(V)!==h.charAt(V);b=1;for(f=V=f.digestLength;f<l.length;f++)h=
l.charCodeAt(f),r=h&1^1,p|=h&(b?65534:0),b&=r,V+=b;if(p||1!==l.charCodeAt(V))throw Error("Invalid RSAES-OAEP padding.");return l.substring(V+1)}},function(R,H,E){var u=E(5);E(7);E(34);E(14);(function(){function K(B,G,v,C){return"workers"in v?h(B,G,v,C):V(B,G,v,C)}function V(B,G,v,C){var t=r(B,G);var S=t.bitLength();S=100>=S?27:150>=S?18:200>=S?15:250>=S?12:300>=S?9:350>=S?8:400>=S?7:500>=S?6:600>=S?5:800>=S?4:1250>=S?3:2;"millerRabinTests"in v&&(S=v.millerRabinTests);var k=10;"maxBlockTime"in v&&
(k=v.maxBlockTime);l(t,B,G,0,S,k,C)}function l(B,G,v,C,t,S,k){var e=+new Date;do{B.bitLength()>G&&(B=r(G,v));if(B.isProbablePrime(t))return k(null,B);B.dAddOffset(p[C++%8],0)}while(0>S||+new Date-e<S);u.util.setImmediate(function(){l(B,G,v,C,t,S,k)})}function h(B,G,v,C){function t(){function g(Z){if(!aa){--Q;var ca=Z.data;if(ca.found){for(Z=0;Z<y.length;++Z)y[Z].terminate();aa=!0;return C(null,new f(ca.prime,16))}S.bitLength()>B&&(S=r(B,G));ca=S.toString(16);Z.target.postMessage({hex:ca,workLoad:e});
S.dAddOffset(q,0)}}k=Math.max(1,k);for(var y=[],J=0;J<k;++J)y[J]=new Worker(I);var Q=k;for(J=0;J<k;++J)y[J].addEventListener("message",g);var aa=!1}if("undefined"===typeof Worker)return V(B,G,v,C);var S=r(B,G),k=v.workers,e=v.workLoad||100,q=30*e/8,I=v.workerScript||"forge/prime.worker.js";if(-1===k)return u.util.estimateCores(function(g,y){g&&(y=2);k=y-1;t()});t()}function r(B,G){G=new f(B,G);--B;G.testBit(B)||G.bitwiseTo(f.ONE.shiftLeft(B),N,G);G.dAddOffset(31-G.mod(z).byteValue(),0);return G}if(u.prime)R.exports=
u.prime;else{var b=R.exports=u.prime=u.prime||{},f=u.jsbn.BigInteger,p=[6,4,2,4,2,4,6,2],z=new f(null);z.fromInt(30);var N=function(B,G){return B|G};b.generateProbablePrime=function(B,G,v){"function"===typeof G&&(v=G,G={});G=G||{};var C=G.algorithm||"PRIMEINC";"string"===typeof C&&(C={name:C});C.options=C.options||{};var t=G.prng||u.random;G={nextBytes:function(S){for(var k=t.getBytesSync(S.length),e=0;e<S.length;++e)S[e]=k.charCodeAt(e)}};if("PRIMEINC"===C.name)return K(B,G,C.options,v);throw Error("Invalid prime generation algorithm: "+
C.name);}}})()},function(R,H,E){function u(C,t,S,k){for(var e=[],q=0;q<C.length;q++)for(var I=0;I<C[q].safeBags.length;I++){var g=C[q].safeBags[I];if(void 0===k||g.type===k)null===t?e.push(g):void 0!==g.attributes[t]&&0<=g.attributes[t].indexOf(S)&&e.push(g)}return e}function K(C){if(C.composed||C.constructed){for(var t=r.util.createBuffer(),S=0;S<C.value.length;++S)t.putBytes(C.value[S].value);C.composed=C.constructed=!1;C.value=t.getBytes()}return C}function V(C,t,S,k){t=b.fromDer(t,S);if(t.tagClass!==
b.Class.UNIVERSAL||t.type!==b.Type.SEQUENCE||!0!==t.constructed)throw Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var e=0;e<t.value.length;e++){var q={},I=[];if(!b.validate(t.value[e],z,q,I))throw C=Error("Cannot read ContentInfo."),C.errors=I,C;I={encrypted:!1};var g=q.content.value[0];switch(b.derToOid(q.contentType)){case f.oids.data:if(g.tagClass!==b.Class.UNIVERSAL||g.type!==b.Type.OCTETSTRING)throw Error("PKCS#12 SafeContents Data is not an OCTET STRING.");
q=K(g).value;break;case f.oids.encryptedData:var y=k;q={};var J=[];if(!b.validate(g,r.pkcs7.asn1.encryptedDataValidator,q,J))throw C=Error("Cannot read EncryptedContentInfo."),C.errors=J,C;g=b.derToOid(q.contentType);if(g!==f.oids.data)throw C=Error("PKCS#12 EncryptedContentInfo ContentType is not Data."),C.oid=g,C;g=b.derToOid(q.encAlgorithm);g=f.pbe.getCipher(g,q.encParameter,y);q=K(q.encryptedContentAsn1);q=r.util.createBuffer(q.value);g.update(q);if(!g.finish())throw Error("Failed to decrypt PKCS#12 SafeContents.");
q=g.output.getBytes();I.encrypted=!0;break;default:throw C=Error("Unsupported PKCS#12 contentType."),C.contentType=b.derToOid(q.contentType),C;}I.safeBags=l(q,S,k);C.safeContents.push(I)}}function l(C,t,S){if(!t&&0===C.length)return[];C=b.fromDer(C,t);if(C.tagClass!==b.Class.UNIVERSAL||C.type!==b.Type.SEQUENCE||!0!==C.constructed)throw Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var k=[],e=0;e<C.value.length;e++){var q={},I=[];if(!b.validate(C.value[e],B,q,I))throw C=Error("Cannot read SafeBag."),
C.errors=I,C;var g={type:b.derToOid(q.bagId),attributes:h(q.bagAttributes)};k.push(g);var y=q.bagValue.value[0];switch(g.type){case f.oids.pkcs8ShroudedKeyBag:if(y=f.decryptPrivateKeyInfo(y,S),null===y)throw Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case f.oids.keyBag:try{g.key=f.privateKeyFromAsn1(y)}catch(aa){g.key=null,g.asn1=y}continue;case f.oids.certBag:var J=v;var Q=function(){if(b.derToOid(q.certId)!==f.oids.x509Certificate){var aa=Error("Unsupported certificate type, only X.509 supported.");
aa.oid=b.derToOid(q.certId);throw aa;}aa=b.fromDer(q.cert,t);try{g.cert=f.certificateFromAsn1(aa,!0)}catch(Z){g.cert=null,g.asn1=aa}};break;default:throw C=Error("Unsupported PKCS#12 SafeBag type."),C.oid=g.type,C;}if(void 0!==J&&!b.validate(y,J,q,I))throw C=Error("Cannot read PKCS#12 "+J.name),C.errors=I,C;Q()}return k}function h(C){var t={};if(void 0!==C)for(var S=0;S<C.length;++S){var k={},e=[];if(!b.validate(C[S],G,k,e))throw C=Error("Cannot read PKCS#12 BagAttribute."),C.errors=e,C;e=b.derToOid(k.oid);
if(void 0!==f.oids[e]){t[f.oids[e]]=[];for(var q=0;q<k.values.length;++q)t[f.oids[e]].push(k.values[q].value)}}return t}var r=E(5);E(16);E(25);E(21);E(58);E(51);E(14);E(33);E(26);E(7);E(40);var b=r.asn1,f=r.pki,p=R.exports=r.pkcs12=r.pkcs12||{},z={name:"ContentInfo",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:b.Class.CONTEXT_SPECIFIC,
constructed:!0,captureAsn1:"content"}]},N={name:"PFX",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,capture:"version"},z,{name:"PFX.macData",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:b.Class.UNIVERSAL,
type:b.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:b.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:b.Class.UNIVERSAL,type:b.Type.OCTETSTRING,constructed:!1,
capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:b.Class.UNIVERSAL,type:b.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},B={name:"SafeBag",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:b.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:b.Class.UNIVERSAL,type:b.Type.SET,
constructed:!0,optional:!0,capture:"bagAttributes"}]},G={name:"Attribute",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:b.Class.UNIVERSAL,type:b.Type.SET,constructed:!0,capture:"values"}]},v={name:"CertBag",tagClass:b.Class.UNIVERSAL,type:b.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:b.Class.UNIVERSAL,type:b.Type.OID,
constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:b.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:b.Class.UNIVERSAL,type:b.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};p.pkcs12FromAsn1=function(C,t,S){"string"===typeof t?(S=t,t=!0):void 0===t&&(t=!0);var k={};if(!b.validate(C,N,k,[]))throw t=Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX."),t.errors=t,t;var e={version:k.version.charCodeAt(0),safeContents:[],getBags:function(J){var Q=
{},aa;"localKeyId"in J?aa=J.localKeyId:"localKeyIdHex"in J&&(aa=r.util.hexToBytes(J.localKeyIdHex));void 0===aa&&!("friendlyName"in J)&&"bagType"in J&&(Q[J.bagType]=u(e.safeContents,null,null,J.bagType));void 0!==aa&&(Q.localKeyId=u(e.safeContents,"localKeyId",aa,J.bagType));"friendlyName"in J&&(Q.friendlyName=u(e.safeContents,"friendlyName",J.friendlyName,J.bagType));return Q},getBagsByFriendlyName:function(J,Q){return u(e.safeContents,"friendlyName",J,Q)},getBagsByLocalKeyId:function(J,Q){return u(e.safeContents,
"localKeyId",J,Q)}};if(3!==k.version.charCodeAt(0))throw t=Error("PKCS#12 PFX of version other than 3 not supported."),t.version=k.version.charCodeAt(0),t;if(b.derToOid(k.contentType)!==f.oids.data)throw t=Error("Only PKCS#12 PFX in password integrity mode supported."),t.oid=b.derToOid(k.contentType),t;C=k.content.value[0];if(C.tagClass!==b.Class.UNIVERSAL||C.type!==b.Type.OCTETSTRING)throw Error("PKCS#12 authSafe content data is not an OCTET STRING.");C=K(C);if(k.mac){var q=null,I=0,g=b.derToOid(k.macAlgorithm);
switch(g){case f.oids.sha1:q=r.md.sha1.create();I=20;break;case f.oids.sha256:q=r.md.sha256.create();I=32;break;case f.oids.sha384:q=r.md.sha384.create();I=48;break;case f.oids.sha512:q=r.md.sha512.create();I=64;break;case f.oids.md5:q=r.md.md5.create(),I=16}if(null===q)throw Error("PKCS#12 uses unsupported MAC algorithm: "+g);g=new r.util.ByteBuffer(k.macSalt);var y="macIterations"in k?parseInt(r.util.bytesToHex(k.macIterations),16):1;I=p.generateKey(S,g,3,y,I,q);g=r.hmac.create();g.start(q,I);g.update(C.value);
if(g.getMac().getBytes()!==k.macDigest)throw Error("PKCS#12 MAC could not be verified. Invalid password?");}V(e,C.value,t,S);return e};p.toPkcs12Asn1=function(C,t,S,k){k=k||{};k.saltSize=k.saltSize||8;k.count=k.count||2048;k.algorithm=k.algorithm||k.encAlgorithm||"aes128";"useMac"in k||(k.useMac=!0);"localKeyId"in k||(k.localKeyId=null);"generateLocalKeyId"in k||(k.generateLocalKeyId=!0);var e=k.localKeyId,q;if(null!==e)e=r.util.hexToBytes(e);else if(k.generateLocalKeyId)if(t){var I=r.util.isArray(t)?
t[0]:t;"string"===typeof I&&(I=f.certificateFromPem(I));e=r.md.sha1.create();e.update(b.toDer(f.certificateToAsn1(I)).getBytes());e=e.digest().getBytes()}else e=r.random.getBytes(20);I=[];null!==e&&I.push(b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f.oids.localKeyId).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SET,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,e)])]));"friendlyName"in k&&I.push(b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,
!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f.oids.friendlyName).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SET,!0,[b.create(b.Class.UNIVERSAL,b.Type.BMPSTRING,!1,k.friendlyName)])]));0<I.length&&(q=b.create(b.Class.UNIVERSAL,b.Type.SET,!0,I));e=[];I=[];null!==t&&(I=r.util.isArray(t)?t:[t]);for(var g=[],y=0;y<I.length;++y){t=I[y];"string"===typeof t&&(t=f.certificateFromPem(t));var J=0===y?q:void 0;t=f.certificateToAsn1(t);t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,
b.Type.OID,!1,b.oidToDer(f.oids.certBag).getBytes()),b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f.oids.x509Certificate).getBytes()),b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,b.toDer(t).getBytes())])])]),J]);g.push(t)}0<g.length&&(t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,g),t=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,
!1,b.oidToDer(f.oids.data).getBytes()),b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,b.toDer(t).getBytes())])]),e.push(t));null!==C&&(C=f.wrapRsaPrivateKey(f.privateKeyToAsn1(C)),C=null===S?b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f.oids.keyBag).getBytes()),b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[C]),q]):b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f.oids.pkcs8ShroudedKeyBag).getBytes()),
b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[f.encryptPrivateKeyInfo(C,S,k)]),q]),C=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[C]),C=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f.oids.data).getBytes()),b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,b.toDer(C).getBytes())])]),e.push(C));q=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,e);if(k.useMac){e=r.md.sha1.create();var Q=new r.util.ByteBuffer(r.random.getBytes(k.saltSize));
k=k.count;C=p.generateKey(S,Q,3,k,20);S=r.hmac.create();S.start(e,C);S.update(b.toDer(q).getBytes());S=S.getMac();Q=b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f.oids.sha1).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.NULL,!1,"")]),b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,S.getBytes())]),b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,Q.getBytes()),
b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(k).getBytes())])}return b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.INTEGER,!1,b.integerToDer(3).getBytes()),b.create(b.Class.UNIVERSAL,b.Type.SEQUENCE,!0,[b.create(b.Class.UNIVERSAL,b.Type.OID,!1,b.oidToDer(f.oids.data).getBytes()),b.create(b.Class.CONTEXT_SPECIFIC,0,!0,[b.create(b.Class.UNIVERSAL,b.Type.OCTETSTRING,!1,b.toDer(q).getBytes())])]),Q])};p.generateKey=r.pbe.generatePkcs12Key},function(R,
H,E){H=E(5);E(16);E(7);E=H.asn1;R=R.exports=H.pkcs7asn1=H.pkcs7asn1||{};H.pkcs7=H.pkcs7||{};H.pkcs7.asn1=R;H={name:"ContentInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};R.contentInfoValidator=H;var u={name:"EncryptedContentInfo",tagClass:E.Class.UNIVERSAL,
type:E.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",
tagClass:E.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};R.envelopedDataValidator={name:"EnvelopedData",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:E.Class.UNIVERSAL,
type:E.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(u)};R.encryptedDataValidator={name:"EncryptedData",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"version"}].concat(u)};R.signedDataValidator={name:"SignedData",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,
capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:E.Class.UNIVERSAL,type:E.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},H,{name:"SignedData.Certificates",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:E.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:E.Class.UNIVERSAL,type:E.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",
tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,
constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:E.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,
optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:E.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]};R.recipientInfoValidator={name:"RecipientInfo",
tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,
constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:E.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,
capture:"encKey"}]}},function(R,H,E){var u=E(5);E(7);u.mgf=u.mgf||{};(R.exports=u.mgf.mgf1=u.mgf1=u.mgf1||{}).create=function(K){return{generate:function(V,l){for(var h=new u.util.ByteBuffer,r=Math.ceil(l/K.digestLength),b=0;b<r;b++){var f=new u.util.ByteBuffer;f.putInt32(b);K.start();K.update(V+f.getBytes());h.putBuffer(K.digest())}h.truncate(h.length()-l);return h.getBytes()}}}},function(R,H,E){var u=E(5);R.exports=u.debug=u.debug||{};u.debug.storage={};u.debug.get=function(K,V){var l;"undefined"===
typeof K?l=u.debug.storage:K in u.debug.storage&&(l="undefined"===typeof V?u.debug.storage[K]:u.debug.storage[K][V]);return l};u.debug.set=function(K,V,l){K in u.debug.storage||(u.debug.storage[K]={});u.debug.storage[K][V]=l};u.debug.clear=function(K,V){"undefined"===typeof K?u.debug.storage={}:K in u.debug.storage&&("undefined"===typeof V?delete u.debug.storage[K]:delete u.debug.storage[K][V])}},function(R,H,E){function u(f,p,z){for(var N,B,G,v,C,t,S,k,e,q,I,g,y,J,Q,aa,Z,ca,fa,ha,pa,x,n,w,F,W=z.length();128<=
W;){for(F=0;16>F;++F)p[F][0]=z.getInt32()>>>0,p[F][1]=z.getInt32()>>>0;for(;80>F;++F)C=p[F-2],e=C[0],C=C[1],N=((e>>>19|C<<13)^(C>>>29|e<<3)^e>>>6)>>>0,B=((e<<13|C>>>19)^(C<<3|e>>>29)^(e<<26|C>>>6))>>>0,C=p[F-15],e=C[0],C=C[1],G=((e>>>1|C<<31)^(e>>>8|C<<24)^e>>>7)>>>0,v=((e<<31|C>>>1)^(e<<24|C>>>8)^(e<<25|C>>>7))>>>0,e=p[F-7],q=p[F-16],C=B+e[1]+v+q[1],p[F][0]=N+e[0]+G+q[0]+(C/4294967296>>>0)>>>0,p[F][1]=C>>>0;e=f[0][0];q=f[0][1];I=f[1][0];g=f[1][1];y=f[2][0];J=f[2][1];Q=f[3][0];aa=f[3][1];Z=f[4][0];
ca=f[4][1];fa=f[5][0];ha=f[5][1];pa=f[6][0];x=f[6][1];n=f[7][0];w=f[7][1];for(F=0;80>F;++F)N=((Z>>>14|ca<<18)^(Z>>>18|ca<<14)^(ca>>>9|Z<<23))>>>0,C=((Z<<18|ca>>>14)^(Z<<14|ca>>>18)^(ca<<23|Z>>>9))>>>0,B=(pa^Z&(fa^pa))>>>0,t=(x^ca&(ha^x))>>>0,G=((e>>>28|q<<4)^(q>>>2|e<<30)^(q>>>7|e<<25))>>>0,v=((e<<4|q>>>28)^(q<<30|e>>>2)^(q<<25|e>>>7))>>>0,S=(e&I|y&(e^I))>>>0,k=(q&g|J&(q^g))>>>0,C=w+C+t+r[F][1]+p[F][1],N=n+N+B+r[F][0]+p[F][0]+(C/4294967296>>>0)>>>0,B=C>>>0,C=v+k,G=G+S+(C/4294967296>>>0)>>>0,v=C>>>
0,n=pa,w=x,pa=fa,x=ha,fa=Z,ha=ca,C=aa+B,Z=Q+N+(C/4294967296>>>0)>>>0,ca=C>>>0,Q=y,aa=J,y=I,J=g,I=e,g=q,C=B+v,e=N+G+(C/4294967296>>>0)>>>0,q=C>>>0;C=f[0][1]+q;f[0][0]=f[0][0]+e+(C/4294967296>>>0)>>>0;f[0][1]=C>>>0;C=f[1][1]+g;f[1][0]=f[1][0]+I+(C/4294967296>>>0)>>>0;f[1][1]=C>>>0;C=f[2][1]+J;f[2][0]=f[2][0]+y+(C/4294967296>>>0)>>>0;f[2][1]=C>>>0;C=f[3][1]+aa;f[3][0]=f[3][0]+Q+(C/4294967296>>>0)>>>0;f[3][1]=C>>>0;C=f[4][1]+ca;f[4][0]=f[4][0]+Z+(C/4294967296>>>0)>>>0;f[4][1]=C>>>0;C=f[5][1]+ha;f[5][0]=
f[5][0]+fa+(C/4294967296>>>0)>>>0;f[5][1]=C>>>0;C=f[6][1]+x;f[6][0]=f[6][0]+pa+(C/4294967296>>>0)>>>0;f[6][1]=C>>>0;C=f[7][1]+w;f[7][0]=f[7][0]+n+(C/4294967296>>>0)>>>0;f[7][1]=C>>>0;W-=128}}var K=E(5);E(17);E(7);var V=R.exports=K.sha512=K.sha512||{};K.md.sha512=K.md.algorithms.sha512=V;R=K.sha384=K.sha512.sha384=K.sha512.sha384||{};R.create=function(){return V.create("SHA-384")};K.md.sha384=K.md.algorithms.sha384=R;K.sha512.sha256=K.sha512.sha256||{create:function(){return V.create("SHA-512/256")}};
K.md["sha512/256"]=K.md.algorithms["sha512/256"]=K.sha512.sha256;K.sha512.sha224=K.sha512.sha224||{create:function(){return V.create("SHA-512/224")}};K.md["sha512/224"]=K.md.algorithms["sha512/224"]=K.sha512.sha224;V.create=function(f){h||(l=String.fromCharCode(128),l+=K.util.fillString(String.fromCharCode(0),128),r=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],
[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,
2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],
[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,
587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],b={"SHA-512":[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],"SHA-384":[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],
[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],"SHA-512/256":[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],"SHA-512/224":[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]]},h=!0);"undefined"===typeof f&&
(f="SHA-512");if(!(f in b))throw Error("Invalid SHA-512 algorithm: "+f);for(var p=b[f],z=null,N=K.util.createBuffer(),B=Array(80),G=0;80>G;++G)B[G]=Array(2);G=64;switch(f){case "SHA-384":G=48;break;case "SHA-512/256":G=32;break;case "SHA-512/224":G=28}var v={algorithm:f.replace("-","").toLowerCase(),blockLength:128,digestLength:G,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){v.messageLength=0;v.fullMessageLength=v.messageLength128=[];for(var C=v.messageLengthSize/4,
t=0;t<C;++t)v.fullMessageLength.push(0);N=K.util.createBuffer();z=Array(p.length);for(t=0;t<p.length;++t)z[t]=p[t].slice(0);return v}};v.start();v.update=function(C,t){"utf8"===t&&(C=K.util.encodeUtf8(C));t=C.length;v.messageLength+=t;t=[t/4294967296>>>0,t>>>0];for(var S=v.fullMessageLength.length-1;0<=S;--S)v.fullMessageLength[S]+=t[1],t[1]=t[0]+(v.fullMessageLength[S]/4294967296>>>0),v.fullMessageLength[S]>>>=0,t[0]=t[1]/4294967296>>>0;N.putBytes(C);u(z,B,N);(2048<N.read||0===N.length())&&N.compact();
return v};v.digest=function(){var C=K.util.createBuffer();C.putBytes(N.bytes());C.putBytes(l.substr(0,v.blockLength-(v.fullMessageLength[v.fullMessageLength.length-1]+v.messageLengthSize&v.blockLength-1)));for(var t,S,k=8*v.fullMessageLength[0],e=0;e<v.fullMessageLength.length-1;++e)t=8*v.fullMessageLength[e+1],S=t/4294967296>>>0,k+=S,C.putInt32(k>>>0),k=t>>>0;C.putInt32(k);t=Array(z.length);for(e=0;e<z.length;++e)t[e]=z[e].slice(0);u(t,B,C);C=K.util.createBuffer();S="SHA-512"===f?t.length:"SHA-384"===
f?t.length-2:t.length-4;for(e=0;e<S;++e)C.putInt32(t[e][0]),e===S-1&&"SHA-512/224"===f||C.putInt32(t[e][1]);return C};return v};var l=null,h=!1,r=null,b=null},function(R,H,E){var u=E(5);E(7);R.exports=u.log=u.log||{};u.log.levels="none error warning info debug verbose max".split(" ");var K={},V=[];R=null;u.log.LEVEL_LOCKED=2;u.log.NO_LEVEL_CHECK=4;u.log.INTERPOLATE=8;for(H=0;H<u.log.levels.length;++H)E=u.log.levels[H],K[E]={index:H,name:E.toUpperCase()};u.log.logMessage=function(h){for(var r=K[h.level].index,
b=0;b<V.length;++b){var f=V[b];f.flags&u.log.NO_LEVEL_CHECK?f.f(h):r<=K[f.level].index&&f.f(f,h)}};u.log.prepareStandard=function(h){"standard"in h||(h.standard=K[h.level].name+" ["+h.category+"] "+h.message)};u.log.prepareFull=function(h){if(!("full"in h)){var r=[h.message];r=r.concat([]);h.full=u.util.format.apply(this,r)}};u.log.prepareStandardFull=function(h){"standardFull"in h||(u.log.prepareStandard(h),h.standardFull=h.standard)};E=["error","warning","info","debug","verbose"];for(H=0;H<E.length;++H)(function(h){u.log[h]=
function(r,b){var f=Array.prototype.slice.call(arguments).slice(2);u.log.logMessage({timestamp:new Date,level:h,category:r,message:b,arguments:f})}})(E[H]);u.log.makeLogger=function(h){h={flags:0,f:h};u.log.setLevel(h,"none");return h};u.log.setLevel=function(h,r){var b=!1;if(h&&!(h.flags&u.log.LEVEL_LOCKED))for(var f=0;f<u.log.levels.length;++f)if(r==u.log.levels[f]){h.level=r;b=!0;break}return b};u.log.lock=function(h,r){h.flags="undefined"===typeof r||r?h.flags|u.log.LEVEL_LOCKED:h.flags&~u.log.LEVEL_LOCKED};
u.log.addLogger=function(h){V.push(h)};if("undefined"!==typeof console&&"log"in console){if(console.error&&console.warn&&console.info&&console.debug){var l={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug};R=function(h,r){u.log.prepareStandard(r);h=l[r.level];var b=[r.standard];b=b.concat(r.arguments.slice());h.apply(console,b)}}else R=function(h,r){u.log.prepareStandardFull(r);console.log(r.standardFull)};R=u.log.makeLogger(R);u.log.setLevel(R,
"debug");u.log.addLogger(R)}else console={log:function(){}};null!==R&&(H=u.util.getQueryVariables(),"console.level"in H&&u.log.setLevel(R,H["console.level"].slice(-1)[0]),"console.lock"in H&&"true"==H["console.lock"].slice(-1)[0]&&u.log.lock(R));u.log.consoleLogger=R},function(R,H,E){E.d(H,"a",function(){return l});var u=E(6),K=u.Buffer.from&&u.Buffer.alloc&&u.Buffer.allocUnsafe&&u.Buffer.allocUnsafeSlow?u.Buffer.from:function(G){return new u.Buffer(G)};R=function(G,v){var C=function(t,S){return v(t,
S)>>>0};C.signed=v;C.unsigned=C;C.model=G;return C};R("crc1",function(G,v){u.Buffer.isBuffer(G)||(G=K(G));for(var C=0,t=0;t<G.length;t++)C+=G[t];return(~~v+C%256)%256});var V=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,
136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,
159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];"undefined"!==typeof Int32Array&&(V=new Int32Array(V));var l=R("crc-8",function(G,v){u.Buffer.isBuffer(G)||(G=K(G));v=~~v;for(var C=0;C<G.length;C++)v=V[(v^G[C])&255]&255;return v}),h=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,
164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,
139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];"undefined"!==typeof Int32Array&&(h=new Int32Array(h));R("dallas-1-wire",function(G,v){u.Buffer.isBuffer(G)||(G=K(G));v=~~v;for(var C=0;C<G.length;C++)v=h[(v^G[C])&255]&255;return v});var r=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,
52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8E3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16E3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,
9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32E3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,
21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&(r=new Int32Array(r));R("crc-16",function(G,v){u.Buffer.isBuffer(G)||(G=K(G));v=~~v;for(var C=0;C<G.length;C++)v=(r[(v^
G[C])&255]^v>>8)&65535;return v});var b=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,
23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,
54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,
11923,16050,3793,7920];"undefined"!==typeof Int32Array&&(b=new Int32Array(b));R("ccitt",function(G,v){u.Buffer.isBuffer(G)||(G=K(G));v="undefined"!==typeof v?~~v:65535;for(var C=0;C<G.length;C++)v=(b[(v>>8^G[C])&255]^v<<8)&65535;return v});var f=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8E3,56577,7616,7296,56385,
5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16E3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,
25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32E3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,
23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&(f=new Int32Array(f));R("crc-16-modbus",function(G,v){u.Buffer.isBuffer(G)||(G=K(G));v="undefined"!==typeof v?~~v:65535;for(var C=0;C<G.length;C++)v=(f[(v^G[C])&255]^v>>8)&65535;return v});R("xmodem",function(G,v){u.Buffer.isBuffer(G)||(G=K(G));
v="undefined"!==typeof v?~~v:0;for(var C=0;C<G.length;C++){var t=v>>>8&255;t^=G[C]&255;t^=t>>>4;v=v<<8&65535;v^=t;t=t<<5&65535;v^=t;t=t<<7&65535;v^=t}return v});var p=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,
36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,
34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,
37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];"undefined"!==typeof Int32Array&&(p=new Int32Array(p));R("kermit",function(G,v){u.Buffer.isBuffer(G)||(G=K(G));v="undefined"!==typeof v?~~v:0;for(var C=0;C<G.length;C++)v=(p[(v^G[C])&255]^v>>8)&65535;return v});var z=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,
5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,
2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,
10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,
9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];"undefined"!==typeof Int32Array&&(z=
new Int32Array(z));R("crc-24",function(G,v){u.Buffer.isBuffer(G)||(G=K(G));v="undefined"!==typeof v?~~v:11994318;for(var C=0;C<G.length;C++)v=(z[(v>>16^G[C])&255]^v<<8)&16777215;return v});var N=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,
4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,
141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,
1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,
1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,
1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(N=new Int32Array(N));R("crc-32",function(G,v){u.Buffer.isBuffer(G)||
(G=K(G));v=0===v?0:~~v^-1;for(var C=0;C<G.length;C++)v=N[(v^G[C])&255]^v>>>8;return v^-1});var B=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,
2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,
2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,
2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,
3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,
956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(B=new Int32Array(B));R("jam",function(G,v){v=void 0===v?-1:v;u.Buffer.isBuffer(G)||(G=K(G));v=0===v?0:~~v;for(var C=0;C<G.length;C++)v=B[(v^G[C])&255]^v>>>
8;return v})},function(R,H,E){function u(h){var r=h.length;if(0<r%4)throw Error("Invalid string. Length must be a multiple of 4");h=h.indexOf("=");-1===h&&(h=r);return[h,h===r?0:4-h%4]}H.byteLength=function(h){h=u(h);var r=h[1];return 3*(h[0]+r)/4-r};H.toByteArray=function(h){var r=u(h);var b=r[0];r=r[1];var f=new l(3*(b+r)/4-r),p=0,z=0<r?b-4:b,N;for(N=0;N<z;N+=4)b=V[h.charCodeAt(N)]<<18|V[h.charCodeAt(N+1)]<<12|V[h.charCodeAt(N+2)]<<6|V[h.charCodeAt(N+3)],f[p++]=b>>16&255,f[p++]=b>>8&255,f[p++]=
b&255;2===r&&(b=V[h.charCodeAt(N)]<<2|V[h.charCodeAt(N+1)]>>4,f[p++]=b&255);1===r&&(b=V[h.charCodeAt(N)]<<10|V[h.charCodeAt(N+1)]<<4|V[h.charCodeAt(N+2)]>>2,f[p++]=b>>8&255,f[p++]=b&255);return f};H.fromByteArray=function(h){for(var r=h.length,b=r%3,f=[],p=0,z=r-b;p<z;p+=16383){for(var N=f,B=N.push,G,v=h,C=p+16383>z?z:p+16383,t=[],S=p;S<C;S+=3)G=(v[S]<<16&16711680)+(v[S+1]<<8&65280)+(v[S+2]&255),t.push(K[G>>18&63]+K[G>>12&63]+K[G>>6&63]+K[G&63]);G=t.join("");B.call(N,G)}1===b?(h=h[r-1],f.push(K[h>>
2]+K[h<<4&63]+"==")):2===b&&(h=(h[r-2]<<8)+h[r-1],f.push(K[h>>10]+K[h>>4&63]+K[h<<2&63]+"="));return f.join("")};var K=[],V=[],l="undefined"!==typeof Uint8Array?Uint8Array:Array;for(R=0;64>R;++R)K[R]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[R],V["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(R)]=R;V[45]=62;V[95]=63},function(R,H){H.read=function(E,u,K,V,l){var h=8*l-V-1;var r=(1<<h)-1,b=r>>1,f=-7;l=K?l-1:0;var p=K?-1:1,z=E[u+l];l+=p;K=z&(1<<
-f)-1;z>>=-f;for(f+=h;0<f;K=256*K+E[u+l],l+=p,f-=8);h=K&(1<<-f)-1;K>>=-f;for(f+=V;0<f;h=256*h+E[u+l],l+=p,f-=8);if(0===K)K=1-b;else{if(K===r)return h?NaN:Infinity*(z?-1:1);h+=Math.pow(2,V);K-=b}return(z?-1:1)*h*Math.pow(2,K-V)};H.write=function(E,u,K,V,l,h){var r,b=8*h-l-1,f=(1<<b)-1,p=f>>1,z=23===l?Math.pow(2,-24)-Math.pow(2,-77):0;h=V?0:h-1;var N=V?1:-1,B=0>u||0===u&&0>1/u?1:0;u=Math.abs(u);isNaN(u)||Infinity===u?(u=isNaN(u)?1:0,V=f):(V=Math.floor(Math.log(u)/Math.LN2),1>u*(r=Math.pow(2,-V))&&(V--,
r*=2),u=1<=V+p?u+z/r:u+z*Math.pow(2,1-p),2<=u*r&&(V++,r/=2),V+p>=f?(u=0,V=f):1<=V+p?(u=(u*r-1)*Math.pow(2,l),V+=p):(u=u*Math.pow(2,p-1)*Math.pow(2,l),V=0));for(;8<=l;E[K+h]=u&255,h+=N,u/=256,l-=8);V=V<<l|u;for(b+=l;0<b;E[K+h]=V&255,h+=N,V/=256,b-=8);E[K+h-N]|=128*B}},function(R,H){var E={}.toString;R.exports=Array.isArray||function(u){return"[object Array]"==E.call(u)}},function(R,H,E){function u(N){this.options=N||{locator:{}}}function K(N,B,G){function v(S){var k=N[S];!k&&t&&(k=2==N.length?function(e){N(S,
e)}:N);C[S]=k&&function(e){k("[xmldom "+S+"]\t"+e+h(G))}||function(){}}if(!N){if(B instanceof V)return B;N=B}var C={},t=N instanceof Function;G=G||{};v("warning");v("error");v("fatalError");return C}function V(){this.cdata=!1}function l(N,B){B.lineNumber=N.lineNumber;B.columnNumber=N.columnNumber}function h(N){if(N)return"\n@"+(N.systemId||"")+"#[line:"+N.lineNumber+",col:"+N.columnNumber+"]"}function r(N,B,G){return"string"==typeof N?N.substr(B,G):N.length>=B+G||B?new java.lang.String(N,B,G)+"":
N}function b(N,B){N.currentElement?N.currentElement.appendChild(B):N.doc.appendChild(B)}u.prototype.parseFromString=function(N,B){var G=this.options,v=new p,C=G.domBuilder||new V,t=G.errorHandler,S=G.locator,k=G.xmlns||{},e=(B=/\/x?html?$/.test(B))?f.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};S&&C.setDocumentLocator(S);v.errorHandler=K(t,C,S);v.domBuilder=G.domBuilder||C;B&&(k[""]="http://www.w3.org/1999/xhtml");k.xml=k.xml||"http://www.w3.org/XML/1998/namespace";N&&"string"===typeof N?v.parse(N,
k,e):v.errorHandler.error("invalid doc source");return C.doc};V.prototype={startDocument:function(){this.doc=(new z).createDocument(null,null,null);this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(N,B,G,v){var C=this.doc;B=C.createElementNS(N,G||B);var t=v.length;b(this,B);this.currentElement=B;this.locator&&l(this.locator,B);for(var S=0;S<t;S++){N=v.getURI(S);var k=v.getValue(S);G=v.getQName(S);N=C.createAttributeNS(N,G);this.locator&&l(v.getLocator(S),N);N.value=
N.nodeValue=k;B.setAttributeNode(N)}},endElement:function(N,B,G){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(N,B){},endPrefixMapping:function(N){},processingInstruction:function(N,B){N=this.doc.createProcessingInstruction(N,B);this.locator&&l(this.locator,N);b(this,N)},ignorableWhitespace:function(N,B,G){},characters:function(N,B,G){if(N=r.apply(this,arguments)){var v=this.cdata?this.doc.createCDATASection(N):this.doc.createTextNode(N);this.currentElement?this.currentElement.appendChild(v):
/^\s*$/.test(N)&&this.doc.appendChild(v);this.locator&&l(this.locator,v)}},skippedEntity:function(N){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(N){if(this.locator=N)N.lineNumber=0},comment:function(N,B,G){N=r.apply(this,arguments);var v=this.doc.createComment(N);this.locator&&l(this.locator,v);b(this,v)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(N,B,G){var v=this.doc.implementation;v&&v.createDocumentType&&(N=v.createDocumentType(N,
B,G),this.locator&&l(this.locator,N),b(this,N))},warning:function(N){console.warn("[xmldom warning]\t"+N,h(this.locator))},error:function(N){console.error("[xmldom error]\t"+N,h(this.locator))},fatalError:function(N){console.error("[xmldom fatalError]\t"+N,h(this.locator));throw N;}};"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(N){V.prototype[N]=function(){return null}});
var f=E(68),p=E(69).XMLReader,z=H.DOMImplementation=E(46).DOMImplementation;H.XMLSerializer=E(46).XMLSerializer;H.DOMParser=u},function(R,H){H.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\u00c0",Aacute:"\u00c1",Acirc:"\u00c2",Atilde:"\u00c3",Auml:"\u00c4",Aring:"\u00c5",AElig:"\u00c6",Ccedil:"\u00c7",Egrave:"\u00c8",Eacute:"\u00c9",Ecirc:"\u00ca",Euml:"\u00cb",Igrave:"\u00cc",Iacute:"\u00cd",Icirc:"\u00ce",Iuml:"\u00cf",ETH:"\u00d0",Ntilde:"\u00d1",Ograve:"\u00d2",Oacute:"\u00d3",Ocirc:"\u00d4",
Otilde:"\u00d5",Ouml:"\u00d6",Oslash:"\u00d8",Ugrave:"\u00d9",Uacute:"\u00da",Ucirc:"\u00db",Uuml:"\u00dc",Yacute:"\u00dd",THORN:"\u00de",szlig:"\u00df",agrave:"\u00e0",aacute:"\u00e1",acirc:"\u00e2",atilde:"\u00e3",auml:"\u00e4",aring:"\u00e5",aelig:"\u00e6",ccedil:"\u00e7",egrave:"\u00e8",eacute:"\u00e9",ecirc:"\u00ea",euml:"\u00eb",igrave:"\u00ec",iacute:"\u00ed",icirc:"\u00ee",iuml:"\u00ef",eth:"\u00f0",ntilde:"\u00f1",ograve:"\u00f2",oacute:"\u00f3",ocirc:"\u00f4",otilde:"\u00f5",ouml:"\u00f6",
oslash:"\u00f8",ugrave:"\u00f9",uacute:"\u00fa",ucirc:"\u00fb",uuml:"\u00fc",yacute:"\u00fd",thorn:"\u00fe",yuml:"\u00ff",nbsp:"\u00a0",iexcl:"\u00a1",cent:"\u00a2",pound:"\u00a3",curren:"\u00a4",yen:"\u00a5",brvbar:"\u00a6",sect:"\u00a7",uml:"\u00a8",copy:"\u00a9",ordf:"\u00aa",laquo:"\u00ab",not:"\u00ac",shy:"\u00ad\u00ad",reg:"\u00ae",macr:"\u00af",deg:"\u00b0",plusmn:"\u00b1",sup2:"\u00b2",sup3:"\u00b3",acute:"\u00b4",micro:"\u00b5",para:"\u00b6",middot:"\u00b7",cedil:"\u00b8",sup1:"\u00b9",ordm:"\u00ba",
raquo:"\u00bb",frac14:"\u00bc",frac12:"\u00bd",frac34:"\u00be",iquest:"\u00bf",times:"\u00d7",divide:"\u00f7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a","int":"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",
ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",
gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",
emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",
lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}},function(R,H){function E(){}function u(B,G,v,C,t){function S(Aa){var xa=Aa.slice(1,-1);if(xa in v)return v[xa];if("#"===xa.charAt(0))return Aa=parseInt(xa.substr(1).replace("x","0x")),65535<Aa?(Aa-=65536,Aa=String.fromCharCode(55296+(Aa>>10),56320+(Aa&1023))):Aa=String.fromCharCode(Aa),Aa;t.error("entity not found:"+Aa);return Aa}function k(Aa){if(Aa>Q){var xa=B.substring(Q,Aa).replace(/&#?\w+;/g,
S);y&&e(Q);C.characters(xa,0,Aa-Q);Q=Aa}}function e(Aa,xa){for(;Aa>=I&&(xa=g.exec(B));)q=xa.index,I=q+xa[0].length,y.lineNumber++;y.columnNumber=Aa-q+1}var q=0,I=0,g=/.*(?:\r\n?|\n)|.*$/g,y=C.locator;G=[{currentNSMap:G}];for(var J={},Q=0;;){try{var aa=B.indexOf("<",Q);if(0>aa){if(!B.substr(Q).match(/^\s*$/)){var Z=C.doc,ca=Z.createTextNode(B.substr(Q));Z.appendChild(ca);C.currentElement=ca}break}aa>Q&&k(aa);switch(B.charAt(aa+1)){case "/":var fa=B.indexOf(">",aa+3),ha=B.substring(aa+2,fa),pa=G.pop();
0>fa?(ha=B.substring(aa+2).replace(/[\s<].*/,""),t.error("end tag name: "+ha+" is not complete:"+pa.tagName),fa=aa+1+ha.length):ha.match(/\s</)&&(ha=ha.replace(/[\s<].*/,""),t.error("end tag name: "+ha+" maybe not complete"),fa=aa+1+ha.length);var x=pa.localNSMap,n=pa.tagName==ha;if(n||pa.tagName&&pa.tagName.toLowerCase()==ha.toLowerCase()){C.endElement(pa.uri,pa.localName,ha);if(x)for(var w in x)C.endPrefixMapping(w);n||t.fatalError("end tag name: "+ha+" is not match the current start tagName:"+
pa.tagName)}else G.push(pa);fa++;break;case "?":y&&e(aa);fa=f(B,aa,C);break;case "!":y&&e(aa);fa=b(B,aa,C,t);break;default:y&&e(aa);var F=new p,W=G[G.length-1].currentNSMap;fa=V(B,aa,F,W,S,t);var P=F.length;!F.closed&&r(B,fa,F.tagName,J)&&(F.closed=!0,v.nbsp||t.warning("unclosed xml attribute"));if(y&&P){for(var O=K(y,{}),L=0;L<P;L++){var sa=F[L];e(sa.offset);sa.locator=K(y,{})}C.locator=O;l(F,C,W)&&G.push(F);C.locator=y}else l(F,C,W)&&G.push(F);"http://www.w3.org/1999/xhtml"!==F.uri||F.closed?fa++:
fa=h(B,fa,F.tagName,S,C)}}catch(Aa){t.error("element parse error: "+Aa),fa=-1}fa>Q?Q=fa:k(Math.max(aa,Q)+1)}}function K(B,G){G.lineNumber=B.lineNumber;G.columnNumber=B.columnNumber;return G}function V(B,G,v,C,t,S){for(var k,e,q=++G,I=0;;){var g=B.charAt(q);switch(g){case "=":if(1===I)k=B.slice(G,q),I=3;else if(2===I)I=3;else throw Error("attribute equal must after attrName");break;case "'":case '"':if(3===I||1===I)if(1===I&&(S.warning('attribute value must after "="'),k=B.slice(G,q)),G=q+1,q=B.indexOf(g,
G),0<q)e=B.slice(G,q).replace(/&#?\w+;/g,t),v.add(k,e,G-1),I=5;else throw Error("attribute value no end '"+g+"' match");else if(4==I)e=B.slice(G,q).replace(/&#?\w+;/g,t),v.add(k,e,G),S.warning('attribute "'+k+'" missed start quot('+g+")!!"),G=q+1,I=5;else throw Error('attribute value must after "="');break;case "/":switch(I){case 0:v.setTagName(B.slice(G,q));case 5:case 6:case 7:I=7,v.closed=!0;case 4:case 1:case 2:break;default:throw Error("attribute invalid close char('/')");}break;case "":return S.error("unexpected end of input"),
0==I&&v.setTagName(B.slice(G,q)),q;case ">":switch(I){case 0:v.setTagName(B.slice(G,q));case 5:case 6:case 7:break;case 4:case 1:e=B.slice(G,q),"/"===e.slice(-1)&&(v.closed=!0,e=e.slice(0,-1));case 2:2===I&&(e=k);4==I?(S.warning('attribute "'+e+'" missed quot(")!!'),v.add(k,e.replace(/&#?\w+;/g,t),G)):("http://www.w3.org/1999/xhtml"===C[""]&&e.match(/^(?:disabled|checked|selected)$/i)||S.warning('attribute "'+e+'" missed value!! "'+e+'" instead!!'),v.add(e,e,G));break;case 3:throw Error("attribute value missed!!");
}return q;case "\u0080":g=" ";default:if(" ">=g)switch(I){case 0:v.setTagName(B.slice(G,q));I=6;break;case 1:k=B.slice(G,q);I=2;break;case 4:e=B.slice(G,q).replace(/&#?\w+;/g,t),S.warning('attribute "'+e+'" missed quot(")!!'),v.add(k,e,G);case 5:I=6}else switch(I){case 2:"http://www.w3.org/1999/xhtml"===C[""]&&k.match(/^(?:disabled|checked|selected)$/i)||S.warning('attribute "'+k+'" missed value!! "'+k+'" instead2!!');v.add(k,k,G);G=q;I=1;break;case 5:S.warning('attribute space is required"'+k+'"!!');
case 6:I=1;G=q;break;case 3:I=4;G=q;break;case 7:throw Error("elements closed character '/' and '>' must be connected to");}}q++}}function l(B,G,v){for(var C=B.tagName,t=null,S=B.length;S--;){var k=B[S],e=k.qName,q=k.value,I=e.indexOf(":");if(0<I){var g=k.prefix=e.slice(0,I);I=e.slice(I+1);g="xmlns"===g&&I}else I=e,g="xmlns"===e&&"";k.localName=I;if(!1!==g){if(null==t){t={};I=void 0;e=v;var y=v={};for(I in e)y[I]=e[I]}v[g]=t[g]=q;k.uri="http://www.w3.org/2000/xmlns/";G.startPrefixMapping(g,q)}}for(S=
B.length;S--;)if(k=B[S],g=k.prefix)"xml"===g&&(k.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==g&&(k.uri=v[g||""]);I=C.indexOf(":");0<I?(g=B.prefix=C.slice(0,I),I=B.localName=C.slice(I+1)):(g=null,I=B.localName=C);S=B.uri=v[g||""];G.startElement(S,I,C,B);if(B.closed){if(G.endElement(S,I,C),t)for(g in t)G.endPrefixMapping(g)}else return B.currentNSMap=v,B.localNSMap=t,!0}function h(B,G,v,C,t){if(/^(?:script|textarea)$/i.test(v)){var S=B.indexOf("</"+v+">",G);B=B.substring(G+1,S);if(/[&<]/.test(B)){if(/^script$/i.test(v))return t.characters(B,
0,B.length),S;B=B.replace(/&#?\w+;/g,C);t.characters(B,0,B.length);return S}}return G+1}function r(B,G,v,C){var t=C[v];null==t&&(t=B.lastIndexOf("</"+v+">"),t<G&&(t=B.lastIndexOf("</"+v)),C[v]=t);return t<G}function b(B,G,v,C){switch(B.charAt(G+2)){case "-":if("-"===B.charAt(G+3)){var t=B.indexOf("--\x3e",G+4);if(t>G)return v.comment(B,G+4,t-G-4),t+3;C.error("Unclosed comment")}break;default:if("CDATA["==B.substr(G+3,6))return t=B.indexOf("]]\x3e",G+9),v.startCDATA(),v.characters(B,G+9,t-G-9),v.endCDATA(),
t+3;a:{C=[];t=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;t.lastIndex=G;for(t.exec(B);G=t.exec(B);)if(C.push(G),G[1]){t=C;break a}t=void 0}var S=t.length;if(1<S&&/!doctype/i.test(t[0][0]))return B=t[1][0],C=G=!1,3<S&&(/^public$/i.test(t[2][0])?(G=t[3][0],C=4<S&&t[4][0]):/^system$/i.test(t[2][0])&&(C=t[3][0])),t=t[S-1],v.startDTD(B,G&&G.replace(/^(['"])(.*?)\1$/,"$2"),C&&C.replace(/^(['"])(.*?)\1$/,"$2")),v.endDTD(),t.index+t[0].length}return-1}function f(B,G,v){var C=B.indexOf("?>",G);return C&&
(B=B.substring(G,C).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(v.processingInstruction(B[1],B[2]),C+2):-1}function p(B){}R=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var z=new RegExp("[\\-\\.0-9"+R.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),N=new RegExp("^"+R.source+z.source+"*(?::"+R.source+z.source+"*)?$");E.prototype={parse:function(B,G,v){var C=this.domBuilder;C.startDocument();
var t=G,S=G={},k;for(k in t)S[k]=t[k];u(B,G,v,C,this.errorHandler);C.endDocument()}};p.prototype={setTagName:function(B){if(!N.test(B))throw Error("invalid tagName:"+B);this.tagName=B},add:function(B,G,v){if(!N.test(B))throw Error("invalid attribute:"+B);this[this.length++]={qName:B,value:G,offset:v}},length:0,getLocalName:function(B){return this[B].localName},getLocator:function(B){return this[B].locator},getQName:function(B){return this[B].qName},getURI:function(B){return this[B].uri},getValue:function(B){return this[B].value}};
H.XMLReader=E},function(R,H){function E(){this.init()}function u(c){this.expression=c}function K(){}function V(c){0<arguments.length&&this.init(c)}function l(c){0<arguments.length&&this.init(c)}function h(c,X){0<arguments.length&&this.init(c,X)}function r(c,X){0<arguments.length&&this.init(c,X)}function b(c,X){0<arguments.length&&this.init(c,X)}function f(c,X){0<arguments.length&&this.init(c,X)}function p(c,X){0<arguments.length&&this.init(c,X)}function z(c,X){0<arguments.length&&this.init(c,X)}function N(c,
X){0<arguments.length&&this.init(c,X)}function B(c,X){0<arguments.length&&this.init(c,X)}function G(c,X){0<arguments.length&&this.init(c,X)}function v(c,X){0<arguments.length&&this.init(c,X)}function C(c,X){0<arguments.length&&this.init(c,X)}function t(c,X){0<arguments.length&&this.init(c,X)}function S(c,X){0<arguments.length&&this.init(c,X)}function k(c,X){0<arguments.length&&this.init(c,X)}function e(c,X){0<arguments.length&&this.init(c,X)}function q(c,X,ma){0<arguments.length&&this.init(c,X,ma)}
function I(c,X){0<arguments.length&&this.init(c,X)}function g(c,X,ma){0<arguments.length&&this.init(c,X,ma)}function y(c,X){0<arguments.length&&this.init(c,X)}function J(c){0<arguments.length&&this.init(c)}function Q(c,X){0<arguments.length&&this.init(c,X)}function aa(c){0<arguments.length&&this.init(c)}function Z(c){0<arguments.length&&this.init(c)}function ca(c){0<arguments.length&&this.init(c)}function fa(c){this.init(c)}function ha(){this.init()}function pa(c,X,ma){this.isXPathNamespace=!0;this.ownerDocument=
ma.ownerDocument;this.nodeName="#namespace";this.localName=this.prefix=c;this.nodeValue=this.namespaceURI=X;this.ownerElement=ma;this.nodeType=pa.XPATH_NAMESPACE_NODE}function x(c,X,ma){this.variableResolver=null!=c?c:new n;this.namespaceResolver=null!=X?X:new F;this.functionResolver=null!=ma?ma:new w}function n(){}function w(c){this.thisArg=null!=c?c:Ea;this.functions={};this.addStandardFunctions()}function F(){}function W(c,X){this.code=c;this.exception=X}function P(c,X,ma){this.xpath=ma.parse(c);
this.context=new x;this.context.namespaceResolver=new O(X)}function O(c){this.xpathNSResolver=c}function L(c){this.node=c;this.namespaceResolver=new F}function sa(c,X){X==sa.ANY_TYPE&&(c.constructor===aa?X=sa.STRING_TYPE:c.constructor===Z?X=sa.NUMBER_TYPE:c.constructor===ca?X=sa.BOOLEAN_TYPE:c.constructor===ha&&(X=sa.UNORDERED_NODE_ITERATOR_TYPE));this.resultType=X;switch(X){case sa.NUMBER_TYPE:this.numberValue=c.numberValue();return;case sa.STRING_TYPE:this.stringValue=c.stringValue();return;case sa.BOOLEAN_TYPE:this.booleanValue=
c.booleanValue();return;case sa.ANY_UNORDERED_NODE_TYPE:case sa.FIRST_ORDERED_NODE_TYPE:if(c.constructor===ha){this.singleNodeValue=c.first();return}break;case sa.UNORDERED_NODE_ITERATOR_TYPE:case sa.ORDERED_NODE_ITERATOR_TYPE:if(c.constructor===ha){this.invalidIteratorState=!1;this.nodes=c.toArray();this.iteratorIndex=0;return}break;case sa.UNORDERED_NODE_SNAPSHOT_TYPE:case sa.ORDERED_NODE_SNAPSHOT_TYPE:if(c.constructor===ha){this.nodes=c.toArray();this.snapshotLength=this.nodes.length;return}}throw new W(W.TYPE_ERR);
}function Aa(c,X){c.createExpression=function(ma,ka){try{return new P(ma,ka,X)}catch(na){throw new W(W.INVALID_EXPRESSION_ERR,na);}};c.createNSResolver=function(ma){return new L(ma)};c.evaluate=function(ma,ka,na,Ba,La){if(0>Ba||9<Ba)throw{code:0,toString:function(){return"Request type not supported"}};return c.createExpression(ma,na,X).evaluate(ka,Ba,La)}}E.prototype={};E.prototype.constructor=E;E.superclass=Object.prototype;E.prototype.init=function(){this.reduceActions=[];this.reduceActions[3]=
function(c){return new r(c[0],c[2])};this.reduceActions[5]=function(c){return new b(c[0],c[2])};this.reduceActions[7]=function(c){return new f(c[0],c[2])};this.reduceActions[8]=function(c){return new p(c[0],c[2])};this.reduceActions[10]=function(c){return new z(c[0],c[2])};this.reduceActions[11]=function(c){return new N(c[0],c[2])};this.reduceActions[12]=function(c){return new B(c[0],c[2])};this.reduceActions[13]=function(c){return new G(c[0],c[2])};this.reduceActions[15]=function(c){return new v(c[0],
c[2])};this.reduceActions[16]=function(c){return new C(c[0],c[2])};this.reduceActions[18]=function(c){return new t(c[0],c[2])};this.reduceActions[19]=function(c){return new S(c[0],c[2])};this.reduceActions[20]=function(c){return new k(c[0],c[2])};this.reduceActions[22]=function(c){return new l(c[1])};this.reduceActions[24]=function(c){return new e(c[0],c[2])};this.reduceActions[25]=function(c){return new q(void 0,void 0,c[0])};this.reduceActions[27]=function(c){c[0].locationPath=c[2];return c[0]};
this.reduceActions[28]=function(c){c[0].locationPath=c[2];c[0].locationPath.steps.unshift(new g(g.DESCENDANTORSELF,new y(y.NODE,void 0),[]));return c[0]};this.reduceActions[29]=function(c){return new q(c[0],[],void 0)};this.reduceActions[30]=function(c){return za.instance_of(c[0],q)?(void 0==c[0].filterPredicates&&(c[0].filterPredicates=[]),c[0].filterPredicates.push(c[1]),c[0]):new q(c[0],[c[1]],void 0)};this.reduceActions[32]=function(c){return c[1]};this.reduceActions[33]=function(c){return new aa(c[0])};
this.reduceActions[34]=function(c){return new Z(c[0])};this.reduceActions[36]=function(c){return new Q(c[0],[])};this.reduceActions[37]=function(c){return new Q(c[0],c[2])};this.reduceActions[38]=function(c){return[c[0]]};this.reduceActions[39]=function(c){c[2].unshift(c[0]);return c[2]};this.reduceActions[43]=function(c){return new I(!0,[])};this.reduceActions[44]=function(c){c[1].absolute=!0;return c[1]};this.reduceActions[46]=function(c){return new I(!1,[c[0]])};this.reduceActions[47]=function(c){c[0].steps.push(c[2]);
return c[0]};this.reduceActions[49]=function(c){return new g(c[0],c[1],[])};this.reduceActions[50]=function(c){return new g(g.CHILD,c[0],[])};this.reduceActions[51]=function(c){return new g(c[0],c[1],c[2])};this.reduceActions[52]=function(c){return new g(g.CHILD,c[0],c[1])};this.reduceActions[54]=function(c){return[c[0]]};this.reduceActions[55]=function(c){c[1].unshift(c[0]);return c[1]};this.reduceActions[56]=function(c){return"ancestor"==c[0]?g.ANCESTOR:"ancestor-or-self"==c[0]?g.ANCESTORORSELF:
"attribute"==c[0]?g.ATTRIBUTE:"child"==c[0]?g.CHILD:"descendant"==c[0]?g.DESCENDANT:"descendant-or-self"==c[0]?g.DESCENDANTORSELF:"following"==c[0]?g.FOLLOWING:"following-sibling"==c[0]?g.FOLLOWINGSIBLING:"namespace"==c[0]?g.NAMESPACE:"parent"==c[0]?g.PARENT:"preceding"==c[0]?g.PRECEDING:"preceding-sibling"==c[0]?g.PRECEDINGSIBLING:"self"==c[0]?g.SELF:-1};this.reduceActions[57]=function(c){return g.ATTRIBUTE};this.reduceActions[59]=function(c){return"comment"==c[0]?new y(y.COMMENT,void 0):"text"==
c[0]?new y(y.TEXT,void 0):"processing-instruction"==c[0]?new y(y.PI,void 0):"node"==c[0]?new y(y.NODE,void 0):new y(-1,void 0)};this.reduceActions[60]=function(c){return new y(y.PI,c[2])};this.reduceActions[61]=function(c){return c[1]};this.reduceActions[63]=function(c){c[1].absolute=!0;c[1].steps.unshift(new g(g.DESCENDANTORSELF,new y(y.NODE,void 0),[]));return c[1]};this.reduceActions[64]=function(c){c[0].steps.push(new g(g.DESCENDANTORSELF,new y(y.NODE,void 0),[]));c[0].steps.push(c[2]);return c[0]};
this.reduceActions[65]=function(c){return new g(g.SELF,new y(y.NODE,void 0),[])};this.reduceActions[66]=function(c){return new g(g.PARENT,new y(y.NODE,void 0),[])};this.reduceActions[67]=function(c){return new J(c[1])};this.reduceActions[68]=function(c){return new y(y.NAMETESTANY,void 0)};this.reduceActions[69]=function(c){c=c[0].substring(0,c[0].indexOf(":"));return new y(y.NAMETESTPREFIXANY,c)};this.reduceActions[70]=function(c){return new y(y.NAMETESTQNAME,c[0])}};E.actionTable=" s s        sssssssss    s ss  s  ss;                 s                  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                rrrrr               ; s s        sssssssss    s ss  s  ss;rs  rrrrrrrr s  sssssrrrrrr  rrs rs ; s s        sssssssss    s ss  s  ss;                            s       ;                            s       ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;  s                                 ;                            s       ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr  r  ;a                                   ;r       s                    rr  r  ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrs  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  srrrrrrrr         rrrrrrs rr sr  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                sssss               ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  srrrrrrrr         rrrrrrs rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;              s                     ;                             s      ;                rrrrr               ; s s        sssssssss    s sss s  ss;r  srrrrrrrr         rrrrrrs rr  r  ; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss      ss  s  ss; s s        sssssssss    s ss  s  ss; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr rr  ; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             rr     ;                             s      ;                             rs     ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;                                 r  ;                                 s  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ; s s        sssssssss    s ss  s  ss;r  rrrrrrrrr         rrrrrrr rr rr  ;                             r      ".split(";");
E.actionTableNumber=" 1 0        /.-,+*)('    & %$  #  \"!{                 J                  {a  aaaaaaaaa         aaaaaaa aa  a  {                YYYYY               { 1 0        /.-,+*)('    & %$  #  \"!{K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" { 1 0        /.-,+*)('    & %$  #  \"!{                            N       {                            O       {e  eeeeeeeee         eeeeeee ee ee  {f  fffffffff         fffffff ff ff  {d  ddddddddd         ddddddd dd dd  {B  BBBBBBBBB         BBBBBBB BB BB  {A  AAAAAAAAA         AAAAAAA AA AA  {  P                                 {                            Q       { 1           .  +*)('          #  \" {b  bbbbbbbbb         bbbbbbb bb  b  {                                    {!       S                    !!  !  {\"      T\"                    \"\"  \"  {$   V  $$            U       $$  $  {&   &ZY&&            &XW     &&  &  {)   )))))            )))\\[   ))  )  {.   ....._^]         .....   ..  .  {1   11111111         11111   11  1  {5   55555555         55555`  55  5  {7   77777777         777777  77  7  {9   99999999         999999  99  9  {:  c::::::::         ::::::b :: a:  {I  fIIIIIIII         IIIIIIe II  I  {=  =========         ======= == ==  {?  ?????????         ??????? ?? ??  {C  CCCCCCCCC         CCCCCCC CC CC  {J   JJJJJJJJ         JJJJJJ  JJ  J  {M   MMMMMMMM         MMMMMM  MM  M  {N  NNNNNNNNN         NNNNNNN NN  N  {P  PPPPPPPPP         PPPPPPP PP  P  {                +*)('               {R  RRRRRRRRR         RRRRRRR RR aR  {U  UUUUUUUUU         UUUUUUU UU  U  {Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  {c  ccccccccc         ccccccc cc cc  {                             j      {L  fLLLLLLLL         LLLLLLe LL  L  {6   66666666         66666   66  6  {              k                     {                             l      {                XXXXX               { 1 0        /.-,+*)('    & %$m #  \"!{_  f________         ______e __  _  { 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('      %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {>  >>>>>>>>>         >>>>>>> >> >>  { 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {Q  QQQQQQQQQ         QQQQQQQ QQ aQ  {V  VVVVVVVVV         VVVVVVV VV aV  {T  TTTTTTTTT         TTTTTTT TT  T  {@  @@@@@@@@@         @@@@@@@ @@ @@  {                             \u0087      {[  [[[[[[[[[         [[[[[[[ [[ [[  {D  DDDDDDDDD         DDDDDDD DD DD  {                             HH     {                             \u0088      {                             F\u0089     {#      T#                    ##  #  {%   V  %%            U       %%  %  {'   'ZY''            'XW     ''  '  {(   (ZY((            (XW     ((  (  {+   +++++            +++\\[   ++  +  {*   *****            ***\\[   **  *  {-   -----            ---\\[   --  -  {,   ,,,,,            ,,,\\[   ,,  ,  {0   00000_^]         00000   00  0  {/   /////_^]         /////   //  /  {2   22222222         22222   22  2  {3   33333333         33333   33  3  {4   44444444         44444   44  4  {8   88888888         888888  88  8  {                                 ^  {                                 \u008a  {;  f;;;;;;;;         ;;;;;;e ;;  ;  {<  f<<<<<<<<         <<<<<<e <<  <  {O  OOOOOOOOO         OOOOOOO OO  O  {`  `````````         ``````` ``  `  {S  SSSSSSSSS         SSSSSSS SS  S  {W  WWWWWWWWW         WWWWWWW WW  W  {\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  {E  EEEEEEEEE         EEEEEEE EE EE  { 1 0        /.-,+*)('    & %$  #  \"!{]  ]]]]]]]]]         ]]]]]]] ]] ]]  {                             G      ".split("{");
E.gotoTable="3456789:;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,L456789:;<=>?@ AB  CDEFGH IJ ,            M        EFGH IJ ,       N;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,            S        EFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,              e              ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                        h  J ,              i          j   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ ABpqCDEFGH IJ ,                             ,  r6789:;<=>?@ AB  CDEFGH IJ ,   s789:;<=>?@ AB  CDEFGH IJ ,    t89:;<=>?@ AB  CDEFGH IJ ,    u89:;<=>?@ AB  CDEFGH IJ ,     v9:;<=>?@ AB  CDEFGH IJ ,     w9:;<=>?@ AB  CDEFGH IJ ,     x9:;<=>?@ AB  CDEFGH IJ ,     y9:;<=>?@ AB  CDEFGH IJ ,      z:;<=>?@ AB  CDEFGH IJ ,      {:;<=>?@ AB  CDEFGH IJ ,       |;<=>?@ AB  CDEFGH IJ ,       };<=>?@ AB  CDEFGH IJ ,       ~;<=>?@ AB  CDEFGH IJ ,         \u007f=>?@ AB  CDEFGH IJ ,\u0080456789:;<=>?@ AB  CDEFGH IJ\u0081,            \u0082        EFGH IJ ,            \u0083        EFGH IJ ,                             ,                     \u0084 GH IJ ,                     \u0085 GH IJ ,              i          \u0086   ,              i          \u0087   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ AB\u008cqCDEFGH IJ ,                             ,                             ".split(",");
E.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,
19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]];E.DOUBLEDOT=2;E.DOUBLECOLON=3;E.DOUBLESLASH=4;E.NOTEQUAL=5;E.LESSTHANOREQUAL=6;E.GREATERTHANOREQUAL=7;E.AND=
8;E.OR=9;E.MOD=10;E.DIV=11;E.MULTIPLYOPERATOR=12;E.FUNCTIONNAME=13;E.AXISNAME=14;E.LITERAL=15;E.NUMBER=16;E.ASTERISKNAMETEST=17;E.QNAME=18;E.NCNAMECOLONASTERISK=19;E.NODETYPE=20;E.PROCESSINGINSTRUCTIONWITHLITERAL=21;E.EQUALS=22;E.LESSTHAN=23;E.GREATERTHAN=24;E.PLUS=25;E.MINUS=26;E.BAR=27;E.SLASH=28;E.LEFTPARENTHESIS=29;E.RIGHTPARENTHESIS=30;E.COMMA=31;E.AT=32;E.LEFTBRACKET=33;E.RIGHTBRACKET=34;E.DOT=35;E.DOLLAR=36;E.prototype.tokenize=function(c){var X=[],ma=[];c+="\x00";for(var ka=0,na=c.charAt(ka++);;){for(;" "==
na||"\t"==na||"\r"==na||"\n"==na;)na=c.charAt(ka++);if("\x00"==na||ka>=c.length)break;if("("==na)X.push(E.LEFTPARENTHESIS),ma.push(na),na=c.charAt(ka++);else if(")"==na)X.push(E.RIGHTPARENTHESIS),ma.push(na),na=c.charAt(ka++);else if("["==na)X.push(E.LEFTBRACKET),ma.push(na),na=c.charAt(ka++);else if("]"==na)X.push(E.RIGHTBRACKET),ma.push(na),na=c.charAt(ka++);else if("@"==na)X.push(E.AT),ma.push(na),na=c.charAt(ka++);else if(","==na)X.push(E.COMMA),ma.push(na),na=c.charAt(ka++);else if("|"==na)X.push(E.BAR),
ma.push(na),na=c.charAt(ka++);else if("+"==na)X.push(E.PLUS),ma.push(na),na=c.charAt(ka++);else if("-"==na)X.push(E.MINUS),ma.push(na),na=c.charAt(ka++);else if("="==na)X.push(E.EQUALS),ma.push(na),na=c.charAt(ka++);else if("$"==na)X.push(E.DOLLAR),ma.push(na),na=c.charAt(ka++);else if("."==na)if(na=c.charAt(ka++),"."==na)X.push(E.DOUBLEDOT),ma.push(".."),na=c.charAt(ka++);else if("0"<=na&&"9">=na){var Ba="."+na;for(na=c.charAt(ka++);"0"<=na&&"9">=na;)Ba+=na,na=c.charAt(ka++);X.push(E.NUMBER);ma.push(Ba)}else X.push(E.DOT),
ma.push(".");else if("'"==na||'"'==na){Ba=na;for(var La="";(na=c.charAt(ka++))!=Ba;)La+=na;X.push(E.LITERAL);ma.push(La);na=c.charAt(ka++)}else if("0"<=na&&"9">=na){Ba=na;for(na=c.charAt(ka++);"0"<=na&&"9">=na;)Ba+=na,na=c.charAt(ka++);if("."==na&&"0"<=c.charAt(ka)&&"9">=c.charAt(ka))for(Ba+=na,Ba+=c.charAt(ka++),na=c.charAt(ka++);"0"<=na&&"9">=na;)Ba+=na,na=c.charAt(ka++);X.push(E.NUMBER);ma.push(Ba)}else if("*"==na){if(0<X.length&&(Ba=X[X.length-1],Ba!=E.AT&&Ba!=E.DOUBLECOLON&&Ba!=E.LEFTPARENTHESIS&&
Ba!=E.LEFTBRACKET&&Ba!=E.AND&&Ba!=E.OR&&Ba!=E.MOD&&Ba!=E.DIV&&Ba!=E.MULTIPLYOPERATOR&&Ba!=E.SLASH&&Ba!=E.DOUBLESLASH&&Ba!=E.BAR&&Ba!=E.PLUS&&Ba!=E.MINUS&&Ba!=E.EQUALS&&Ba!=E.NOTEQUAL&&Ba!=E.LESSTHAN&&Ba!=E.LESSTHANOREQUAL&&Ba!=E.GREATERTHAN&&Ba!=E.GREATERTHANOREQUAL)){X.push(E.MULTIPLYOPERATOR);ma.push(na);na=c.charAt(ka++);continue}X.push(E.ASTERISKNAMETEST);ma.push(na);na=c.charAt(ka++)}else if(":"==na&&":"==c.charAt(ka))X.push(E.DOUBLECOLON),ma.push("::"),ka++,na=c.charAt(ka++);else if("/"==na)na=
c.charAt(ka++),"/"==na?(X.push(E.DOUBLESLASH),ma.push("//"),na=c.charAt(ka++)):(X.push(E.SLASH),ma.push("/"));else if("!"==na&&"="==c.charAt(ka))X.push(E.NOTEQUAL),ma.push("!="),ka++,na=c.charAt(ka++);else if("<"==na)"="==c.charAt(ka)?(X.push(E.LESSTHANOREQUAL),ma.push("<="),ka++):(X.push(E.LESSTHAN),ma.push("<")),na=c.charAt(ka++);else if(">"==na)"="==c.charAt(ka)?(X.push(E.GREATERTHANOREQUAL),ma.push(">="),ka++):(X.push(E.GREATERTHAN),ma.push(">")),na=c.charAt(ka++);else if("_"==na||za.isLetter(na.charCodeAt(0))){La=
na;for(na=c.charAt(ka++);za.isNCNameChar(na.charCodeAt(0));)La+=na,na=c.charAt(ka++);if(0<X.length&&(Ba=X[X.length-1],Ba!=E.AT&&Ba!=E.DOUBLECOLON&&Ba!=E.LEFTPARENTHESIS&&Ba!=E.LEFTBRACKET&&Ba!=E.AND&&Ba!=E.OR&&Ba!=E.MOD&&Ba!=E.DIV&&Ba!=E.MULTIPLYOPERATOR&&Ba!=E.SLASH&&Ba!=E.DOUBLESLASH&&Ba!=E.BAR&&Ba!=E.PLUS&&Ba!=E.MINUS&&Ba!=E.EQUALS&&Ba!=E.NOTEQUAL&&Ba!=E.LESSTHAN&&Ba!=E.LESSTHANOREQUAL&&Ba!=E.GREATERTHAN&&Ba!=E.GREATERTHANOREQUAL)){if("and"==La){X.push(E.AND);ma.push(La);continue}if("or"==La){X.push(E.OR);
ma.push(La);continue}if("mod"==La){X.push(E.MOD);ma.push(La);continue}if("div"==La){X.push(E.DIV);ma.push(La);continue}}if(":"==na){if("*"==c.charAt(ka)){X.push(E.NCNAMECOLONASTERISK);ma.push(La+":*");ka++;na=c.charAt(ka++);continue}if("_"==c.charAt(ka)||za.isLetter(c.charCodeAt(ka))){La+=":";for(na=c.charAt(ka++);za.isNCNameChar(na.charCodeAt(0));)La+=na,na=c.charAt(ka++);if("("==na){X.push(E.FUNCTIONNAME);ma.push(La);continue}X.push(E.QNAME);ma.push(La);continue}if(":"==c.charAt(ka)){X.push(E.AXISNAME);
ma.push(La);continue}}"("==na?"comment"==La||"text"==La||"node"==La?X.push(E.NODETYPE):"processing-instruction"==La?")"==c.charAt(ka)?X.push(E.NODETYPE):X.push(E.PROCESSINGINSTRUCTIONWITHLITERAL):X.push(E.FUNCTIONNAME):X.push(E.QNAME);ma.push(La)}else throw Error("Unexpected character "+na);}X.push(1);ma.push("[EOF]");return[X,ma]};E.SHIFT="s";E.REDUCE="r";E.ACCEPT="a";E.prototype.parse=function(c){c=this.tokenize(c);if(void 0!=c){var X=c[0];var ma=c[1];var ka=0,na=[],Ba=[],La=[],Pa;na.push(0);Ba.push(1);
La.push("_S");var ab=X[ka];for(Pa=ma[ka++];;)switch(c=na[na.length-1],E.actionTable[c].charAt(ab-1)){case E.SHIFT:Ba.push(-ab);La.push(Pa);na.push(E.actionTableNumber[c].charCodeAt(ab-1)-32);ab=X[ka];Pa=ma[ka++];break;case E.REDUCE:for(var Na=E.productions[E.actionTableNumber[c].charCodeAt(ab-1)-32][1],cb=[],da=0;da<Na;da++)Ba.pop(),cb.unshift(La.pop()),na.pop();Na=na[na.length-1];Ba.push(E.productions[E.actionTableNumber[c].charCodeAt(ab-1)-32][0]);void 0==this.reduceActions[E.actionTableNumber[c].charCodeAt(ab-
1)-32]?La.push(cb[0]):La.push(this.reduceActions[E.actionTableNumber[c].charCodeAt(ab-1)-32](cb));na.push(E.gotoTable[Na].charCodeAt(E.productions[E.actionTableNumber[c].charCodeAt(ab-1)-32][0]-2)-33);break;case E.ACCEPT:return new u(La.pop());default:throw Error("XPath parse error");}}};u.prototype={};u.prototype.constructor=u;u.superclass=Object.prototype;u.prototype.toString=function(){return this.expression.toString()};u.prototype.evaluate=function(c){c.contextNode=c.expressionContextNode;c.contextSize=
1;c.contextPosition=1;c.caseInsensitive=!1;if(null!=c.contextNode){var X=c.contextNode;9!=X.nodeType&&(X=X.ownerDocument);try{c.caseInsensitive=X.implementation.hasFeature("HTML","2.0")}catch(ma){c.caseInsensitive=!0}}return this.expression.evaluate(c)};u.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace";u.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/";K.prototype={};K.prototype.constructor=K;K.superclass=Object.prototype;K.prototype.init=function(){};K.prototype.toString=function(){return"<Expression>"};
K.prototype.evaluate=function(c){throw Error("Could not evaluate expression.");};V.prototype=new K;V.prototype.constructor=V;V.superclass=K.prototype;V.prototype.init=function(c){this.rhs=c};l.prototype=new V;l.prototype.constructor=l;l.superclass=V.prototype;l.prototype.init=function(c){l.superclass.init.call(this,c)};l.prototype.evaluate=function(c){return this.rhs.evaluate(c).number().negate()};l.prototype.toString=function(){return"-"+this.rhs.toString()};h.prototype=new K;h.prototype.constructor=
h;h.superclass=K.prototype;h.prototype.init=function(c,X){this.lhs=c;this.rhs=X};r.prototype=new h;r.prototype.constructor=r;r.superclass=h.prototype;r.prototype.init=function(c,X){r.superclass.init.call(this,c,X)};r.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"};r.prototype.evaluate=function(c){var X=this.lhs.evaluate(c).bool();return X.booleanValue()?X:this.rhs.evaluate(c).bool()};b.prototype=new h;b.prototype.constructor=b;b.superclass=h.prototype;b.prototype.init=
function(c,X){b.superclass.init.call(this,c,X)};b.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"};b.prototype.evaluate=function(c){var X=this.lhs.evaluate(c).bool();return X.booleanValue()?this.rhs.evaluate(c).bool():X};f.prototype=new h;f.prototype.constructor=f;f.superclass=h.prototype;f.prototype.init=function(c,X){f.superclass.init.call(this,c,X)};f.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"};f.prototype.evaluate=
function(c){return this.lhs.evaluate(c).equals(this.rhs.evaluate(c))};p.prototype=new h;p.prototype.constructor=p;p.superclass=h.prototype;p.prototype.init=function(c,X){p.superclass.init.call(this,c,X)};p.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"};p.prototype.evaluate=function(c){return this.lhs.evaluate(c).notequal(this.rhs.evaluate(c))};z.prototype=new h;z.prototype.constructor=z;z.superclass=h.prototype;z.prototype.init=function(c,X){z.superclass.init.call(this,
c,X)};z.prototype.evaluate=function(c){return this.lhs.evaluate(c).lessthan(this.rhs.evaluate(c))};z.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"};N.prototype=new h;N.prototype.constructor=N;N.superclass=h.prototype;N.prototype.init=function(c,X){N.superclass.init.call(this,c,X)};N.prototype.evaluate=function(c){return this.lhs.evaluate(c).greaterthan(this.rhs.evaluate(c))};N.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+
")"};B.prototype=new h;B.prototype.constructor=B;B.superclass=h.prototype;B.prototype.init=function(c,X){B.superclass.init.call(this,c,X)};B.prototype.evaluate=function(c){return this.lhs.evaluate(c).lessthanorequal(this.rhs.evaluate(c))};B.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"};G.prototype=new h;G.prototype.constructor=G;G.superclass=h.prototype;G.prototype.init=function(c,X){G.superclass.init.call(this,c,X)};G.prototype.evaluate=function(c){return this.lhs.evaluate(c).greaterthanorequal(this.rhs.evaluate(c))};
G.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"};v.prototype=new h;v.prototype.constructor=v;v.superclass=h.prototype;v.prototype.init=function(c,X){v.superclass.init.call(this,c,X)};v.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().plus(this.rhs.evaluate(c).number())};v.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"};C.prototype=new h;C.prototype.constructor=C;C.superclass=h.prototype;C.prototype.init=
function(c,X){C.superclass.init.call(this,c,X)};C.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().minus(this.rhs.evaluate(c).number())};C.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"};t.prototype=new h;t.prototype.constructor=t;t.superclass=h.prototype;t.prototype.init=function(c,X){t.superclass.init.call(this,c,X)};t.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().multiply(this.rhs.evaluate(c).number())};t.prototype.toString=
function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"};S.prototype=new h;S.prototype.constructor=S;S.superclass=h.prototype;S.prototype.init=function(c,X){S.superclass.init.call(this,c,X)};S.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().div(this.rhs.evaluate(c).number())};S.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"};k.prototype=new h;k.prototype.constructor=k;k.superclass=h.prototype;k.prototype.init=function(c,
X){k.superclass.init.call(this,c,X)};k.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().mod(this.rhs.evaluate(c).number())};k.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"};e.prototype=new h;e.prototype.constructor=e;e.superclass=h.prototype;e.prototype.init=function(c,X){e.superclass.init.call(this,c,X)};e.prototype.evaluate=function(c){return this.lhs.evaluate(c).nodeset().union(this.rhs.evaluate(c).nodeset())};e.prototype.toString=
function(){return this.lhs.toString()+" | "+this.rhs.toString()};q.prototype=new K;q.prototype.constructor=q;q.superclass=K.prototype;q.prototype.init=function(c,X,ma){q.superclass.init.call(this);this.filter=c;this.filterPredicates=X;this.locationPath=ma};q.prototype.evaluate=function(c){var X=new x;X.variableResolver=c.variableResolver;X.functionResolver=c.functionResolver;X.namespaceResolver=c.namespaceResolver;X.expressionContextNode=c.expressionContextNode;X.virtualRoot=c.virtualRoot;X.caseInsensitive=
c.caseInsensitive;if(null==this.filter)c=[c.contextNode];else{var ma=this.filter.evaluate(c);if(!za.instance_of(ma,ha)){if(null!=this.filterPredicates&&0<this.filterPredicates.length||null!=this.locationPath)throw Error("Path expression filter must evaluate to a nodset if predicates or location path are used");return ma}c=ma.toArray();if(null!=this.filterPredicates)for(ma=0;ma<this.filterPredicates.length;ma++){var ka=this.filterPredicates[ma],na=[];X.contextSize=c.length;for(X.contextPosition=1;X.contextPosition<=
X.contextSize;X.contextPosition++)X.contextNode=c[X.contextPosition-1],this.predicateMatches(ka,X)&&na.push(X.contextNode);c=na}}if(null!=this.locationPath){if(this.locationPath.absolute)if(9!=c[0].nodeType)if(null!=X.virtualRoot)c=[X.virtualRoot];else if(null==c[0].ownerDocument){for(var Ba=c[0];null!=Ba.parentNode;)Ba=Ba.parentNode;c=[Ba]}else c=[c[0].ownerDocument];else c=[c[0]];for(var La=0;La<this.locationPath.steps.length;La++){var Pa=this.locationPath.steps[La];na=[];var ab=[];for(ma=0;ma<
c.length;ma++)switch(X.contextNode=c[ma],Pa.axis){case g.ANCESTOR:if(X.contextNode===X.virtualRoot)break;for(ka=2==X.contextNode.nodeType?this.getOwnerElement(X.contextNode):X.contextNode.parentNode;null!=ka;){Pa.nodeTest.matches(ka,X)&&na.push(ka);if(ka===X.virtualRoot)break;ka=ka.parentNode}break;case g.ANCESTORORSELF:for(ka=X.contextNode;null!=ka&&(Pa.nodeTest.matches(ka,X)&&na.push(ka),ka!==X.virtualRoot);ka=2==ka.nodeType?this.getOwnerElement(ka):ka.parentNode);break;case g.ATTRIBUTE:Ba=X.contextNode.attributes;
if(null!=Ba)for(var Na=0;Na<Ba.length;Na++)ka=Ba.item(Na),Pa.nodeTest.matches(ka,X)&&na.push(ka);break;case g.CHILD:Ba=0;var cb=[];for(ka=X.contextNode.firstChild;null!=ka;ka=ka.nextSibling)Pa.nodeTest.matches(ka,X)&&(na.push(ka),cb.push({contextPosition:++Ba}));for(Na=0;Na<cb.length;Na++)cb[Na].contextSize=Ba,ab.push(cb[Na]);break;case g.DESCENDANT:for(Na=[X.contextNode.firstChild];0<Na.length;)for(ka=Na.pop();null!=ka;)Pa.nodeTest.matches(ka,X)&&na.push(ka),null!=ka.firstChild?(Na.push(ka.nextSibling),
ka=ka.firstChild):ka=ka.nextSibling;break;case g.DESCENDANTORSELF:Pa.nodeTest.matches(X.contextNode,X)&&na.push(X.contextNode);for(Na=[X.contextNode.firstChild];0<Na.length;)for(ka=Na.pop();null!=ka;)Pa.nodeTest.matches(ka,X)&&na.push(ka),null!=ka.firstChild?(Na.push(ka.nextSibling),ka=ka.firstChild):ka=ka.nextSibling;break;case g.FOLLOWING:if(X.contextNode===X.virtualRoot)break;Na=[];null!=X.contextNode.firstChild?Na.unshift(X.contextNode.firstChild):Na.unshift(X.contextNode.nextSibling);for(ka=
X.contextNode;null!=ka&&9!=ka.nodeType&&ka!==X.virtualRoot;ka=ka.parentNode)Na.unshift(ka.nextSibling);do for(ka=Na.pop();null!=ka;)Pa.nodeTest.matches(ka,X)&&na.push(ka),null!=ka.firstChild?(Na.push(ka.nextSibling),ka=ka.firstChild):ka=ka.nextSibling;while(0<Na.length);break;case g.FOLLOWINGSIBLING:if(X.contextNode===X.virtualRoot)break;for(ka=X.contextNode.nextSibling;null!=ka;ka=ka.nextSibling)Pa.nodeTest.matches(ka,X)&&na.push(ka);break;case g.NAMESPACE:Ba={};if(1==X.contextNode.nodeType){Ba.xml=
u.XML_NAMESPACE_URI;Ba.xmlns=u.XMLNS_NAMESPACE_URI;for(ka=X.contextNode;null!=ka&&1==ka.nodeType;ka=ka.parentNode)for(Na=0;Na<ka.attributes.length;Na++){cb=ka.attributes.item(Na);var da=String(cb.name);if("xmlns"==da)void 0==Ba[""]&&(Ba[""]=cb.value);else if(6<da.length&&"xmlns:"==da.substring(0,6)){var la=da.substring(6,da.length);void 0==Ba[la]&&(Ba[la]=cb.value)}}for(la in Ba)ka=new NamespaceNode(la,Ba[la],X.contextNode),Pa.nodeTest.matches(ka,X)&&na.push(ka)}break;case g.PARENT:ka=null;X.contextNode!==
X.virtualRoot&&(ka=2==X.contextNode.nodeType?this.getOwnerElement(X.contextNode):X.contextNode.parentNode);null!=ka&&Pa.nodeTest.matches(ka,X)&&na.push(ka);break;case g.PRECEDING:Na=null!=X.virtualRoot?[X.virtualRoot]:9==X.contextNode.nodeType?[X.contextNode]:[X.contextNode.ownerDocument];a:for(;0<Na.length;)for(ka=Na.pop();null!=ka;){if(ka==X.contextNode)break a;Pa.nodeTest.matches(ka,X)&&na.unshift(ka);null!=ka.firstChild?(Na.push(ka.nextSibling),ka=ka.firstChild):ka=ka.nextSibling}break;case g.PRECEDINGSIBLING:if(X.contextNode===
X.virtualRoot)break;for(ka=X.contextNode.previousSibling;null!=ka;ka=ka.previousSibling)Pa.nodeTest.matches(ka,X)&&na.push(ka);break;case g.SELF:Pa.nodeTest.matches(X.contextNode,X)&&na.push(X.contextNode)}c=na;for(ma=0;ma<Pa.predicates.length;ma++){ka=Pa.predicates[ma];na=[];X.contextSize=c.length;for(X.contextPosition=1;X.contextPosition<=X.contextSize;X.contextPosition++)X.contextNode=c[X.contextPosition-1],Na=0<ab.length?this.getLocalCtx(X,ab[X.contextPosition-1]):X,this.predicateMatches(ka,Na)&&
na.push(X.contextNode);c=na}}}ma=new ha;ma.addArray(c);return ma};q.prototype.getLocalCtx=function(c,X,ma){ma=new x;ma.variableResolver=c.variableResolver;ma.functionResolver=c.functionResolver;ma.namespaceResolver=c.namespaceResolver;ma.expressionContextNode=c.expressionContextNode;ma.virtualRoot=c.virtualRoot;ma.caseInsensitive=c.caseInsensitive;ma.contextNode=c.contextNode;ma.contextPosition=X.contextPosition;ma.contextSize=X.contextSize;return ma};q.prototype.predicateMatches=function(c,X){c=
c.evaluate(X);return za.instance_of(c,Z)?X.contextPosition==c.numberValue():c.booleanValue()};q.prototype.toString=function(){if(void 0!=this.filter){var c=this.filter.toString();za.instance_of(this.filter,aa)&&(c="'"+c+"'");if(void 0!=this.filterPredicates)for(var X=0;X<this.filterPredicates.length;X++)c=c+"["+this.filterPredicates[X].toString()+"]";void 0!=this.locationPath&&(this.locationPath.absolute||(c+="/"),c+=this.locationPath.toString());return c}return this.locationPath.toString()};q.prototype.getOwnerElement=
function(c){if(c.ownerElement)return c.ownerElement;try{if(c.selectSingleNode)return c.selectSingleNode("..")}catch(La){}for(var X=(9==c.nodeType?c:c.ownerDocument).getElementsByTagName("*"),ma=0;ma<X.length;ma++)for(var ka=X.item(ma),na=ka.attributes,Ba=0;Ba<na.length;Ba++)if(na.item(Ba)===c)return ka;return null};I.prototype={};I.prototype.constructor=I;I.superclass=Object.prototype;I.prototype.init=function(c,X){this.absolute=c;this.steps=X};I.prototype.toString=function(){var c=this.absolute?
"/":"";for(var X=0;X<this.steps.length;X++)0!=X&&(c+="/"),c+=this.steps[X].toString();return c};g.prototype={};g.prototype.constructor=g;g.superclass=Object.prototype;g.prototype.init=function(c,X,ma){this.axis=c;this.nodeTest=X;this.predicates=ma};g.prototype.toString=function(){switch(this.axis){case g.ANCESTOR:var c="ancestor";break;case g.ANCESTORORSELF:c="ancestor-or-self";break;case g.ATTRIBUTE:c="attribute";break;case g.CHILD:c="child";break;case g.DESCENDANT:c="descendant";break;case g.DESCENDANTORSELF:c=
"descendant-or-self";break;case g.FOLLOWING:c="following";break;case g.FOLLOWINGSIBLING:c="following-sibling";break;case g.NAMESPACE:c="namespace";break;case g.PARENT:c="parent";break;case g.PRECEDING:c="preceding";break;case g.PRECEDINGSIBLING:c="preceding-sibling";break;case g.SELF:c="self"}c=c+"::"+this.nodeTest.toString();for(var X=0;X<this.predicates.length;X++)c+="["+this.predicates[X].toString()+"]";return c};g.ANCESTOR=0;g.ANCESTORORSELF=1;g.ATTRIBUTE=2;g.CHILD=3;g.DESCENDANT=4;g.DESCENDANTORSELF=
5;g.FOLLOWING=6;g.FOLLOWINGSIBLING=7;g.NAMESPACE=8;g.PARENT=9;g.PRECEDING=10;g.PRECEDINGSIBLING=11;g.SELF=12;y.prototype={};y.prototype.constructor=y;y.superclass=Object.prototype;y.prototype.init=function(c,X){this.type=c;this.value=X};y.prototype.toString=function(){switch(this.type){case y.NAMETESTANY:return"*";case y.NAMETESTPREFIXANY:return this.value+":*";case y.NAMETESTRESOLVEDANY:return"{"+this.value+"}*";case y.NAMETESTQNAME:return this.value;case y.NAMETESTRESOLVEDNAME:return"{"+this.namespaceURI+
"}"+this.value;case y.COMMENT:return"comment()";case y.TEXT:return"text()";case y.PI:return void 0!=this.value?'processing-instruction("'+this.value+'")':"processing-instruction()";case y.NODE:return"node()"}return"<unknown nodetest type>"};y.prototype.matches=function(c,X){switch(this.type){case y.NAMETESTANY:if(2==c.nodeType||1==c.nodeType||c.nodeType==pa.XPATH_NAMESPACE_NODE)return!0;break;case y.NAMETESTPREFIXANY:if(2==c.nodeType||1==c.nodeType){if(null==X.namespaceResolver.getNamespace(this.value,
X.expressionContextNode))throw Error("Cannot resolve QName "+this.value);return!0}break;case y.NAMETESTQNAME:if(2==c.nodeType||1==c.nodeType||c.nodeType==pa.XPATH_NAMESPACE_NODE){var ma=za.resolveQName(this.value,X.namespaceResolver,X.expressionContextNode,!1);if(null==ma[0])throw Error("Cannot resolve QName "+this.value);ma[0]=String(ma[0]);ma[1]=String(ma[1]);""==ma[0]&&(ma[0]=null);c=za.resolveQName(c.nodeName,X.namespaceResolver,c,1==c.nodeType);c[0]=String(c[0]);c[1]=String(c[1]);""==c[0]&&(c[0]=
null);return X.caseInsensitive?ma[0]==c[0]&&String(ma[1]).toLowerCase()==String(c[1]).toLowerCase():ma[0]==c[0]&&ma[1]==c[1]}break;case y.COMMENT:return 8==c.nodeType;case y.TEXT:return 3==c.nodeType||4==c.nodeType;case y.PI:return 7==c.nodeType&&(null==this.value||c.nodeName==this.value);case y.NODE:return 9==c.nodeType||1==c.nodeType||2==c.nodeType||3==c.nodeType||4==c.nodeType||8==c.nodeType||7==c.nodeType}return!1};y.NAMETESTANY=0;y.NAMETESTPREFIXANY=1;y.NAMETESTQNAME=2;y.COMMENT=3;y.TEXT=4;y.PI=
5;y.NODE=6;J.prototype=new K;J.prototype.constructor=J;J.superclass=K.prototype;J.prototype.init=function(c){this.variable=c};J.prototype.toString=function(){return"$"+this.variable};J.prototype.evaluate=function(c){return c.variableResolver.getVariable(this.variable,c)};Q.prototype=new K;Q.prototype.constructor=Q;Q.superclass=K.prototype;Q.prototype.init=function(c,X){this.functionName=c;this.arguments=X};Q.prototype.toString=function(){for(var c=this.functionName+"(",X=0;X<this.arguments.length;X++)0<
X&&(c+=", "),c+=this.arguments[X].toString();return c+")"};Q.prototype.evaluate=function(c){var X=c.functionResolver.getFunction(this.functionName,c);if(void 0==X)throw Error("Unknown function "+this.functionName);var ma=[c].concat(this.arguments);return X.apply(c.functionResolver.thisArg,ma)};aa.prototype=new K;aa.prototype.constructor=aa;aa.superclass=K.prototype;aa.prototype.init=function(c){this.str=c};aa.prototype.toString=function(){return this.str};aa.prototype.evaluate=function(c){return this};
aa.prototype.string=function(){return this};aa.prototype.number=function(){return new Z(this.str)};aa.prototype.bool=function(){return new ca(this.str)};aa.prototype.nodeset=function(){throw Error("Cannot convert string to nodeset");};aa.prototype.stringValue=function(){return this.str};aa.prototype.numberValue=function(){return this.number().numberValue()};aa.prototype.booleanValue=function(){return this.bool().booleanValue()};aa.prototype.equals=function(c){return za.instance_of(c,ca)?this.bool().equals(c):
za.instance_of(c,Z)?this.number().equals(c):za.instance_of(c,ha)?c.compareWithString(this,xa.equals):new ca(this.str==c.str)};aa.prototype.notequal=function(c){return za.instance_of(c,ca)?this.bool().notequal(c):za.instance_of(c,Z)?this.number().notequal(c):za.instance_of(c,ha)?c.compareWithString(this,xa.notequal):new ca(this.str!=c.str)};aa.prototype.lessthan=function(c){return za.instance_of(c,ha)?c.compareWithNumber(this.number(),xa.greaterthanorequal):this.number().lessthan(c.number())};aa.prototype.greaterthan=
function(c){return za.instance_of(c,ha)?c.compareWithNumber(this.number(),xa.lessthanorequal):this.number().greaterthan(c.number())};aa.prototype.lessthanorequal=function(c){return za.instance_of(c,ha)?c.compareWithNumber(this.number(),xa.greaterthan):this.number().lessthanorequal(c.number())};aa.prototype.greaterthanorequal=function(c){return za.instance_of(c,ha)?c.compareWithNumber(this.number(),xa.lessthan):this.number().greaterthanorequal(c.number())};Z.prototype=new K;Z.prototype.constructor=
Z;Z.superclass=K.prototype;Z.prototype.init=function(c){this.num=Number(c)};Z.prototype.toString=function(){return this.num};Z.prototype.evaluate=function(c){return this};Z.prototype.string=function(){return new aa(this.num)};Z.prototype.number=function(){return this};Z.prototype.bool=function(){return new ca(this.num)};Z.prototype.nodeset=function(){throw Error("Cannot convert number to nodeset");};Z.prototype.stringValue=function(){return this.string().stringValue()};Z.prototype.numberValue=function(){return this.num};
Z.prototype.booleanValue=function(){return this.bool().booleanValue()};Z.prototype.negate=function(){return new Z(-this.num)};Z.prototype.equals=function(c){return za.instance_of(c,ca)?this.bool().equals(c):za.instance_of(c,aa)?this.equals(c.number()):za.instance_of(c,ha)?c.compareWithNumber(this,xa.equals):new ca(this.num==c.num)};Z.prototype.notequal=function(c){return za.instance_of(c,ca)?this.bool().notequal(c):za.instance_of(c,aa)?this.notequal(c.number()):za.instance_of(c,ha)?c.compareWithNumber(this,
xa.notequal):new ca(this.num!=c.num)};Z.prototype.lessthan=function(c){return za.instance_of(c,ha)?c.compareWithNumber(this,xa.greaterthanorequal):za.instance_of(c,ca)||za.instance_of(c,aa)?this.lessthan(c.number()):new ca(this.num<c.num)};Z.prototype.greaterthan=function(c){return za.instance_of(c,ha)?c.compareWithNumber(this,xa.lessthanorequal):za.instance_of(c,ca)||za.instance_of(c,aa)?this.greaterthan(c.number()):new ca(this.num>c.num)};Z.prototype.lessthanorequal=function(c){return za.instance_of(c,
ha)?c.compareWithNumber(this,xa.greaterthan):za.instance_of(c,ca)||za.instance_of(c,aa)?this.lessthanorequal(c.number()):new ca(this.num<=c.num)};Z.prototype.greaterthanorequal=function(c){return za.instance_of(c,ha)?c.compareWithNumber(this,xa.lessthan):za.instance_of(c,ca)||za.instance_of(c,aa)?this.greaterthanorequal(c.number()):new ca(this.num>=c.num)};Z.prototype.plus=function(c){return new Z(this.num+c.num)};Z.prototype.minus=function(c){return new Z(this.num-c.num)};Z.prototype.multiply=function(c){return new Z(this.num*
c.num)};Z.prototype.div=function(c){return new Z(this.num/c.num)};Z.prototype.mod=function(c){return new Z(this.num%c.num)};ca.prototype=new K;ca.prototype.constructor=ca;ca.superclass=K.prototype;ca.prototype.init=function(c){this.b=!!c};ca.prototype.toString=function(){return this.b.toString()};ca.prototype.evaluate=function(c){return this};ca.prototype.string=function(){return new aa(this.b)};ca.prototype.number=function(){return new Z(this.b)};ca.prototype.bool=function(){return this};ca.prototype.nodeset=
function(){throw Error("Cannot convert boolean to nodeset");};ca.prototype.stringValue=function(){return this.string().stringValue()};ca.prototype.numberValue=function(){return this.num().numberValue()};ca.prototype.booleanValue=function(){return this.b};ca.prototype.not=function(){return new ca(!this.b)};ca.prototype.equals=function(c){return za.instance_of(c,aa)||za.instance_of(c,Z)?this.equals(c.bool()):za.instance_of(c,ha)?c.compareWithBoolean(this,xa.equals):new ca(this.b==c.b)};ca.prototype.notequal=
function(c){return za.instance_of(c,aa)||za.instance_of(c,Z)?this.notequal(c.bool()):za.instance_of(c,ha)?c.compareWithBoolean(this,xa.notequal):new ca(this.b!=c.b)};ca.prototype.lessthan=function(c){return za.instance_of(c,ha)?c.compareWithNumber(this.number(),xa.greaterthanorequal):this.number().lessthan(c.number())};ca.prototype.greaterthan=function(c){return za.instance_of(c,ha)?c.compareWithNumber(this.number(),xa.lessthanorequal):this.number().greaterthan(c.number())};ca.prototype.lessthanorequal=
function(c){return za.instance_of(c,ha)?c.compareWithNumber(this.number(),xa.greaterthan):this.number().lessthanorequal(c.number())};ca.prototype.greaterthanorequal=function(c){return za.instance_of(c,ha)?c.compareWithNumber(this.number(),xa.lessthan):this.number().greaterthanorequal(c.number())};fa.prototype={};fa.prototype.constructor=fa;fa.superclass=Object.prototype;fa.prototype.init=function(c){this.right=this.left=null;this.node=c;this.depth=1};fa.prototype.balance=function(){var c=null==this.left?
0:this.left.depth,X=null==this.right?0:this.right.depth;c>X+1?((null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL()):c+1<X&&((null==this.right.left?0:this.right.left.depth)>(null==this.right.right?0:this.right.right.depth)&&this.right.rotateLL(),this.rotateRR())};fa.prototype.rotateLL=function(){var c=this.node,X=this.right;this.node=this.left.node;this.right=this.left;this.left=this.left.left;this.right.left=this.right.right;
this.right.right=X;this.right.node=c;this.right.updateInNewLocation();this.updateInNewLocation()};fa.prototype.rotateRR=function(){var c=this.node,X=this.left;this.node=this.right.node;this.left=this.right;this.right=this.right.right;this.left.right=this.left.left;this.left.left=X;this.left.node=c;this.left.updateInNewLocation();this.updateInNewLocation()};fa.prototype.updateInNewLocation=function(){this.getDepthFromChildren()};fa.prototype.getDepthFromChildren=function(){this.depth=null==this.node?
0:1;null!=this.left&&(this.depth=this.left.depth+1);null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};fa.prototype.order=function(c,X){if(c===X)return 0;for(var ma=0,ka=0,na=c;null!=na;na=na.parentNode)ma++;for(na=X;null!=na;na=na.parentNode)ka++;if(ma>ka){for(;ma>ka;)c=c.parentNode,ma--;if(c==X)return 1}else if(ka>ma){for(;ka>ma;)X=X.parentNode,ka--;if(c==X)return-1}for(;c.parentNode!=X.parentNode;)c=c.parentNode,X=X.parentNode;for(;null!=c.previousSibling&&null!=X.previousSibling;)c=
c.previousSibling,X=X.previousSibling;return null==c.previousSibling?-1:1};fa.prototype.add=function(c){if(c===this.node)return!1;var X=this.order(c,this.node),ma=!1;-1==X?null==this.left?(this.left=new fa(c),ma=!0):(ma=this.left.add(c))&&this.balance():1==X&&(null==this.right?(this.right=new fa(c),ma=!0):(ma=this.right.add(c))&&this.balance());ma&&this.getDepthFromChildren();return ma};ha.prototype=new K;ha.prototype.constructor=ha;ha.superclass=K.prototype;ha.prototype.init=function(){this.tree=
null;this.size=0};ha.prototype.toString=function(){var c=this.first();return null==c?"":this.stringForNode(c)};ha.prototype.evaluate=function(c){return this};ha.prototype.string=function(){return new aa(this.toString())};ha.prototype.stringValue=function(){return this.toString()};ha.prototype.number=function(){return new Z(this.string())};ha.prototype.numberValue=function(){return Number(this.string())};ha.prototype.bool=function(){return new ca(null!=this.tree)};ha.prototype.booleanValue=function(){return null!=
this.tree};ha.prototype.nodeset=function(){return this};ha.prototype.stringForNode=function(c){9==c.nodeType&&(c=c.documentElement);return 1==c.nodeType?this.stringForNodeRec(c):c.isNamespaceNode?c.namespace:c.nodeValue};ha.prototype.stringForNodeRec=function(c){var X="";for(c=c.firstChild;null!=c;c=c.nextSibling)3==c.nodeType?X+=c.nodeValue:1==c.nodeType&&(X+=this.stringForNodeRec(c));return X};ha.prototype.first=function(){var c=this.tree;if(null==c)return null;for(;null!=c.left;)c=c.left;return c.node};
ha.prototype.add=function(c){null==this.tree?(this.tree=new fa(c),c=!0):c=this.tree.add(c);c&&this.size++};ha.prototype.addArray=function(c){for(var X=0;X<c.length;X++)this.add(c[X])};ha.prototype.toArray=function(){var c=[];this.toArrayRec(this.tree,c);return c};ha.prototype.toArrayRec=function(c,X){null!=c&&(this.toArrayRec(c.left,X),X.push(c.node),this.toArrayRec(c.right,X))};ha.prototype.compareWithString=function(c,X){for(var ma=this.toArray(),ka=0;ka<ma.length;ka++){var na=new aa(this.stringForNode(ma[ka]));
na=X(na,c);if(na.booleanValue())return na}return new ca(!1)};ha.prototype.compareWithNumber=function(c,X){for(var ma=this.toArray(),ka=0;ka<ma.length;ka++){var na=new Z(this.stringForNode(ma[ka]));na=X(na,c);if(na.booleanValue())return na}return new ca(!1)};ha.prototype.compareWithBoolean=function(c,X){return X(this.bool(),c)};ha.prototype.compareWithNodeSet=function(c,X){for(var ma=this.toArray(),ka=0;ka<ma.length;ka++)for(var na=new aa(this.stringForNode(ma[ka])),Ba=c.toArray(),La=0;La<Ba.length;La++){c=
new aa(this.stringForNode(Ba[La]));var Pa=X(na,c);if(Pa.booleanValue())return Pa}return new ca(!1)};ha.prototype.equals=function(c){return za.instance_of(c,aa)?this.compareWithString(c,xa.equals):za.instance_of(c,Z)?this.compareWithNumber(c,xa.equals):za.instance_of(c,ca)?this.compareWithBoolean(c,xa.equals):this.compareWithNodeSet(c,xa.equals)};ha.prototype.notequal=function(c){return za.instance_of(c,aa)?this.compareWithString(c,xa.notequal):za.instance_of(c,Z)?this.compareWithNumber(c,xa.notequal):
za.instance_of(c,ca)?this.compareWithBoolean(c,xa.notequal):this.compareWithNodeSet(c,xa.notequal)};ha.prototype.lessthan=function(c){return za.instance_of(c,aa)?this.compareWithNumber(c.number(),xa.lessthan):za.instance_of(c,Z)?this.compareWithNumber(c,xa.lessthan):za.instance_of(c,ca)?this.compareWithBoolean(c,xa.lessthan):this.compareWithNodeSet(c,xa.lessthan)};ha.prototype.greaterthan=function(c){return za.instance_of(c,aa)?this.compareWithNumber(c.number(),xa.greaterthan):za.instance_of(c,Z)?
this.compareWithNumber(c,xa.greaterthan):za.instance_of(c,ca)?this.compareWithBoolean(c,xa.greaterthan):this.compareWithNodeSet(c,xa.greaterthan)};ha.prototype.lessthanorequal=function(c){return za.instance_of(c,aa)?this.compareWithNumber(c.number(),xa.lessthanorequal):za.instance_of(c,Z)?this.compareWithNumber(c,xa.lessthanorequal):za.instance_of(c,ca)?this.compareWithBoolean(c,xa.lessthanorequal):this.compareWithNodeSet(c,xa.lessthanorequal)};ha.prototype.greaterthanorequal=function(c){return za.instance_of(c,
aa)?this.compareWithNumber(c.number(),xa.greaterthanorequal):za.instance_of(c,Z)?this.compareWithNumber(c,xa.greaterthanorequal):za.instance_of(c,ca)?this.compareWithBoolean(c,xa.greaterthanorequal):this.compareWithNodeSet(c,xa.greaterthanorequal)};ha.prototype.union=function(c){var X=new ha;X.tree=this.tree;X.size=this.size;X.addArray(c.toArray());return X};pa.prototype={};pa.prototype.constructor=pa;pa.superclass=Object.prototype;pa.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+
'" }'};var xa={equals:function(c,X){return c.equals(X)},notequal:function(c,X){return c.notequal(X)},lessthan:function(c,X){return c.lessthan(X)},greaterthan:function(c,X){return c.greaterthan(X)},lessthanorequal:function(c,X){return c.lessthanorequal(X)},greaterthanorequal:function(c,X){return c.greaterthanorequal(X)}};x.prototype={};x.prototype.constructor=x;x.superclass=Object.prototype;n.prototype={};n.prototype.constructor=n;n.superclass=Object.prototype;n.prototype.getVariable=function(c,X){c=
za.splitQName(c);if(null!=c[0]&&(c[0]=X.namespaceResolver.getNamespace(c[0],X.expressionContextNode),null==c[0]))throw Error("Cannot resolve QName "+fn);return this.getVariableWithName(c[0],c[1],X.expressionContextNode)};n.prototype.getVariableWithName=function(c,X,ma){return null};w.prototype={};w.prototype.constructor=w;w.superclass=Object.prototype;w.prototype.addStandardFunctions=function(){this.functions["{}last"]=Ea.last;this.functions["{}position"]=Ea.position;this.functions["{}count"]=Ea.count;
this.functions["{}id"]=Ea.id;this.functions["{}local-name"]=Ea.localName;this.functions["{}namespace-uri"]=Ea.namespaceURI;this.functions["{}name"]=Ea.name;this.functions["{}string"]=Ea.string;this.functions["{}concat"]=Ea.concat;this.functions["{}starts-with"]=Ea.startsWith;this.functions["{}contains"]=Ea.contains;this.functions["{}substring-before"]=Ea.substringBefore;this.functions["{}substring-after"]=Ea.substringAfter;this.functions["{}substring"]=Ea.substring;this.functions["{}string-length"]=
Ea.stringLength;this.functions["{}normalize-space"]=Ea.normalizeSpace;this.functions["{}translate"]=Ea.translate;this.functions["{}boolean"]=Ea.boolean_;this.functions["{}not"]=Ea.not;this.functions["{}true"]=Ea.true_;this.functions["{}false"]=Ea.false_;this.functions["{}lang"]=Ea.lang;this.functions["{}number"]=Ea.number;this.functions["{}sum"]=Ea.sum;this.functions["{}floor"]=Ea.floor;this.functions["{}ceiling"]=Ea.ceiling;this.functions["{}round"]=Ea.round};w.prototype.addFunction=function(c,X,
ma){this.functions["{"+c+"}"+X]=ma};w.prototype.getFunction=function(c,X){var ma=za.resolveQName(c,X.namespaceResolver,X.contextNode,!1);if(null==ma[0])throw Error("Cannot resolve QName "+c);return this.getFunctionWithName(ma[0],ma[1],X.contextNode)};w.prototype.getFunctionWithName=function(c,X,ma){return this.functions["{"+c+"}"+X]};F.prototype={};F.prototype.constructor=F;F.superclass=Object.prototype;F.prototype.getNamespace=function(c,X){if("xml"==c)return u.XML_NAMESPACE_URI;if("xmlns"==c)return u.XMLNS_NAMESPACE_URI;
9==X.nodeType?X=X.documentElement:2==X.nodeType?X=q.prototype.getOwnerElement(X):1!=X.nodeType&&(X=X.parentNode);for(;null!=X&&1==X.nodeType;){for(var ma=X.attributes,ka=0;ka<ma.length;ka++){var na=ma.item(ka),Ba=na.nodeName;if("xmlns"==Ba&&""==c||Ba=="xmlns:"+c)return String(na.nodeValue)}X=X.parentNode}return null};var Ea={last:function(){var c=arguments[0];if(1!=arguments.length)throw Error("Function last expects ()");return new Z(c.contextSize)},position:function(){var c=arguments[0];if(1!=arguments.length)throw Error("Function position expects ()");
return new Z(c.contextPosition)},count:function(){var c=arguments[0],X;if(2!=arguments.length||!za.instance_of(X=arguments[1].evaluate(c),ha))throw Error("Function count expects (node-set)");return new Z(X.size)},id:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function id expects (object)");var X=arguments[1].evaluate(c);X=za.instance_of(X,ha)?X.toArray().join(" "):X.stringValue();X=X.split(/[\x0d\x0a\x09\x20]+/);var ma=0,ka=new ha;c=9==c.contextNode.nodeType?c.contextNode:c.contextNode.ownerDocument;
for(var na=0;na<X.length;na++){var Ba=c.getElementById?c.getElementById(X[na]):za.getElementById(c,X[na]);null!=Ba&&(ka.add(Ba),ma++)}return ka},localName:function(){var c=arguments[0];if(1==arguments.length)c=c.contextNode;else if(2==arguments.length)c=arguments[1].evaluate(c).first();else throw Error("Function local-name expects (node-set?)");return null==c?new aa(""):new aa(c.localName?c.localName:c.baseName)},namespaceURI:function(){var c=arguments[0];if(1==arguments.length)c=c.contextNode;else if(2==
arguments.length)c=arguments[1].evaluate(c).first();else throw Error("Function namespace-uri expects (node-set?)");return null==c?new aa(""):new aa(c.namespaceURI)},name:function(){var c=arguments[0];if(1==arguments.length)c=c.contextNode;else if(2==arguments.length)c=arguments[1].evaluate(c).first();else throw Error("Function name expects (node-set?)");return null==c?new aa(""):1==c.nodeType||2==c.nodeType?new aa(c.nodeName):null==c.localName?new aa(""):new aa(c.localName)},string:function(){var c=
arguments[0];if(1==arguments.length)return ha.prototype.stringForNode(c.contextNode);if(2==arguments.length)return arguments[1].evaluate(c).string();throw Error("Function string expects (object?)");},concat:function(){var c=arguments[0];if(3>arguments.length)throw Error("Function concat expects (string, string, string*)");for(var X="",ma=1;ma<arguments.length;ma++)X+=arguments[ma].evaluate(c).stringValue();return new aa(X)},startsWith:function(){var c=arguments[0];if(3!=arguments.length)throw Error("Function startsWith expects (string, string)");
var X=arguments[1].evaluate(c).stringValue();c=arguments[2].evaluate(c).stringValue();return new ca(X.substring(0,c.length)==c)},contains:function(){var c=arguments[0];if(3!=arguments.length)throw Error("Function contains expects (string, string)");var X=arguments[1].evaluate(c).stringValue();c=arguments[2].evaluate(c).stringValue();return new ca(-1!=X.indexOf(c))},substringBefore:function(){var c=arguments[0];if(3!=arguments.length)throw Error("Function substring-before expects (string, string)");
var X=arguments[1].evaluate(c).stringValue();c=arguments[2].evaluate(c).stringValue();return new aa(X.substring(0,X.indexOf(c)))},substringAfter:function(){var c=arguments[0];if(3!=arguments.length)throw Error("Function substring-after expects (string, string)");var X=arguments[1].evaluate(c).stringValue();c=arguments[2].evaluate(c).stringValue();return 0==c.length?new aa(X):-1==X.indexOf(c)?new aa(""):new aa(X.substring(X.indexOf(c)+1))},substring:function(){var c=arguments[0];if(3!=arguments.length&&
4!=arguments.length)throw Error("Function substring expects (string, number, number?)");var X=arguments[1].evaluate(c).stringValue(),ma=Math.round(arguments[2].evaluate(c).numberValue())-1;c=4==arguments.length?ma+Math.round(arguments[3].evaluate(c).numberValue()):void 0;return new aa(X.substring(ma,c))},stringLength:function(){var c=arguments[0];if(1==arguments.length)c=ha.prototype.stringForNode(c.contextNode);else if(2==arguments.length)c=arguments[1].evaluate(c).stringValue();else throw Error("Function string-length expects (string?)");
return new Z(c.length)},normalizeSpace:function(){var c=arguments[0];if(1==arguments.length)c=ha.prototype.stringForNode(c.contextNode);else if(2==arguments.length)c=arguments[1].evaluate(c).stringValue();else throw Error("Function normalize-space expects (string?)");for(var X=0,ma=c.length-1;za.isSpace(c.charCodeAt(ma));)ma--;for(var ka="";X<=ma&&za.isSpace(c.charCodeAt(X));)X++;for(;X<=ma;)if(za.isSpace(c.charCodeAt(X)))for(ka+=" ";X<=ma&&za.isSpace(c.charCodeAt(X));)X++;else ka+=c.charAt(X),X++;
return new aa(ka)},translate:function(){var c=arguments[0];if(4!=arguments.length)throw Error("Function translate expects (string, string, string)");var X=arguments[1].evaluate(c).stringValue(),ma=arguments[2].evaluate(c).stringValue();c=arguments[3].evaluate(c).stringValue();for(var ka=[],na=0;na<ma.length;na++){var Ba=ma.charCodeAt(na);if(void 0==ka[Ba]){var La=na>c.length?"":c.charAt(na);ka[Ba]=La}}ma="";for(na=0;na<X.length;na++)c=X.charCodeAt(na),c=ka[c],ma=void 0==c?ma+X.charAt(na):ma+c;return new aa(ma)},
boolean_:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function boolean expects (object)");return arguments[1].evaluate(c).bool()},not:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function not expects (object)");return arguments[1].evaluate(c).bool().not()},true_:function(){if(1!=arguments.length)throw Error("Function true expects ()");return new ca(!0)},false_:function(){if(1!=arguments.length)throw Error("Function false expects ()");return new ca(!1)},lang:function(){var c=
arguments[0];if(2!=arguments.length)throw Error("Function lang expects (string)");for(var X,ma=c.contextNode;null!=ma&&9!=ma.nodeType;ma=ma.parentNode){var ka=ma.getAttributeNS(u.XML_NAMESPACE_URI,"lang");if(null!=ka){X=String(ka);break}}if(null==X)return new ca(!1);c=arguments[1].evaluate(c).stringValue();return new ca(X.substring(0,c.length)==c&&(X.length==c.length||"-"==X.charAt(c.length)))},number:function(){var c=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw Error("Function number expects (object?)");
return 1==arguments.length?new Z(ha.prototype.stringForNode(c.contextNode)):arguments[1].evaluate(c).number()},sum:function(){var c=arguments[0],X;if(2!=arguments.length||!za.instance_of(X=arguments[1].evaluate(c),ha))throw Error("Function sum expects (node-set)");X=X.toArray();for(var ma=c=0;ma<X.length;ma++)c+=(new Z(ha.prototype.stringForNode(X[ma]))).numberValue();return new Z(c)},floor:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function floor expects (number)");return new Z(Math.floor(arguments[1].evaluate(c).numberValue()))},
ceiling:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function ceiling expects (number)");return new Z(Math.ceil(arguments[1].evaluate(c).numberValue()))},round:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function round expects (number)");return new Z(Math.round(arguments[1].evaluate(c).numberValue()))}},za={splitQName:function(c){var X=c.indexOf(":");return-1==X?[null,c]:[c.substring(0,X),c.substring(X+1)]},resolveQName:function(c,X,ma,ka){c=za.splitQName(c);
null!=c[0]?c[0]=X.getNamespace(c[0],ma):ka?(c[0]=X.getNamespace("",ma),null==c[0]&&(c[0]="")):c[0]="";return c},isSpace:function(c){return 9==c||13==c||10==c||32==c},isLetter:function(c){return 65<=c&&90>=c||97<=c&&122>=c||192<=c&&214>=c||216<=c&&246>=c||248<=c&&255>=c||256<=c&&305>=c||308<=c&&318>=c||321<=c&&328>=c||330<=c&&382>=c||384<=c&&451>=c||461<=c&&496>=c||500<=c&&501>=c||506<=c&&535>=c||592<=c&&680>=c||699<=c&&705>=c||902==c||904<=c&&906>=c||908==c||910<=c&&929>=c||931<=c&&974>=c||976<=c&&
982>=c||986==c||988==c||990==c||992==c||994<=c&&1011>=c||1025<=c&&1036>=c||1038<=c&&1103>=c||1105<=c&&1116>=c||1118<=c&&1153>=c||1168<=c&&1220>=c||1223<=c&&1224>=c||1227<=c&&1228>=c||1232<=c&&1259>=c||1262<=c&&1269>=c||1272<=c&&1273>=c||1329<=c&&1366>=c||1369==c||1377<=c&&1414>=c||1488<=c&&1514>=c||1520<=c&&1522>=c||1569<=c&&1594>=c||1601<=c&&1610>=c||1649<=c&&1719>=c||1722<=c&&1726>=c||1728<=c&&1742>=c||1744<=c&&1747>=c||1749==c||1765<=c&&1766>=c||2309<=c&&2361>=c||2365==c||2392<=c&&2401>=c||2437<=
c&&2444>=c||2447<=c&&2448>=c||2451<=c&&2472>=c||2474<=c&&2480>=c||2482==c||2486<=c&&2489>=c||2524<=c&&2525>=c||2527<=c&&2529>=c||2544<=c&&2545>=c||2565<=c&&2570>=c||2575<=c&&2576>=c||2579<=c&&2600>=c||2602<=c&&2608>=c||2610<=c&&2611>=c||2613<=c&&2614>=c||2616<=c&&2617>=c||2649<=c&&2652>=c||2654==c||2674<=c&&2676>=c||2693<=c&&2699>=c||2701==c||2703<=c&&2705>=c||2707<=c&&2728>=c||2730<=c&&2736>=c||2738<=c&&2739>=c||2741<=c&&2745>=c||2749==c||2784==c||2821<=c&&2828>=c||2831<=c&&2832>=c||2835<=c&&2856>=
c||2858<=c&&2864>=c||2866<=c&&2867>=c||2870<=c&&2873>=c||2877==c||2908<=c&&2909>=c||2911<=c&&2913>=c||2949<=c&&2954>=c||2958<=c&&2960>=c||2962<=c&&2965>=c||2969<=c&&2970>=c||2972==c||2974<=c&&2975>=c||2979<=c&&2980>=c||2984<=c&&2986>=c||2990<=c&&2997>=c||2999<=c&&3001>=c||3077<=c&&3084>=c||3086<=c&&3088>=c||3090<=c&&3112>=c||3114<=c&&3123>=c||3125<=c&&3129>=c||3168<=c&&3169>=c||3205<=c&&3212>=c||3214<=c&&3216>=c||3218<=c&&3240>=c||3242<=c&&3251>=c||3253<=c&&3257>=c||3294==c||3296<=c&&3297>=c||3333<=
c&&3340>=c||3342<=c&&3344>=c||3346<=c&&3368>=c||3370<=c&&3385>=c||3424<=c&&3425>=c||3585<=c&&3630>=c||3632==c||3634<=c&&3635>=c||3648<=c&&3653>=c||3713<=c&&3714>=c||3716==c||3719<=c&&3720>=c||3722==c||3725==c||3732<=c&&3735>=c||3737<=c&&3743>=c||3745<=c&&3747>=c||3749==c||3751==c||3754<=c&&3755>=c||3757<=c&&3758>=c||3760==c||3762<=c&&3763>=c||3773==c||3776<=c&&3780>=c||3904<=c&&3911>=c||3913<=c&&3945>=c||4256<=c&&4293>=c||4304<=c&&4342>=c||4352==c||4354<=c&&4355>=c||4357<=c&&4359>=c||4361==c||4363<=
c&&4364>=c||4366<=c&&4370>=c||4412==c||4414==c||4416==c||4428==c||4430==c||4432==c||4436<=c&&4437>=c||4441==c||4447<=c&&4449>=c||4451==c||4453==c||4455==c||4457==c||4461<=c&&4462>=c||4466<=c&&4467>=c||4469==c||4510==c||4520==c||4523==c||4526<=c&&4527>=c||4535<=c&&4536>=c||4538==c||4540<=c&&4546>=c||4587==c||4592==c||4601==c||7680<=c&&7835>=c||7840<=c&&7929>=c||7936<=c&&7957>=c||7960<=c&&7965>=c||7968<=c&&8005>=c||8008<=c&&8013>=c||8016<=c&&8023>=c||8025==c||8027==c||8029==c||8031<=c&&8061>=c||8064<=
c&&8116>=c||8118<=c&&8124>=c||8126==c||8130<=c&&8132>=c||8134<=c&&8140>=c||8144<=c&&8147>=c||8150<=c&&8155>=c||8160<=c&&8172>=c||8178<=c&&8180>=c||8182<=c&&8188>=c||8486==c||8490<=c&&8491>=c||8494==c||8576<=c&&8578>=c||12353<=c&&12436>=c||12449<=c&&12538>=c||12549<=c&&12588>=c||44032<=c&&55203>=c||19968<=c&&40869>=c||12295==c||12321<=c&&12329>=c},isNCNameChar:function(c){return 48<=c&&57>=c||1632<=c&&1641>=c||1776<=c&&1785>=c||2406<=c&&2415>=c||2534<=c&&2543>=c||2662<=c&&2671>=c||2790<=c&&2799>=c||
2918<=c&&2927>=c||3047<=c&&3055>=c||3174<=c&&3183>=c||3302<=c&&3311>=c||3430<=c&&3439>=c||3664<=c&&3673>=c||3792<=c&&3801>=c||3872<=c&&3881>=c||46==c||45==c||95==c||za.isLetter(c)||768<=c&&837>=c||864<=c&&865>=c||1155<=c&&1158>=c||1425<=c&&1441>=c||1443<=c&&1465>=c||1467<=c&&1469>=c||1471==c||1473<=c&&1474>=c||1476==c||1611<=c&&1618>=c||1648==c||1750<=c&&1756>=c||1757<=c&&1759>=c||1760<=c&&1764>=c||1767<=c&&1768>=c||1770<=c&&1773>=c||2305<=c&&2307>=c||2364==c||2366<=c&&2380>=c||2381==c||2385<=c&&
2388>=c||2402<=c&&2403>=c||2433<=c&&2435>=c||2492==c||2494==c||2495==c||2496<=c&&2500>=c||2503<=c&&2504>=c||2507<=c&&2509>=c||2519==c||2530<=c&&2531>=c||2562==c||2620==c||2622==c||2623==c||2624<=c&&2626>=c||2631<=c&&2632>=c||2635<=c&&2637>=c||2672<=c&&2673>=c||2689<=c&&2691>=c||2748==c||2750<=c&&2757>=c||2759<=c&&2761>=c||2763<=c&&2765>=c||2817<=c&&2819>=c||2876==c||2878<=c&&2883>=c||2887<=c&&2888>=c||2891<=c&&2893>=c||2902<=c&&2903>=c||2946<=c&&2947>=c||3006<=c&&3010>=c||3014<=c&&3016>=c||3018<=
c&&3021>=c||3031==c||3073<=c&&3075>=c||3134<=c&&3140>=c||3142<=c&&3144>=c||3146<=c&&3149>=c||3157<=c&&3158>=c||3202<=c&&3203>=c||3262<=c&&3268>=c||3270<=c&&3272>=c||3274<=c&&3277>=c||3285<=c&&3286>=c||3330<=c&&3331>=c||3390<=c&&3395>=c||3398<=c&&3400>=c||3402<=c&&3405>=c||3415==c||3633==c||3636<=c&&3642>=c||3655<=c&&3662>=c||3761==c||3764<=c&&3769>=c||3771<=c&&3772>=c||3784<=c&&3789>=c||3864<=c&&3865>=c||3893==c||3895==c||3897==c||3902==c||3903==c||3953<=c&&3972>=c||3974<=c&&3979>=c||3984<=c&&3989>=
c||3991==c||3993<=c&&4013>=c||4017<=c&&4023>=c||4025==c||8400<=c&&8412>=c||8417==c||12330<=c&&12335>=c||12441==c||12442==c||183==c||720==c||721==c||903==c||1600==c||3654==c||3782==c||12293==c||12337<=c&&12341>=c||12445<=c&&12446>=c||12540<=c&&12542>=c},coalesceText:function(c){for(c=c.firstChild;null!=c;c=c.nextSibling)if(3==c.nodeType||4==c.nodeType){var X=c.nodeValue,ma=c;for(c=c.nextSibling;null!=c&&(3==c.nodeType||4==c.nodeType);){X+=c.nodeValue;var ka=c;c=c.nextSibling;ka.parentNode.removeChild(ka)}if(4==
ma.nodeType)if(ka=ma.parentNode,null==ma.nextSibling)ka.removeChild(ma),ka.appendChild(ka.ownerDocument.createTextNode(X));else{var na=ma.nextSibling;ka.removeChild(ma);ka.insertBefore(ka.ownerDocument.createTextNode(X),na)}else ma.nodeValue=X;if(null==c)break}else 1==c.nodeType&&za.coalesceText(c)},instance_of:function(c,X){for(;null!=c;){if(c.constructor===X)return!0;if(c===Object)break;c=c.constructor.superclass}return!1},getElementById:function(c,X){if(1==c.nodeType&&(c.getAttribute("id")==X||
c.getAttributeNS(null,"id")==X))return c;for(c=c.firstChild;null!=c;c=c.nextSibling){var ma=za.getElementById(c,X);if(null!=ma)return ma}return null}};W.prototype={};W.prototype.constructor=W;W.superclass=Object.prototype;W.prototype.toString=function(){var c=this.exception?": "+this.exception.toString():"";switch(this.code){case W.INVALID_EXPRESSION_ERR:return"Invalid expression"+c;case W.TYPE_ERR:return"Type error"+c}};W.INVALID_EXPRESSION_ERR=51;W.TYPE_ERR=52;P.prototype={};P.prototype.constructor=
P;P.superclass=Object.prototype;P.prototype.evaluate=function(c,X,ma){this.context.expressionContextNode=c;c=this.xpath.evaluate(this.context);return new sa(c,X)};O.prototype={};O.prototype.constructor=O;O.superclass=Object.prototype;O.prototype.getNamespace=function(c,X){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(c)};L.prototype={};L.prototype.constructor=L;L.superclass=Object.prototype;L.prototype.lookupNamespaceURI=function(c){return this.namespaceResolver.getNamespace(c,
this.node)};sa.prototype={};sa.prototype.constructor=sa;sa.superclass=Object.prototype;sa.prototype.iterateNext=function(){if(this.resultType!=sa.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=sa.ORDERED_NODE_ITERATOR_TYPE)throw new W(W.TYPE_ERR);return this.nodes[this.iteratorIndex++]};sa.prototype.snapshotItem=function(c){if(this.resultType!=sa.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=sa.ORDERED_NODE_SNAPSHOT_TYPE)throw new W(W.TYPE_ERR);return this.nodes[c]};sa.ANY_TYPE=0;sa.NUMBER_TYPE=
1;sa.STRING_TYPE=2;sa.BOOLEAN_TYPE=3;sa.UNORDERED_NODE_ITERATOR_TYPE=4;sa.ORDERED_NODE_ITERATOR_TYPE=5;sa.UNORDERED_NODE_SNAPSHOT_TYPE=6;sa.ORDERED_NODE_SNAPSHOT_TYPE=7;sa.ANY_UNORDERED_NODE_TYPE=8;sa.FIRST_ORDERED_NODE_TYPE=9;try{H=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(H=!1)}catch(c){}H&&Aa(document,new E)}catch(c){}R.exports=function(c,X){X=(new E).parse(X);var ma=new x;ma.expressionContextNode=c.documentElement?c.documentElement:
c;return X.evaluate(ma).toArray()}},function(R,H,E){function u(q){return new Date(q.getTime()+6E4*q.getTimezoneOffset())}function K(q,I,g){return!1===q instanceof Object?g:I in q?q[I]:g}function V(q,I,g,y){I=void 0===I?0:I;g=void 0===g?q.byteLength-I:g;y=void 0===y?!1:y;var J="";q=$jscomp.makeIterator(new Uint8Array(q,I,g));for(I=q.next();!I.done;I=q.next())I=I.value.toString(16).toUpperCase(),1===I.length&&(J+="0"),J+=I,y&&(J+=" ");return J.trim()}function l(q,I,g,y){return!1===I instanceof ArrayBuffer?
(q.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1):0===I.byteLength?(q.error="Wrong parameter: inputBuffer has zero length",!1):0>g?(q.error="Wrong parameter: inputOffset less than zero",!1):0>y?(q.error="Wrong parameter: inputLength less than zero",!1):0>I.byteLength-g-y?(q.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0}function h(q,I){var g=0;if(1===q.length)return q[0];for(var y=q.length-1;0<=y;y--)g+=q[q.length-1-y]*
Math.pow(2,I*y);return g}function r(q,I,g){var y=void 0===g?-1:g;g=q;for(var J=Math.pow(2,I),Q=1;8>Q;Q++){if(q<J){if(0>y)q=new ArrayBuffer(Q),y=Q;else{if(y<Q)break;q=new ArrayBuffer(y)}J=new Uint8Array(q);for(--Q;0<=Q;Q--){var aa=Math.pow(2,Q*I);J[y-Q-1]=Math.floor(g/aa);g-=J[y-Q-1]*aa}return q}J*=Math.pow(2,I)}return new ArrayBuffer(0)}function b(q){for(var I=[],g=0;g<arguments.length;++g)I[g-0]=arguments[g];var y=0;g=0;for(var J=$jscomp.makeIterator(I),Q=J.next();!Q.done;Q=J.next())y+=Q.value.byteLength;
y=new ArrayBuffer(y);J=new Uint8Array(y);I=$jscomp.makeIterator(I);for(Q=I.next();!Q.done;Q=I.next())Q=Q.value,J.set(new Uint8Array(Q),g),g+=Q.byteLength;return y}function f(q){for(var I=[],g=0;g<arguments.length;++g)I[g-0]=arguments[g];var y=0;g=0;for(var J=$jscomp.makeIterator(I),Q=J.next();!Q.done;Q=J.next())y+=Q.value.length;Q=new ArrayBuffer(y);y=new Uint8Array(Q);I=$jscomp.makeIterator(I);for(Q=I.next();!Q.done;Q=I.next())Q=Q.value,y.set(Q,g),g+=Q.length;return y}function p(){var q=new Uint8Array(this.valueHex);
if(2<=this.valueHex.byteLength){var I=0===q[0]&&0===(q[1]&128);(255===q[0]&&q[1]&128||I)&&this.warnings.push("Needlessly long format")}I=new ArrayBuffer(this.valueHex.byteLength);I=new Uint8Array(I);for(var g=0;g<this.valueHex.byteLength;g++)I[g]=0;I[0]=q[0]&128;I=h(I,8);g=new ArrayBuffer(this.valueHex.byteLength);g=new Uint8Array(g);for(var y=0;y<this.valueHex.byteLength;y++)g[y]=q[y];g[0]&=127;return h(g,8)-I}function z(q){for(var I=0>q?-1*q:q,g=128,y=1;8>y;y++){if(I<=g){if(0>q)return q=r(g-I,8,
y),(new Uint8Array(q))[0]|=128,q;q=r(I,8,y);I=new Uint8Array(q);if(I[0]&128){g=q.slice(0);y=new Uint8Array(g);q=new ArrayBuffer(q.byteLength+1);I=new Uint8Array(q);for(var J=0;J<g.byteLength;J++)I[J+1]=y[J];I[0]=0}return q}g*=Math.pow(2,8)}return new ArrayBuffer(0)}function N(q,I){if(q.byteLength!==I.byteLength)return!1;q=new Uint8Array(q);I=new Uint8Array(I);for(var g=0;g<q.length;g++)if(q[g]!==I[g])return!1;return!0}function B(q,I){q=q.toString(10);if(I<q.length)return"";I-=q.length;for(var g=Array(I),
y=0;y<I;y++)g[y]="0";return g.join("").concat(q)}function G(q,I,g,y){g=void 0===g?!1:g;var J=0,Q=0,aa=0,Z="";I=(void 0===I?0:I)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(void 0===y?0:y){for(var ca=y=0;ca<q.length;ca++)if(0!==q.charCodeAt(ca)){y=ca;break}q=q.slice(y)}for(;J<q.length;){var fa=q.charCodeAt(J++);J>=q.length&&(Q=1);var ha=q.charCodeAt(J++);J>=q.length&&(aa=1);ca=q.charCodeAt(J++);y=fa>>2;fa=
(fa&3)<<4|ha>>4;ha=(ha&15)<<2|ca>>6;ca&=63;1===Q?ha=ca=64:1===aa&&(ca=64);Z=g?64===ha?Z+(""+I.charAt(y)+I.charAt(fa)):64===ca?Z+(""+I.charAt(y)+I.charAt(fa)+I.charAt(ha)):Z+(""+I.charAt(y)+I.charAt(fa)+I.charAt(ha)+I.charAt(ca)):Z+(""+I.charAt(y)+I.charAt(fa)+I.charAt(ha)+I.charAt(ca))}return Z}function v(q,I,g){function y(x){for(var n=0;64>n;n++)if(J.charAt(n)===x)return n;return 64}g=void 0===g?!1:g;var J=(void 0===I?0:I)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
Q=0;for(I="";Q<q.length;){var aa=y(q.charAt(Q++)),Z=Q>=q.length?0:y(q.charAt(Q++)),ca=Q>=q.length?0:y(q.charAt(Q++)),fa=Q>=q.length?0:y(q.charAt(Q++)),ha=((64===Z?0:Z)&15)<<4|(64===ca?0:ca)>>2,pa=((64===ca?0:ca)&3)<<6|(64===fa?0:fa);I+=String.fromCharCode((64===aa?0:aa)<<2|(64===Z?0:Z)>>4);64!==ca&&(I+=String.fromCharCode(ha));64!==fa&&(I+=String.fromCharCode(pa))}if(g){q=-1;for(g=I.length-1;0<=g;g--)if(0!==I.charCodeAt(g)){q=g;break}I=-1!==q?I.slice(0,q+1):""}return I}function C(q){var I="";q=new Uint8Array(q);
q=$jscomp.makeIterator(q);for(var g=q.next();!g.done;g=q.next())I+=String.fromCharCode(g.value);return I}function t(q){for(var I=q.length,g=new ArrayBuffer(I),y=new Uint8Array(g),J=0;J<I;J++)y[J]=q.charCodeAt(J);return g}function S(q){var I=Math.log(q)/e;q=Math.floor(I);I=Math.round(I);return q===I?q:I}function k(q,I){I=$jscomp.makeIterator(I);for(var g=I.next();!g.done;g=I.next())delete q[g.value]}E.r(H);E.d(H,"getUTCDate",function(){return u});E.d(H,"getParametersValue",function(){return K});E.d(H,
"bufferToHexCodes",function(){return V});E.d(H,"checkBufferParams",function(){return l});E.d(H,"utilFromBase",function(){return h});E.d(H,"utilToBase",function(){return r});E.d(H,"utilConcatBuf",function(){return b});E.d(H,"utilConcatView",function(){return f});E.d(H,"utilDecodeTC",function(){return p});E.d(H,"utilEncodeTC",function(){return z});E.d(H,"isEqualBuffer",function(){return N});E.d(H,"padNumber",function(){return B});E.d(H,"toBase64",function(){return G});E.d(H,"fromBase64",function(){return v});
E.d(H,"arrayBufferToString",function(){return C});E.d(H,"stringToArrayBuffer",function(){return t});E.d(H,"nearestPowerOf2",function(){return S});E.d(H,"clearProps",function(){return k});var e=Math.log(2)},function(R,H,E){(function(u){function K(h,r){this._id=h;this._clearFn=r}var V="undefined"!==typeof u&&u||"undefined"!==typeof self&&self||window,l=Function.prototype.apply;H.setTimeout=function(){return new K(l.call(setTimeout,V,arguments),clearTimeout)};H.setInterval=function(){return new K(l.call(setInterval,
V,arguments),clearInterval)};H.clearTimeout=H.clearInterval=function(h){h&&h.close()};K.prototype.unref=K.prototype.ref=function(){};K.prototype.close=function(){this._clearFn.call(V,this._id)};H.enroll=function(h,r){clearTimeout(h._idleTimeoutId);h._idleTimeout=r};H.unenroll=function(h){clearTimeout(h._idleTimeoutId);h._idleTimeout=-1};H._unrefActive=H.active=function(h){clearTimeout(h._idleTimeoutId);var r=h._idleTimeout;0<=r&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},
r))};E(73);H.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof u&&u.setImmediate||this&&this.setImmediate;H.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof u&&u.clearImmediate||this&&this.clearImmediate}).call(this,E(19))},function(R,H,E){(function(u,K){(function(V,l){function h(e){delete v[e]}function r(e){if(C)setTimeout(r,0,e);else{var q=v[e];if(q){C=!0;try{var I=q.callback,g=q.args;switch(g.length){case 0:I();break;case 1:I(g[0]);
break;case 2:I(g[0],g[1]);break;case 3:I(g[0],g[1],g[2]);break;default:I.apply(l,g)}}finally{h(e),C=!1}}}}function b(){S=function(e){K.nextTick(function(){r(e)})}}function f(){if(V.postMessage&&!V.importScripts){var e=!0,q=V.onmessage;V.onmessage=function(){e=!1};V.postMessage("","*");V.onmessage=q;return e}}function p(){var e="setImmediate$"+Math.random()+"$",q=function(I){I.source===V&&"string"===typeof I.data&&0===I.data.indexOf(e)&&r(+I.data.slice(e.length))};V.addEventListener?V.addEventListener("message",
q,!1):V.attachEvent("onmessage",q);S=function(I){V.postMessage(e+I,"*")}}function z(){var e=new MessageChannel;e.port1.onmessage=function(q){r(q.data)};S=function(q){e.port2.postMessage(q)}}function N(){var e=t.documentElement;S=function(q){var I=t.createElement("script");I.onreadystatechange=function(){r(q);I.onreadystatechange=null;e.removeChild(I);I=null};e.appendChild(I)}}function B(){S=function(e){setTimeout(r,0,e)}}if(!V.setImmediate){var G=1,v={},C=!1,t=V.document,S,k=Object.getPrototypeOf&&
Object.getPrototypeOf(V);k=k&&k.setTimeout?k:V;"[object process]"==={}.toString.call(V.process)?b():f()?p():V.MessageChannel?z():t&&"onreadystatechange"in t.createElement("script")?N():B();k.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var q=Array(arguments.length-1),I=0;I<q.length;I++)q[I]=arguments[I+1];v[G]={callback:e,args:q};S(G);return G++};k.clearImmediate=h}})("undefined"===typeof self?"undefined"===typeof u?this:u:self)}).call(this,E(19),E(31))},function(R,H,
E){(function(u){var K={};R.exports=K;var V={};K.encode=function(l,h,r){if("string"!==typeof h)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!==typeof r)throw new TypeError('"maxline" must be a number.');var b="";if(l instanceof Uint8Array){var f,p=h.length,z=h.charAt(0),N=[0];for(f=0;f<l.length;++f){for(var B=0,G=l[f];B<N.length;++B)G+=N[B]<<8,N[B]=G%p,G=G/p|0;for(;0<G;)N.push(G%p),G=G/p|0}for(f=0;0===l[f]&&f<l.length-1;++f)b+=z;for(f=N.length-1;0<=f;--f)b+=h[N[f]]}else{z=
h.length;f=h.charAt(0);p=[0];for(b=0;b<l.length();++b){N=0;for(B=l.at(b);N<p.length;++N)B+=p[N]<<8,p[N]=B%z,B=B/z|0;for(;0<B;)p.push(B%z),B=B/z|0}z="";for(b=0;0===l.at(b)&&b<l.length()-1;++b)z+=f;for(b=p.length-1;0<=b;--b)z+=h[p[b]];b=z}r&&(b=b.match(new RegExp(".{1,"+r+"}","g")).join("\r\n"));return b};K.decode=function(l,h){if("string"!==typeof l)throw new TypeError('"input" must be a string.');if("string"!==typeof h)throw new TypeError('"alphabet" must be a string.');var r=V[h];if(!r){r=V[h]=[];
for(var b=0;b<h.length;++b)r[h.charCodeAt(b)]=b}l=l.replace(/\s/g,"");var f=h.length;h=h.charAt(0);var p=[0];for(b=0;b<l.length;b++){var z=r[l.charCodeAt(b)];if(void 0===z)return;for(var N=0;N<p.length;++N)z+=p[N]*f,p[N]=z&255,z>>=8;for(;0<z;)p.push(z&255),z>>=8}for(r=0;l[r]===h&&r<l.length-1;++r)p.push(0);return"undefined"!==typeof u?u.from(p.reverse()):new Uint8Array(p.reverse())}}).call(this,E(6).Buffer)},function(R,H,E){function u(f,p,z){p=p.entity===r.tls.ConnectionEnd.client;f.read.cipherState=
{init:!1,cipher:r.cipher.createDecipher("AES-CBC",p?z.keys.server_write_key:z.keys.client_write_key),iv:p?z.keys.server_write_IV:z.keys.client_write_IV};f.write.cipherState={init:!1,cipher:r.cipher.createCipher("AES-CBC",p?z.keys.client_write_key:z.keys.server_write_key),iv:p?z.keys.client_write_IV:z.keys.server_write_IV};f.read.cipherFunction=h;f.write.cipherFunction=K;f.read.macLength=f.write.macLength=z.mac_length;f.read.macFunction=f.write.macFunction=b.hmac_sha1}function K(f,p){var z=!1,N=p.macFunction(p.macKey,
p.sequenceNumber,f);f.fragment.putBytes(N);p.updateSequenceNumber();N=f.version.minor===b.Versions.TLS_1_0.minor?p.cipherState.init?null:p.cipherState.iv:r.random.getBytesSync(16);p.cipherState.init=!0;p=p.cipherState.cipher;p.start({iv:N});f.version.minor>=b.Versions.TLS_1_1.minor&&p.output.putBytes(N);p.update(f.fragment);p.finish(V)&&(f.fragment=p.output,f.length=f.fragment.length(),z=!0);return z}function V(f,p,z){z||(f-=p.length()%f,p.fillWithByte(f-1,f));return!0}function l(f,p,z){f=!0;if(z){z=
p.length();for(var N=p.last(),B=z-1-N;B<z-1;++B)f=f&&p.at(B)==N;f&&p.truncate(N+1)}return f}function h(f,p){var z=f.version.minor===b.Versions.TLS_1_0.minor?p.cipherState.init?null:p.cipherState.iv:f.fragment.getBytes(16);p.cipherState.init=!0;var N=p.cipherState.cipher;N.start({iv:z});N.update(f.fragment);z=N.finish(l);var B=p.macLength,G=r.random.getBytesSync(B),v=N.output.length();v>=B?(f.fragment=N.output.getBytes(v-B),G=N.output.getBytes(B)):f.fragment=N.output.getBytes();f.fragment=r.util.createBuffer(f.fragment);
f.length=f.fragment.length();f=p.macFunction(p.macKey,p.sequenceNumber,f);p.updateSequenceNumber();p=p.macKey;N=r.hmac.create();N.start("SHA1",p);N.update(G);G=N.digest().getBytes();N.start(null,null);N.update(f);f=N.digest().getBytes();return G===f&&z}var r=E(5);E(20);E(49);var b=R.exports=r.tls;b.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=b.BulkCipherAlgorithm.aes;f.cipher_type=b.CipherType.block;
f.enc_key_length=16;f.block_length=16;f.fixed_iv_length=16;f.record_iv_length=16;f.mac_algorithm=b.MACAlgorithm.hmac_sha1;f.mac_length=20;f.mac_key_length=20},initConnectionState:u};b.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=b.BulkCipherAlgorithm.aes;f.cipher_type=b.CipherType.block;f.enc_key_length=32;f.block_length=16;f.fixed_iv_length=16;f.record_iv_length=16;f.mac_algorithm=b.MACAlgorithm.hmac_sha1;
f.mac_length=20;f.mac_key_length=20},initConnectionState:u}},function(R,H,E){H=E(5);E(59);R.exports=H.mgf=H.mgf||{};H.mgf.mgf1=H.mgf1},function(R,H,E){(function(u){function K(P){var O=P.message;if(O instanceof Uint8Array||O instanceof Z)return O;var L=P.encoding;if(void 0===O)if(P.md)O=P.md.digest().getBytes(),L="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if("string"===typeof O&&!L)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"===
typeof O){if("undefined"!==typeof u)return u.from(O,L);O=new aa(O,L)}else if(!(O instanceof aa))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');P=new Z(O.length());for(L=0;L<P.length;++L)P[L]=O.at(L);return P}function V(P,O){var L=I.md.sha512.create();P=new aa(P);L.update(P.getBytes(O),"binary");O=L.digest().getBytes();if("undefined"!==typeof u)return u.from(O,"binary");L=new Z(ca.constants.HASH_BYTE_LENGTH);
for(P=0;64>P;++P)L[P]=O.charCodeAt(P);return L}function l(P,O){var L,sa;for(L=63;32<=L;--L){var Aa=0;var xa=L-32;for(sa=L-12;xa<sa;++xa)O[xa]+=Aa-16*O[L]*F[xa-(L-32)],Aa=O[xa]+128>>8,O[xa]-=256*Aa;O[xa]+=Aa;O[L]=0}for(xa=Aa=0;32>xa;++xa)O[xa]+=Aa-(O[31]>>4)*F[xa],Aa=O[xa]>>8,O[xa]&=255;for(xa=0;32>xa;++xa)O[xa]-=Aa*F[xa];for(L=0;32>L;++L)O[L+1]+=O[L]>>8,P[L]=O[L]&255}function h(P){for(var O=new Float64Array(64),L=0;64>L;++L)O[L]=P[L],P[L]=0;l(P,O)}function r(P,O){var L=S(),sa=S(),Aa=S(),xa=S(),Ea=
S(),za=S(),c=S(),X=S(),ma=S();e(L,P[1],P[0]);e(ma,O[1],O[0]);q(L,L,ma);k(sa,P[0],P[1]);k(ma,O[0],O[1]);q(sa,sa,ma);q(Aa,P[3],O[3]);q(Aa,Aa,x);q(xa,P[2],O[2]);k(xa,xa,xa);e(Ea,sa,L);e(za,xa,Aa);k(c,xa,Aa);k(X,sa,L);q(P[0],Ea,za);q(P[1],X,c);q(P[2],c,za);q(P[3],Ea,X)}function b(P,O){var L=S(),sa=S(),Aa=S(),xa=O[2],Ea=S(),za;for(za=0;16>za;++za)Ea[za]=xa[za];for(za=253;0<=za;--za)q(Ea,Ea,Ea),2!==za&&4!==za&&q(Ea,Ea,xa);for(za=0;16>za;++za)Aa[za]=Ea[za];q(L,O[0],Aa);q(sa,O[1],Aa);f(P,sa);P[31]^=N(L)<<
7}function f(P,O){var L,sa=S(),Aa=S();for(L=0;16>L;++L)Aa[L]=O[L];C(Aa);C(Aa);C(Aa);for(O=0;2>O;++O){sa[0]=Aa[0]-65517;for(L=1;15>L;++L)sa[L]=Aa[L]-65535-(sa[L-1]>>16&1),sa[L-1]&=65535;sa[15]=Aa[15]-32767-(sa[14]>>16&1);L=sa[15]>>16&1;sa[14]&=65535;t(Aa,sa,1-L)}for(L=0;16>L;L++)P[2*L]=Aa[L]&255,P[2*L+1]=Aa[L]>>8}function p(P,O){var L=new Z(32),sa=new Z(32);f(L,P);f(sa,O);return z(L,0,sa,0)}function z(P,O,L,sa){var Aa,xa=0;for(Aa=0;32>Aa;++Aa)xa|=P[O+Aa]^L[sa+Aa];return(1&xa-1>>>8)-1}function N(P){var O=
new Z(32);f(O,P);return O[0]&1}function B(P,O,L){var sa;v(P[0],fa);v(P[1],ha);v(P[2],ha);v(P[3],fa);for(sa=255;0<=sa;--sa){var Aa=L[sa/8|0]>>(sa&7)&1;for(var xa=P,Ea=O,za=Aa,c=0;4>c;++c)t(xa[c],Ea[c],za);r(O,P);r(P,P);xa=P;Ea=O;for(za=0;4>za;++za)t(xa[za],Ea[za],Aa)}}function G(P,O){var L=[S(),S(),S(),S()];v(L[0],n);v(L[1],w);v(L[2],ha);q(L[3],n,w);B(P,L,O)}function v(P,O){var L;for(L=0;16>L;L++)P[L]=O[L]|0}function C(P){var O,L=1;for(O=0;16>O;++O){var sa=P[O]+L+65535;L=Math.floor(sa/65536);P[O]=
sa-65536*L}P[0]+=L-1+37*(L-1)}function t(P,O,L){for(var sa=~(L-1),Aa=0;16>Aa;++Aa)L=sa&(P[Aa]^O[Aa]),P[Aa]^=L,O[Aa]^=L}function S(P){var O,L=new Float64Array(16);if(P)for(O=0;O<P.length;++O)L[O]=P[O];return L}function k(P,O,L){for(var sa=0;16>sa;++sa)P[sa]=O[sa]+L[sa]}function e(P,O,L){for(var sa=0;16>sa;++sa)P[sa]=O[sa]-L[sa]}function q(P,O,L){var sa=L[0],Aa=L[1],xa=L[2],Ea=L[3],za=L[4],c=L[5],X=L[6],ma=L[7],ka=L[8],na=L[9],Ba=L[10],La=L[11],Pa=L[12],ab=L[13],Na=L[14],cb=L[15];L=O[0];var da=L*sa;
var la=L*Aa;var va=L*xa;var Da=L*Ea;var Wa=L*za;var ib=L*c;var fb=L*X;var Qa=L*ma;var Ka=L*ka;var db=L*na;var Xa=L*Ba;var d=L*La;var U=L*Pa;var ea=L*ab;var ua=L*Na;var qa=L*cb;L=O[1];la+=L*sa;va+=L*Aa;Da+=L*xa;Wa+=L*Ea;ib+=L*za;fb+=L*c;Qa+=L*X;Ka+=L*ma;db+=L*ka;Xa+=L*na;d+=L*Ba;U+=L*La;ea+=L*Pa;ua+=L*ab;qa+=L*Na;var m=L*cb;L=O[2];va+=L*sa;Da+=L*Aa;Wa+=L*xa;ib+=L*Ea;fb+=L*za;Qa+=L*c;Ka+=L*X;db+=L*ma;Xa+=L*ka;d+=L*na;U+=L*Ba;ea+=L*La;ua+=L*Pa;qa+=L*ab;m+=L*Na;var T=L*cb;L=O[3];Da+=L*sa;Wa+=L*Aa;ib+=
L*xa;fb+=L*Ea;Qa+=L*za;Ka+=L*c;db+=L*X;Xa+=L*ma;d+=L*ka;U+=L*na;ea+=L*Ba;ua+=L*La;qa+=L*Pa;m+=L*ab;T+=L*Na;var ba=L*cb;L=O[4];Wa+=L*sa;ib+=L*Aa;fb+=L*xa;Qa+=L*Ea;Ka+=L*za;db+=L*c;Xa+=L*X;d+=L*ma;U+=L*ka;ea+=L*na;ua+=L*Ba;qa+=L*La;m+=L*Pa;T+=L*ab;ba+=L*Na;var ra=L*cb;L=O[5];ib+=L*sa;fb+=L*Aa;Qa+=L*xa;Ka+=L*Ea;db+=L*za;Xa+=L*c;d+=L*X;U+=L*ma;ea+=L*ka;ua+=L*na;qa+=L*Ba;m+=L*La;T+=L*Pa;ba+=L*ab;ra+=L*Na;var wa=L*cb;L=O[6];fb+=L*sa;Qa+=L*Aa;Ka+=L*xa;db+=L*Ea;Xa+=L*za;d+=L*c;U+=L*X;ea+=L*ma;ua+=L*ka;qa+=
L*na;m+=L*Ba;T+=L*La;ba+=L*Pa;ra+=L*ab;wa+=L*Na;var Fa=L*cb;L=O[7];Qa+=L*sa;Ka+=L*Aa;db+=L*xa;Xa+=L*Ea;d+=L*za;U+=L*c;ea+=L*X;ua+=L*ma;qa+=L*ka;m+=L*na;T+=L*Ba;ba+=L*La;ra+=L*Pa;wa+=L*ab;Fa+=L*Na;var $a=L*cb;L=O[8];Ka+=L*sa;db+=L*Aa;Xa+=L*xa;d+=L*Ea;U+=L*za;ea+=L*c;ua+=L*X;qa+=L*ma;m+=L*ka;T+=L*na;ba+=L*Ba;ra+=L*La;wa+=L*Pa;Fa+=L*ab;$a+=L*Na;var lb=L*cb;L=O[9];db+=L*sa;Xa+=L*Aa;d+=L*xa;U+=L*Ea;ea+=L*za;ua+=L*c;qa+=L*X;m+=L*ma;T+=L*ka;ba+=L*na;ra+=L*Ba;wa+=L*La;Fa+=L*Pa;$a+=L*ab;lb+=L*Na;var Va=L*
cb;L=O[10];Xa+=L*sa;d+=L*Aa;U+=L*xa;ea+=L*Ea;ua+=L*za;qa+=L*c;m+=L*X;T+=L*ma;ba+=L*ka;ra+=L*na;wa+=L*Ba;Fa+=L*La;$a+=L*Pa;lb+=L*ab;Va+=L*Na;var A=L*cb;L=O[11];d+=L*sa;U+=L*Aa;ea+=L*xa;ua+=L*Ea;qa+=L*za;m+=L*c;T+=L*X;ba+=L*ma;ra+=L*ka;wa+=L*na;Fa+=L*Ba;$a+=L*La;lb+=L*Pa;Va+=L*ab;A+=L*Na;var ia=L*cb;L=O[12];U+=L*sa;ea+=L*Aa;ua+=L*xa;qa+=L*Ea;m+=L*za;T+=L*c;ba+=L*X;ra+=L*ma;wa+=L*ka;Fa+=L*na;$a+=L*Ba;lb+=L*La;Va+=L*Pa;A+=L*ab;ia+=L*Na;var oa=L*cb;L=O[13];ea+=L*sa;ua+=L*Aa;qa+=L*xa;m+=L*Ea;T+=L*za;ba+=
L*c;ra+=L*X;wa+=L*ma;Fa+=L*ka;$a+=L*na;lb+=L*Ba;Va+=L*La;A+=L*Pa;ia+=L*ab;oa+=L*Na;var Ha=L*cb;L=O[14];ua+=L*sa;qa+=L*Aa;m+=L*xa;T+=L*Ea;ba+=L*za;ra+=L*c;wa+=L*X;Fa+=L*ma;$a+=L*ka;lb+=L*na;Va+=L*Ba;A+=L*La;ia+=L*Pa;oa+=L*ab;Ha+=L*Na;var Ga=L*cb;L=O[15];qa+=L*sa;la+=38*(T+L*xa);va+=38*(ba+L*Ea);Da+=38*(ra+L*za);Wa+=38*(wa+L*c);ib+=38*(Fa+L*X);fb+=38*($a+L*ma);Qa+=38*(lb+L*ka);Ka+=38*(Va+L*na);db+=38*(A+L*Ba);Xa+=38*(ia+L*La);d+=38*(oa+L*Pa);U+=38*(Ha+L*ab);ea+=38*(Ga+L*Na);ua+=38*L*cb;L=da+38*(m+L*
Aa)+1+65535;O=Math.floor(L/65536);da=L-65536*O;L=la+O+65535;O=Math.floor(L/65536);la=L-65536*O;L=va+O+65535;O=Math.floor(L/65536);va=L-65536*O;L=Da+O+65535;O=Math.floor(L/65536);Da=L-65536*O;L=Wa+O+65535;O=Math.floor(L/65536);Wa=L-65536*O;L=ib+O+65535;O=Math.floor(L/65536);ib=L-65536*O;L=fb+O+65535;O=Math.floor(L/65536);fb=L-65536*O;L=Qa+O+65535;O=Math.floor(L/65536);Qa=L-65536*O;L=Ka+O+65535;O=Math.floor(L/65536);Ka=L-65536*O;L=db+O+65535;O=Math.floor(L/65536);db=L-65536*O;L=Xa+O+65535;O=Math.floor(L/
65536);Xa=L-65536*O;L=d+O+65535;O=Math.floor(L/65536);d=L-65536*O;L=U+O+65535;O=Math.floor(L/65536);U=L-65536*O;L=ea+O+65535;O=Math.floor(L/65536);ea=L-65536*O;L=ua+O+65535;O=Math.floor(L/65536);ua=L-65536*O;L=qa+O+65535;O=Math.floor(L/65536);qa=L-65536*O;da+=O-1+37*(O-1);L=da+1+65535;O=Math.floor(L/65536);da=L-65536*O;L=la+O+65535;O=Math.floor(L/65536);la=L-65536*O;L=va+O+65535;O=Math.floor(L/65536);va=L-65536*O;L=Da+O+65535;O=Math.floor(L/65536);Da=L-65536*O;L=Wa+O+65535;O=Math.floor(L/65536);Wa=
L-65536*O;L=ib+O+65535;O=Math.floor(L/65536);ib=L-65536*O;L=fb+O+65535;O=Math.floor(L/65536);fb=L-65536*O;L=Qa+O+65535;O=Math.floor(L/65536);Qa=L-65536*O;L=Ka+O+65535;O=Math.floor(L/65536);Ka=L-65536*O;L=db+O+65535;O=Math.floor(L/65536);db=L-65536*O;L=Xa+O+65535;O=Math.floor(L/65536);Xa=L-65536*O;L=d+O+65535;O=Math.floor(L/65536);d=L-65536*O;L=U+O+65535;O=Math.floor(L/65536);U=L-65536*O;L=ea+O+65535;O=Math.floor(L/65536);ea=L-65536*O;L=ua+O+65535;O=Math.floor(L/65536);ua=L-65536*O;L=qa+O+65535;O=
Math.floor(L/65536);P[0]=da+(O-1+37*(O-1));P[1]=la;P[2]=va;P[3]=Da;P[4]=Wa;P[5]=ib;P[6]=fb;P[7]=Qa;P[8]=Ka;P[9]=db;P[10]=Xa;P[11]=d;P[12]=U;P[13]=ea;P[14]=ua;P[15]=L-65536*O}var I=E(5);E(34);E(14);E(61);E(7);var g=E(78),y=g.publicKeyValidator,J=g.privateKeyValidator;if("undefined"===typeof Q)var Q=I.jsbn.BigInteger;var aa=I.util.ByteBuffer,Z="undefined"===typeof u?Uint8Array:u;I.pki=I.pki||{};R.exports=I.pki.ed25519=I.ed25519=I.ed25519||{};var ca=I.ed25519;ca.constants={};ca.constants.PUBLIC_KEY_BYTE_LENGTH=
32;ca.constants.PRIVATE_KEY_BYTE_LENGTH=64;ca.constants.SEED_BYTE_LENGTH=32;ca.constants.SIGN_BYTE_LENGTH=64;ca.constants.HASH_BYTE_LENGTH=64;ca.generateKeyPair=function(P){P=P||{};var O=P.seed;if(void 0===O)O=I.random.getBytesSync(ca.constants.SEED_BYTE_LENGTH);else if("string"===typeof O){if(O.length!==ca.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+ca.constants.SEED_BYTE_LENGTH+" bytes in length.");}else if(!(O instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');
O=K({message:O,encoding:"binary"});P=new Z(ca.constants.PUBLIC_KEY_BYTE_LENGTH);for(var L=new Z(ca.constants.PRIVATE_KEY_BYTE_LENGTH),sa=0;32>sa;++sa)L[sa]=O[sa];O=[S(),S(),S(),S()];sa=V(L,32);sa[0]&=248;sa[31]&=127;sa[31]|=64;G(O,sa);b(P,O);for(O=0;32>O;++O)L[O+32]=P[O];return{publicKey:P,privateKey:L}};ca.privateKeyFromAsn1=function(P){var O={},L=[];if(!I.asn1.validate(P,J,O,L))throw O=Error("Invalid Key."),O.errors=L,O;L=I.asn1.derToOid(O.privateKeyOid);P=I.oids.EdDSA25519;if(L!==P)throw Error('Invalid OID "'+
L+'"; OID must be "'+P+'".');return{privateKeyBytes:K({message:I.asn1.fromDer(O.privateKey).value,encoding:"binary"})}};ca.publicKeyFromAsn1=function(P){var O={},L=[];if(!I.asn1.validate(P,y,O,L))throw O=Error("Invalid Key."),O.errors=L,O;L=I.asn1.derToOid(O.publicKeyOid);P=I.oids.EdDSA25519;if(L!==P)throw Error('Invalid OID "'+L+'"; OID must be "'+P+'".');O=O.ed25519PublicKey;if(O.length!==ca.constants.PUBLIC_KEY_BYTE_LENGTH)throw Error("Key length is invalid.");return K({message:O,encoding:"binary"})};
ca.publicKeyFromPrivateKey=function(P){P=P||{};P=K({message:P.privateKey,encoding:"binary"});if(P.length!==ca.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ca.constants.PRIVATE_KEY_BYTE_LENGTH);for(var O=new Z(ca.constants.PUBLIC_KEY_BYTE_LENGTH),L=0;L<O.length;++L)O[L]=P[32+L];return O};ca.sign=function(P){P=P||{};var O=K(P),L=K({message:P.privateKey,encoding:"binary"});if(L.length===ca.constants.SEED_BYTE_LENGTH)L=ca.generateKeyPair({seed:L}).privateKey;
else if(L.length!==ca.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ca.constants.SEED_BYTE_LENGTH+" or "+ca.constants.PRIVATE_KEY_BYTE_LENGTH);P=new Z(ca.constants.SIGN_BYTE_LENGTH+O.length);var sa=O.length,Aa=L,xa=new Float64Array(64),Ea=[S(),S(),S(),S()],za=V(Aa,32);za[0]&=248;za[31]&=127;za[31]|=64;for(L=0;L<sa;++L)P[64+L]=O[L];for(L=0;32>L;++L)P[32+L]=za[32+L];O=V(P.subarray(32),sa+32);h(O);G(Ea,O);b(P,Ea);for(L=32;64>L;++L)P[L]=Aa[L];
sa=V(P,sa+64);h(sa);for(L=32;64>L;++L)xa[L]=0;for(L=0;32>L;++L)xa[L]=O[L];for(L=0;32>L;++L)for(O=0;32>O;O++)xa[L+O]+=sa[L]*za[O];l(P.subarray(32),xa);L=new Z(ca.constants.SIGN_BYTE_LENGTH);for(xa=0;xa<L.length;++xa)L[xa]=P[xa];return L};ca.verify=function(P){P=P||{};var O=K(P);if(void 0===P.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var L=K({message:P.signature,encoding:"binary"});if(L.length!==ca.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+
ca.constants.SIGN_BYTE_LENGTH);var sa=K({message:P.publicKey,encoding:"binary"});if(sa.length!==ca.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+ca.constants.PUBLIC_KEY_BYTE_LENGTH);P=new Z(ca.constants.SIGN_BYTE_LENGTH+O.length);var Aa=new Z(ca.constants.SIGN_BYTE_LENGTH+O.length),xa;for(xa=0;xa<ca.constants.SIGN_BYTE_LENGTH;++xa)P[xa]=L[xa];for(xa=0;xa<O.length;++xa)P[xa+ca.constants.SIGN_BYTE_LENGTH]=O[xa];O=P.length;L=new Z(32);xa=[S(),
S(),S(),S()];var Ea=[S(),S(),S(),S()];if(64>O)P=-1;else{var za=S();var c=S();var X=S(),ma=S(),ka=S(),na=S(),Ba=S();v(Ea[2],ha);var La=Ea[1],Pa;for(Pa=0;16>Pa;++Pa)La[Pa]=sa[2*Pa]+(sa[2*Pa+1]<<8);La[15]&=32767;La=Ea[1];q(X,La,La);q(ma,X,pa);e(X,X,Ea[2]);k(ma,Ea[2],ma);q(ka,ma,ma);q(na,ka,ka);q(Ba,na,ka);q(za,Ba,X);q(za,za,ma);ka=S();for(na=0;16>na;++na)ka[na]=za[na];for(na=250;0<=na;--na)q(ka,ka,ka),1!==na&&q(ka,ka,za);for(na=0;16>na;++na)za[na]=ka[na];q(za,za,X);q(za,za,ma);q(za,za,ma);q(Ea[0],za,
ma);za=Ea[0];q(c,za,za);q(c,c,ma);p(c,X)&&q(Ea[0],Ea[0],W);za=Ea[0];q(c,za,za);q(c,c,ma);p(c,X)?c=-1:(N(Ea[0])===sa[31]>>7&&e(Ea[0],fa,Ea[0]),q(Ea[3],Ea[0],Ea[1]),c=0);if(c)P=-1;else{for(c=0;c<O;++c)Aa[c]=P[c];for(c=0;32>c;++c)Aa[c+32]=sa[c];sa=V(Aa,O);h(sa);B(xa,Ea,sa);G(Ea,P.subarray(32));r(xa,Ea);b(L,xa);O-=64;if(z(P,0,L,0)){for(c=0;c<O;++c)Aa[c]=0;P=-1}else{for(c=0;c<O;++c)Aa[c]=P[c+64];P=O}}}return 0<=P};var fa=S(),ha=S([1]),pa=S([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,
36039,65139,11119,27886,20995]),x=S([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),n=S([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),w=S([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),F=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),W=S([41136,18958,6951,50414,58488,44335,6150,12099,55207,
15867,153,11085,57099,20417,9344,11139])}).call(this,E(6).Buffer)},function(R,H,E){R=E(5);E(16);E=R.asn1;H.privateKeyValidator={name:"PrivateKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:E.Class.UNIVERSAL,
type:E.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};H.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:E.Class.UNIVERSAL,
type:E.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:E.Class.UNIVERSAL,type:E.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(R,H,E){function u(l,h,r,b){l.generate=function(f,p){for(var z=new K.util.ByteBuffer,N=Math.ceil(p/b)+r,B=new K.util.ByteBuffer,G=r;G<N;++G){B.putInt32(G);h.start();h.update(f+B.getBytes());var v=h.digest();z.putBytes(v.getBytes(b))}z.truncate(z.length()-p);return z.getBytes()}}var K=E(5);E(7);E(14);E(34);R.exports=
K.kem=K.kem||{};var V=K.jsbn.BigInteger;K.kem.rsa={};K.kem.rsa.create=function(l,h){h=h||{};var r=h.prng||K.random;return{encrypt:function(b,f){var p=Math.ceil(b.n.bitLength()/8);do var z=(new V(K.util.bytesToHex(r.getBytesSync(p)),16)).mod(b.n);while(0>=z.compareTo(V.ONE));z=K.util.hexToBytes(z.toString(16));p-=z.length;0<p&&(z=K.util.fillString(String.fromCharCode(0),p)+z);b=b.encrypt(z,"NONE");f=l.generate(z,f);return{encapsulation:b,key:f}},decrypt:function(b,f,p){b=b.decrypt(f,"NONE");return l.generate(b,
p)}}};K.kem.kdf1=function(l,h){u(this,l,0,h||l.digestLength)};K.kem.kdf2=function(l,h){u(this,l,1,h||l.digestLength)}},function(R,H,E){R.exports=E(17);E(37);E(26);E(52);E(61)},function(R,H,E){function u(b){if(b.type===l.pki.oids.contentType)var f=h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(b.value).getBytes());else if(b.type===l.pki.oids.messageDigest)f=h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,b.value.bytes());else if(b.type===l.pki.oids.signingTime){f=new Date("1950-01-01T00:00:00Z");
var p=new Date("2050-01-01T00:00:00Z"),z=b.value;if("string"===typeof z){var N=Date.parse(z);z=isNaN(N)?13===z.length?h.utcTimeToDate(z):h.generalizedTimeToDate(z):new Date(N)}f=z>=f&&z<p?h.create(h.Class.UNIVERSAL,h.Type.UTCTIME,!1,h.dateToUtcTime(z)):h.create(h.Class.UNIVERSAL,h.Type.GENERALIZEDTIME,!1,h.dateToGeneralizedTime(z))}return h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(b.type).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SET,!0,
[f])])}function K(b,f,p){var z={};if(!h.validate(f,p,z,[]))throw b=Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message."),b.errors=b,b;if(h.derToOid(z.contentType)!==l.pki.oids.data)throw Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(z.encryptedContent){f="";if(l.util.isArray(z.encryptedContent))for(p=0;p<z.encryptedContent.length;++p){if(z.encryptedContent[p].type!==h.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");
f+=z.encryptedContent[p].value}else f=z.encryptedContent;b.encryptedContent={algorithm:h.derToOid(z.encAlgorithm),parameter:l.util.createBuffer(z.encParameter.value),content:l.util.createBuffer(f)}}if(z.content){f="";if(l.util.isArray(z.content))for(p=0;p<z.content.length;++p){if(z.content[p].type!==h.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");f+=z.content[p].value}else f=z.content;b.content=l.util.createBuffer(f)}b.version=
z.version.charCodeAt(0);return b.rawCapture=z}function V(b){if(void 0===b.encryptedContent.key)throw Error("Symmetric key not available.");if(void 0===b.content){switch(b.encryptedContent.algorithm){case l.pki.oids["aes128-CBC"]:case l.pki.oids["aes192-CBC"]:case l.pki.oids["aes256-CBC"]:var f=l.aes.createDecryptionCipher(b.encryptedContent.key);break;case l.pki.oids.desCBC:case l.pki.oids["des-EDE3-CBC"]:f=l.des.createDecryptionCipher(b.encryptedContent.key);break;default:throw Error("Unsupported symmetric cipher, OID "+
b.encryptedContent.algorithm);}f.start(b.encryptedContent.parameter);f.update(b.encryptedContent.content);if(!f.finish())throw Error("Symmetric decryption failed.");b.content=f.output}}var l=E(5);E(20);E(16);E(32);E(21);E(22);E(58);E(14);E(7);E(40);var h=l.asn1,r=R.exports=l.pkcs7=l.pkcs7||{};r.messageFromPem=function(b){b=l.pem.decode(b)[0];if("PKCS7"!==b.type){var f=Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');f.headerType=b.type;throw f;}if(b.procType&&"ENCRYPTED"===
b.procType.type)throw Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");b=h.fromDer(b.body);return r.messageFromAsn1(b)};r.messageToPem=function(b,f){b={type:"PKCS7",body:h.toDer(b.toAsn1()).getBytes()};return l.pem.encode(b,{maxline:f})};r.messageFromAsn1=function(b){var f={},p=[];if(!h.validate(b,r.asn1.contentInfoValidator,f,p))throw f=Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo."),f.errors=p,f;p=h.derToOid(f.contentType);switch(p){case l.pki.oids.envelopedData:p=
r.createEnvelopedData();break;case l.pki.oids.encryptedData:p=r.createEncryptedData();break;case l.pki.oids.signedData:p=r.createSignedData();break;default:throw Error("Cannot read PKCS#7 message. ContentType with OID "+p+" is not (yet) supported.");}p.fromAsn1(f.content.value[0]);return p};r.createSignedData=function(){var b=null;return b={type:l.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(f){K(b,
f,r.asn1.signedDataValidator);b.certificates=[];b.crls=[];b.digestAlgorithmIdentifiers=[];b.contentInfo=null;b.signerInfos=[];if(b.rawCapture.certificates){f=b.rawCapture.certificates.value;for(var p=0;p<f.length;++p)b.certificates.push(l.pki.certificateFromAsn1(f[p]))}},toAsn1:function(){b.contentInfo||b.sign();for(var f=[],p=0;p<b.certificates.length;++p)f.push(l.pki.certificateToAsn1(b.certificates[p]));p=[];var z=h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,
!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(b.version).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SET,!0,b.digestAlgorithmIdentifiers),b.contentInfo])]);0<f.length&&z.value[0].value.push(h.create(h.Class.CONTEXT_SPECIFIC,0,!0,f));0<p.length&&z.value[0].value.push(h.create(h.Class.CONTEXT_SPECIFIC,1,!0,p));z.value[0].value.push(h.create(h.Class.UNIVERSAL,h.Type.SET,!0,b.signerInfos));return h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,
!1,h.oidToDer(b.type).getBytes()),z])},addSigner:function(f){var p=f.issuer,z=f.serialNumber;f.certificate&&(z=f.certificate,"string"===typeof z&&(z=l.pki.certificateFromPem(z)),p=z.issuer.attributes,z=z.serialNumber);var N=f.key;if(!N)throw Error("Could not add PKCS#7 signer; no private key specified.");"string"===typeof N&&(N=l.pki.privateKeyFromPem(N));var B=f.digestAlgorithm||l.pki.oids.sha1;switch(B){case l.pki.oids.sha1:case l.pki.oids.sha256:case l.pki.oids.sha384:case l.pki.oids.sha512:case l.pki.oids.md5:break;
default:throw Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+B);}f=f.authenticatedAttributes||[];if(0<f.length){for(var G=!1,v=!1,C=0;C<f.length;++C){var t=f[C];if(!G&&t.type===l.pki.oids.contentType){if(G=!0,v)break}else if(!v&&t.type===l.pki.oids.messageDigest&&(v=!0,G))break}if(!G||!v)throw Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.");
}b.signers.push({key:N,version:1,issuer:p,serialNumber:z,digestAlgorithm:B,signatureAlgorithm:l.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},sign:function(f){f=f||{};if("object"!==typeof b.content||null===b.contentInfo)if(b.contentInfo=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(l.pki.oids.data).getBytes())]),"content"in b){var p;b.content instanceof l.util.ByteBuffer?p=b.content.bytes():"string"===
typeof b.content&&(p=l.util.encodeUtf8(b.content));f.detached?b.detachedContent=h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,p):b.contentInfo.value.push(h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,p)]))}if(0!==b.signers.length){f={};for(p=0;p<b.signers.length;++p){var z=b.signers[p],N=z.digestAlgorithm;N in f||(f[N]=l.md[l.pki.oids[N]].create());z.md=0===z.authenticatedAttributes.length?f[N]:l.md[l.pki.oids[N]].create()}b.digestAlgorithmIdentifiers=
[];for(N in f)b.digestAlgorithmIdentifiers.push(h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(N).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.NULL,!1,"")]));b.detachedContent?p=b.detachedContent:(p=b.contentInfo.value[1],p=p.value[0]);if(!p)throw Error("Could not sign PKCS#7 message; there is no content to sign.");N=h.derToOid(b.contentInfo.value[0].value);var B=h.toDer(p);B.getByte();h.getBerValueLength(B);B=B.getBytes();for(var G in f)f[G].start().update(B);
G=new Date;for(p=0;p<b.signers.length;++p){z=b.signers[p];if(0===z.authenticatedAttributes.length){if(N!==l.pki.oids.data)throw Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.");}else{z.authenticatedAttributesAsn1=h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[]);B=h.create(h.Class.UNIVERSAL,h.Type.SET,!0,[]);for(var v=0;v<z.authenticatedAttributes.length;++v){var C=z.authenticatedAttributes[v];C.type===l.pki.oids.messageDigest?C.value=
f[z.digestAlgorithm].digest():C.type!==l.pki.oids.signingTime||C.value||(C.value=G);B.value.push(u(C));z.authenticatedAttributesAsn1.value.push(u(C))}B=h.toDer(B).getBytes();z.md.start().update(B)}z.signature=z.key.sign(z.md,"RSASSA-PKCS1-V1_5")}f=b;N=b.signers;G=[];for(p=0;p<N.length;++p){z=G;B=z.push;v=N[p];C=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(v.version).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[l.pki.distinguishedNameToAsn1({attributes:v.issuer}),
h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,l.util.hexToBytes(v.serialNumber))]),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(v.digestAlgorithm).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.NULL,!1,"")])]);v.authenticatedAttributesAsn1&&C.value.push(v.authenticatedAttributesAsn1);C.value.push(h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(v.signatureAlgorithm).getBytes()),h.create(h.Class.UNIVERSAL,
h.Type.NULL,!1,"")]));C.value.push(h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,v.signature));if(0<v.unauthenticatedAttributes.length){for(var t=h.create(h.Class.CONTEXT_SPECIFIC,1,!0,[]),S=0;S<v.unauthenticatedAttributes.length;++S)t.values.push(u(v.unauthenticatedAttributes[S]));C.value.push(t)}B.call(z,C)}f.signerInfos=G}},verify:function(){throw Error("PKCS#7 signature verification not yet implemented.");},addCertificate:function(f){"string"===typeof f&&(f=l.pki.certificateFromPem(f));b.certificates.push(f)},
addCertificateRevokationList:function(f){throw Error("PKCS#7 CRL support not yet implemented.");}}};r.createEncryptedData=function(){var b=null;return b={type:l.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:l.pki.oids["aes256-CBC"]},fromAsn1:function(f){K(b,f,r.asn1.encryptedDataValidator)},decrypt:function(f){void 0!==f&&(b.encryptedContent.key=f);V(b)}}};r.createEnvelopedData=function(){var b=null;return b={type:l.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:l.pki.oids["aes256-CBC"]},
fromAsn1:function(f){var p=K(b,f,r.asn1.envelopedDataValidator);f=b;p=p.recipientInfos.value;for(var z=[],N=0;N<p.length;++N){var B=z,G=B.push,v={};var C=[];if(!h.validate(p[N],r.asn1.recipientInfoValidator,v,C))throw f=Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo."),f.errors=C,f;C={version:v.version.charCodeAt(0),issuer:l.pki.RDNAttributesAsArray(v.issuer),serialNumber:l.util.createBuffer(v.serial).toHex(),encryptedContent:{algorithm:h.derToOid(v.encAlgorithm),
parameter:v.encParameter.value,content:v.encKey}};G.call(B,C)}f.recipients=z},toAsn1:function(){for(var f=h,p=f.create,z=h.Class.UNIVERSAL,N=h.Type.SEQUENCE,B=h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(b.type).getBytes()),G=h,v=G.create,C=h.Class.CONTEXT_SPECIFIC,t=h,S=t.create,k=h.Class.UNIVERSAL,e=h.Type.SEQUENCE,q=h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(b.version).getBytes()),I=h,g=I.create,y=h.Class.UNIVERSAL,J=h.Type.SET,Q=b.recipients,aa=[],Z=0;Z<Q.length;++Z){var ca=
aa,fa=ca.push;var ha=Q[Z];ha=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(ha.version).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[l.pki.distinguishedNameToAsn1({attributes:ha.issuer}),h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,l.util.hexToBytes(ha.serialNumber))]),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(ha.encryptedContent.algorithm).getBytes()),h.create(h.Class.UNIVERSAL,
h.Type.NULL,!1,"")]),h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,ha.encryptedContent.content)]);fa.call(ca,ha)}I=g.call(I,y,J,!0,aa);g=h;y=g.create;J=h.Class.UNIVERSAL;Q=h.Type.SEQUENCE;aa=b.encryptedContent;aa=[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(l.pki.oids.data).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(aa.algorithm).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,aa.parameter.getBytes())]),h.create(h.Class.CONTEXT_SPECIFIC,
0,!0,[h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,aa.content.getBytes())])];return p.call(f,z,N,!0,[B,v.call(G,C,0,!0,[S.call(t,k,e,!0,[q,I,y.call(g,J,Q,!0,aa)])])])},findRecipient:function(f){for(var p=f.issuer.attributes,z=0;z<b.recipients.length;++z){var N=b.recipients[z],B=N.issuer;if(N.serialNumber===f.serialNumber&&B.length===p.length){for(var G=!0,v=0;v<p.length;++v)if(B[v].type!==p[v].type||B[v].value!==p[v].value){G=!1;break}if(G)return N}}return null},decrypt:function(f,p){if(void 0===
b.encryptedContent.key&&void 0!==f&&void 0!==p)switch(f.encryptedContent.algorithm){case l.pki.oids.rsaEncryption:case l.pki.oids.desCBC:f=p.decrypt(f.encryptedContent.content);b.encryptedContent.key=l.util.createBuffer(f);break;default:throw Error("Unsupported asymmetric cipher, OID "+f.encryptedContent.algorithm);}V(b)},addRecipient:function(f){b.recipients.push({version:0,issuer:f.issuer.attributes,serialNumber:f.serialNumber,encryptedContent:{algorithm:l.pki.oids.rsaEncryption,key:f.publicKey}})},
encrypt:function(f,p){if(void 0===b.encryptedContent.content){p=p||b.encryptedContent.algorithm;f=f||b.encryptedContent.key;var z;switch(p){case l.pki.oids["aes128-CBC"]:var N=z=16;var B=l.aes.createEncryptionCipher;break;case l.pki.oids["aes192-CBC"]:z=24;N=16;B=l.aes.createEncryptionCipher;break;case l.pki.oids["aes256-CBC"]:z=32;N=16;B=l.aes.createEncryptionCipher;break;case l.pki.oids["des-EDE3-CBC"]:z=24;N=8;B=l.des.createEncryptionCipher;break;default:throw Error("Unsupported symmetric cipher, OID "+
p);}if(void 0===f)f=l.util.createBuffer(l.random.getBytes(z));else if(f.length()!=z)throw Error("Symmetric key has wrong length; got "+f.length()+" bytes, expected "+z+".");b.encryptedContent.algorithm=p;b.encryptedContent.key=f;b.encryptedContent.parameter=l.util.createBuffer(l.random.getBytes(N));f=B(f);f.start(b.encryptedContent.parameter.copy());f.update(b.content);if(!f.finish())throw Error("Symmetric encryption failed.");b.encryptedContent.content=f.output}for(f=0;f<b.recipients.length;++f)if(p=
b.recipients[f],void 0===p.encryptedContent.content)switch(p.encryptedContent.algorithm){case l.pki.oids.rsaEncryption:p.encryptedContent.content=p.encryptedContent.key.encrypt(b.encryptedContent.key.data);break;default:throw Error("Unsupported asymmetric cipher, OID "+p.encryptedContent.algorithm);}}}}},function(R,H,E){function u(h,r){r=r.toString(16);"8"<=r[0]&&(r="00"+r);r=l.util.hexToBytes(r);h.putInt32(r.length);h.putBytes(r)}function K(h,r){h.putInt32(r.length);h.putString(r)}function V(){for(var h=
l.md.sha1.create(),r=arguments.length,b=0;b<r;++b)h.update(arguments[b]);return h.digest()}var l=E(5);E(20);E(25);E(37);E(26);E(7);R=R.exports=l.ssh=l.ssh||{};R.privateKeyToPutty=function(h,r,b){b=b||"";r=r||"";var f=""===r?"none":"aes256-cbc";var p="PuTTY-User-Key-File-2: ssh-rsa\r\nEncryption: "+(f+"\r\nComment: ")+(b+"\r\n");var z=l.util.createBuffer();K(z,"ssh-rsa");u(z,h.e);u(z,h.n);var N=l.util.encode64(z.bytes(),64),B=Math.floor(N.length/66)+1;p+="Public-Lines: "+B+"\r\n";p+=N;N=l.util.createBuffer();
u(N,h.d);u(N,h.p);u(N,h.q);u(N,h.qInv);r?(B=N.length()+16-1,B-=B%16,h=V(N.bytes()),h.truncate(h.length()-B+N.length()),N.putBuffer(h),B=l.util.createBuffer(),B.putBuffer(V("\x00\x00\x00\x00",r)),B.putBuffer(V("\x00\x00\x00\u0001",r)),B=l.aes.createEncryptionCipher(B.truncate(8),"CBC"),B.start(l.util.createBuffer().fillWithByte(0,16)),B.update(N.copy()),B.finish(),B=B.output,B.truncate(16),h=l.util.encode64(B.bytes(),64)):h=l.util.encode64(N.bytes(),64);B=Math.floor(h.length/66)+1;p+="\r\nPrivate-Lines: "+
B+"\r\n";p+=h;r=V("putty-private-key-file-mac-key",r);B=l.util.createBuffer();K(B,"ssh-rsa");K(B,f);K(B,b);B.putInt32(z.length());B.putBuffer(z);B.putInt32(N.length());B.putBuffer(N);b=l.hmac.create();b.start("sha1",r);b.update(B.bytes());return p+="\r\nPrivate-MAC: "+b.digest().toHex()+"\r\n"};R.publicKeyToOpenSSH=function(h,r){r=r||"";var b=l.util.createBuffer();K(b,"ssh-rsa");u(b,h.e);u(b,h.n);return"ssh-rsa "+l.util.encode64(b.bytes())+" "+r};R.privateKeyToOpenSSH=function(h,r){return r?l.pki.encryptRsaPrivateKey(h,
r,{legacy:!0,algorithm:"aes128"}):l.pki.privateKeyToPem(h)};R.getPublicKeyFingerprint=function(h,r){r=r||{};var b=r.md||l.md.md5.create(),f=l.util.createBuffer();K(f,"ssh-rsa");u(f,h.e);u(f,h.n);b.start();b.update(f.getBytes());h=b.digest();if("hex"===r.encoding)return h=h.toHex(),r.delimiter?h.match(/.{2}/g).join(r.delimiter):h;if("binary"===r.encoding)return h.getBytes();if(r.encoding)throw Error('Unknown encoding "'+r.encoding+'".');return h}},function(R,H,E){var u=E(5);E(60);E(62);E(7);var K=
{},V=0;u.debug.set("forge.task","tasks",K);var l={};u.debug.set("forge.task","queues",l);var h={ready:{}};h.ready.stop="ready";h.ready.start="running";h.ready.cancel="done";h.ready.fail="error";h.running={};h.running.stop="ready";h.running.start="running";h.running.block="blocked";h.running.unblock="running";h.running.sleep="sleeping";h.running.wakeup="running";h.running.cancel="done";h.running.fail="error";h.blocked={};h.blocked.stop="blocked";h.blocked.start="blocked";h.blocked.block="blocked";
h.blocked.unblock="blocked";h.blocked.sleep="blocked";h.blocked.wakeup="blocked";h.blocked.cancel="done";h.blocked.fail="error";h.sleeping={};h.sleeping.stop="sleeping";h.sleeping.start="sleeping";h.sleeping.block="sleeping";h.sleeping.unblock="sleeping";h.sleeping.sleep="sleeping";h.sleeping.wakeup="sleeping";h.sleeping.cancel="done";h.sleeping.fail="error";h.done={};h.done.stop="done";h.done.start="done";h.done.block="done";h.done.unblock="done";h.done.sleep="done";h.done.wakeup="done";h.done.cancel=
"done";h.done.fail="error";h.error={};h.error.stop="error";h.error.start="error";h.error.block="error";h.error.unblock="error";h.error.sleep="error";h.error.wakeup="error";h.error.cancel="error";h.error.fail="error";var r=function(z){this.id=-1;this.name=z.name||"?";this.parent=z.parent||null;this.run=z.run;this.subtasks=[];this.error=!1;this.state="ready";this.blocks=0;this.userData=this.swapTime=this.timeoutId=null;this.id=V++;K[this.id]=this};r.prototype.debug=function(z){u.log.debug("forge.task",
z||"","[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",l)};r.prototype.next=function(z,N){"function"===typeof z&&(N=z,z=this.name);z=new r({run:N,name:z,parent:this});z.state="running";z.type=this.type;z.successCallback=this.successCallback||null;z.failureCallback=this.failureCallback||null;this.subtasks.push(z);return this};r.prototype.parallel=function(z,N){u.util.isArray(z)&&(N=z,z=this.name);return this.next(z,function(B){B.block(N.length);for(var G=function(C,
t){u.task.start({type:C,run:function(S){N[t](S)},success:function(S){B.unblock()},failure:function(S){B.unblock()}})},v=0;v<N.length;v++)G(z+"__parallel-"+B.id+"-"+v,v)})};r.prototype.stop=function(){this.state=h[this.state].stop};r.prototype.start=function(){this.error=!1;this.state=h[this.state].start;"running"===this.state&&(this.start=new Date,this.run(this),f(this,0))};r.prototype.block=function(z){this.blocks+="undefined"===typeof z?1:z;0<this.blocks&&(this.state=h[this.state].block)};r.prototype.unblock=
function(z){this.blocks-="undefined"===typeof z?1:z;0===this.blocks&&"done"!==this.state&&(this.state="running",f(this,0));return this.blocks};r.prototype.sleep=function(z){this.state=h[this.state].sleep;var N=this;this.timeoutId=setTimeout(function(){N.timeoutId=null;N.state="running";f(N,0)},"undefined"===typeof z?0:z)};r.prototype.wait=function(z){z.wait(this)};r.prototype.wakeup=function(){"sleeping"===this.state&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state="running",f(this,
0))};r.prototype.cancel=function(){this.state=h[this.state].cancel;this.permitsNeeded=0;null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null);this.subtasks=[]};r.prototype.fail=function(z){this.error=!0;p(this,!0);if(z)z.error=this.error,z.swapTime=this.swapTime,z.userData=this.userData,f(z,0);else{if(null!==this.parent){for(z=this.parent;null!==z.parent;)z.error=this.error,z.swapTime=this.swapTime,z.userData=this.userData,z=z.parent;p(z,!0)}this.failureCallback&&this.failureCallback(this)}};
var b=function(z){z.error=!1;z.state=h[z.state].start;setTimeout(function(){"running"===z.state&&(z.swapTime=+new Date,z.run(z),f(z,0))},0)},f=function(z,N){var B=30<N||20<+new Date-z.swapTime,G=function(v){v++;if("running"===z.state)if(B&&(z.swapTime=+new Date),0<z.subtasks.length){var C=z.subtasks.shift();C.error=z.error;C.swapTime=z.swapTime;C.userData=z.userData;C.run(C);C.error||f(C,v)}else p(z),z.error||null===z.parent||(z.parent.error=z.error,z.parent.swapTime=z.swapTime,z.parent.userData=
z.userData,f(z.parent,v))};B?setTimeout(G,0):G(N)},p=function(z,N){z.state="done";delete K[z.id];null===z.parent&&(z.type in l?0===l[z.type].length?u.log.error("forge.task","[%s][%s] task queue empty [%s]",z.id,z.name,z.type):l[z.type][0]!==z?u.log.error("forge.task","[%s][%s] task not first in queue [%s]",z.id,z.name,z.type):(l[z.type].shift(),0===l[z.type].length?delete l[z.type]:l[z.type][0].start()):u.log.error("forge.task","[%s][%s] task queue missing [%s]",z.id,z.name,z.type),N||(z.error&&z.failureCallback?
z.failureCallback(z):!z.error&&z.successCallback&&z.successCallback(z)))};R.exports=u.task=u.task||{};u.task.start=function(z){var N=new r({run:z.run,name:z.name||"?"});N.type=z.type;N.successCallback=z.success||null;N.failureCallback=z.failure||null;N.type in l?l[z.type].push(N):(l[N.type]=[N],b(N))};u.task.cancel=function(z){z in l&&(l[z]=[l[z][0]])};u.task.createCondition=function(){var z={tasks:{},wait:function(N){N.id in z.tasks||(N.block(),z.tasks[N.id]=N)},notify:function(){var N=z.tasks;z.tasks=
{};for(var B in N)N[B].unblock()}};return z}},function(R,H,E){function u(A,ia){if(!A)return 0;if(!ia||0>ia)ia=1;A/=ia;var oa=Math.pow(2,Math.log(Math.abs(A))/Math.log(2)-52);A+=0<=A?oa:-oa;return(0>A?-1:1)*Math.round(Math.abs(A))*ia}function K(A,ia,oa){A=u(A,oa);ia=u(ia,oa);A-=ia;return Math.abs(u(A,oa))<oa?0:0>A?-1:1}function V(A){return void 0===A||null===A?"":A.toString()}function l(A){return function(ia){var oa=V(ia);if(oa.length>A)throw Error("Value ".concat(ia," is longer thant ").concat(A,
"."));return oa}}function h(A){return function(ia){var oa=V(ia);if(!A.test(oa))throw oa=A.toString(),Error("Value ".concat(ia," does not match ").concat(oa,"."));return oa}}function r(A){if(A instanceof Date){var ia=("00"+A.getDate()).slice(-2),oa=("00"+(A.getMonth()+1)).slice(-2);A=A.getFullYear().toString();return"".concat(ia,"-").concat(oa,"-").concat(A)}throw Error("Date expected and ".concat(A," found."));}function b(A){if(A instanceof Date){var ia=("00"+A.getHours()).slice(-2),oa=("00"+A.getMinutes()).slice(-2);
A=("00"+A.getSeconds()).slice(-2);return"".concat(ia,":").concat(oa,":").concat(A)}throw Error("Date expected and ".concat(A," found."));}function f(A){return u(A,.01)}function p(A){if("number"===typeof A)return f(A).toFixed(2);throw Error("Number expected and ".concat(A," found."));}function z(A){"@babel/helpers - typeof";z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ia){return typeof ia}:function(ia){return ia&&"function"===typeof Symbol&&ia.constructor===Symbol&&ia!==
Symbol.prototype?"symbol":typeof ia};return z(A)}function N(A,ia,oa,Ha){A||console.error("".concat(ia," type mismatch, expected: ").concat(oa,", found:"),Ha);return A}function B(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"invoiceIdJson";return(null!==A&&"object"===z(A)||"function"===typeof A)&&N("undefined"===typeof A.serie||"string"===typeof A.serie,"".concat(ia,".serie"),"string | undefined",A.serie)&&N("string"===typeof A.number,"".concat(ia,".number"),"string",A.number)&&
N("string"===typeof A.issuedTime||A.issuedTime instanceof Date,"".concat(ia,".issuedTime"),"string | Date",A.issuedTime)}function G(A){"@babel/helpers - typeof";G="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ia){return typeof ia}:function(ia){return ia&&"function"===typeof Symbol&&ia.constructor===Symbol&&ia!==Symbol.prototype?"symbol":typeof ia};return G(A)}function v(A,ia,oa,Ha){A||console.error("".concat(ia," type mismatch, expected: ").concat(oa,", found:"),Ha);return A}
function C(A){return"AF"===A||"AL"===A||"DE"===A||"AD"===A||"AO"===A||"AI"===A||"AQ"===A||"AG"===A||"SA"===A||"DZ"===A||"AR"===A||"AM"===A||"AW"===A||"AU"===A||"AT"===A||"AZ"===A||"BS"===A||"BH"===A||"BD"===A||"BB"===A||"BE"===A||"BZ"===A||"BJ"===A||"BM"===A||"BY"===A||"BO"===A||"BA"===A||"BW"===A||"BV"===A||"BR"===A||"BN"===A||"BG"===A||"BF"===A||"BI"===A||"BT"===A||"CV"===A||"KY"===A||"KH"===A||"CM"===A||"CA"===A||"CF"===A||"CC"===A||"CO"===A||"KM"===A||"CG"===A||"CD"===A||"CK"===A||"KP"===A||"KR"===
A||"CI"===A||"CR"===A||"HR"===A||"CU"===A||"TD"===A||"CZ"===A||"CL"===A||"CN"===A||"CY"===A||"CW"===A||"DK"===A||"DM"===A||"DO"===A||"EC"===A||"EG"===A||"AE"===A||"ER"===A||"SK"===A||"SI"===A||"ES"===A||"US"===A||"EE"===A||"ET"===A||"FO"===A||"PH"===A||"FI"===A||"FJ"===A||"FR"===A||"GA"===A||"GM"===A||"GE"===A||"GS"===A||"GH"===A||"GI"===A||"GD"===A||"GR"===A||"GL"===A||"GU"===A||"GT"===A||"GG"===A||"GN"===A||"GQ"===A||"GW"===A||"GY"===A||"HT"===A||"HM"===A||"HN"===A||"HK"===A||"HU"===A||"IN"===A||
"ID"===A||"IR"===A||"IQ"===A||"IE"===A||"IM"===A||"IS"===A||"IL"===A||"IT"===A||"JM"===A||"JP"===A||"JE"===A||"JO"===A||"KZ"===A||"KE"===A||"KG"===A||"KI"===A||"KW"===A||"LA"===A||"LS"===A||"LV"===A||"LB"===A||"LR"===A||"LY"===A||"LI"===A||"LT"===A||"LU"===A||"XG"===A||"MO"===A||"MK"===A||"MG"===A||"MY"===A||"MW"===A||"MV"===A||"ML"===A||"MT"===A||"FK"===A||"MP"===A||"MA"===A||"MH"===A||"MU"===A||"MR"===A||"YT"===A||"UM"===A||"MX"===A||"FM"===A||"MD"===A||"MC"===A||"MN"===A||"ME"===A||"MS"===A||"MZ"===
A||"MM"===A||"NA"===A||"NR"===A||"CX"===A||"NP"===A||"NI"===A||"NE"===A||"NG"===A||"NU"===A||"NF"===A||"NO"===A||"NC"===A||"NZ"===A||"IO"===A||"OM"===A||"NL"===A||"BQ"===A||"PK"===A||"PW"===A||"PA"===A||"PG"===A||"PY"===A||"PE"===A||"PN"===A||"PF"===A||"PL"===A||"PT"===A||"PR"===A||"QA"===A||"GB"===A||"RW"===A||"RO"===A||"RU"===A||"SB"===A||"SV"===A||"WS"===A||"AS"===A||"KN"===A||"SM"===A||"SX"===A||"PM"===A||"VC"===A||"SH"===A||"LC"===A||"ST"===A||"SN"===A||"RS"===A||"SC"===A||"SL"===A||"SG"===A||
"SY"===A||"SO"===A||"LK"===A||"SZ"===A||"ZA"===A||"SD"===A||"SS"===A||"SE"===A||"CH"===A||"SR"===A||"TH"===A||"TW"===A||"TZ"===A||"TJ"===A||"PS"===A||"TF"===A||"TL"===A||"TG"===A||"TK"===A||"TO"===A||"TT"===A||"TN"===A||"TC"===A||"TM"===A||"TR"===A||"TV"===A||"UA"===A||"UG"===A||"UY"===A||"UZ"===A||"VU"===A||"VA"===A||"VE"===A||"VN"===A||"VG"===A||"VI"===A||"WF"===A||"YE"===A||"DJ"===A||"ZM"===A||"ZW"===A||"QU"===A||"XB"===A||"XU"===A||"XN"===A}function t(A){var ia=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:"creditNoteType";return(null!==A&&"object"===G(A)||"function"===typeof A)&&v("R1"===A.reason||"R2"===A.reason||"R3"===A.reason||"R4"===A.reason||"R5"===A.reason,"".concat(ia,".reason"),'"R1" | "R2" | "R3" | "R4" | "R5"',A.reason)&&v("S"===A.style||"I"===A.style,"".concat(ia,".style"),'"S" | "I"',A.style)&&v(Array.isArray(A.ids)&&A.ids.every(function(oa){return q(oa)}),"".concat(ia,".ids"),"InvoiceId[]",A.ids)&&v("undefined"===typeof A.creditBase||"number"===typeof A.creditBase,"".concat(ia,
".creditBase"),"number | undefined",A.creditBase)&&v("undefined"===typeof A.creditVat||"number"===typeof A.creditVat,"".concat(ia,".creditVat"),"number | undefined",A.creditVat)&&v("undefined"===typeof A.creditRecharge||"number"===typeof A.creditRecharge,"".concat(ia,".creditRecharge"),"number | undefined",A.creditRecharge)}function S(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"invoice";return(null!==A&&"object"===G(A)||"function"===typeof A)&&v(g(A.issuer),"".concat(ia,".issuer"),
"Issuer",A.issuer)&&v("undefined"===typeof A.recipient||y(A.recipient)||J(A.recipient),"".concat(ia,".recipient"),"RecipientOther | undefined",A.recipient)&&v(q(A.id),"".concat(ia,".id"),"InvoiceId",A.id)&&v("undefined"===typeof A.replacesTicket||!1===A.replacesTicket||!0===A.replacesTicket,"".concat(ia,".replacesTicket"),"boolean | undefined",A.replacesTicket)&&v("undefined"===typeof A.replacedTicketIds||Array.isArray(A.replacedTicketIds)&&A.replacedTicketIds.every(function(oa){return q(oa)}),"".concat(ia,
".replacedTicketIds"),"InvoiceId[] | undefined",A.replacedTicketIds)&&v("undefined"===typeof A.creditNote||t(A.creditNote),"".concat(ia,".creditNote"),"CreditNoteType | undefined",A.creditNote)&&v("undefined"===typeof A.simple||!1===A.simple||!0===A.simple,"".concat(ia,".simple"),"boolean | undefined",A.simple)&&v("undefined"===typeof A.description||k(A.description),"".concat(ia,".description"),"InvoiceDescription | undefined",A.description)&&v("undefined"===typeof A.vatLines||Array.isArray(A.vatLines)&&
A.vatLines.every(function(oa){return Q(oa)}),"".concat(ia,".vatLines"),"VatLine[] | undefined",A.vatLines)&&v("undefined"===typeof A.retentionLines||Array.isArray(A.retentionLines)&&A.retentionLines.every(function(oa){return aa(oa)}),"".concat(ia,".retentionLines"),"RetentionLine[] | undefined",A.retentionLines)&&v("undefined"===typeof A.lines||Array.isArray(A.lines)&&A.lines.every(function(oa){return I(oa)}),"".concat(ia,".lines"),"InvoiceLine[] | undefined",A.lines)&&v("undefined"===typeof A.total||
"number"===typeof A.total,"".concat(ia,".total"),"number | undefined",A.total)&&v("undefined"===typeof A.retentionAmount||"number"===typeof A.retentionAmount,"".concat(ia,".retentionAmount"),"number | undefined",A.retentionAmount)&&v("undefined"===typeof A.vat||"number"===typeof A.vat,"".concat(ia,".vat"),"number | undefined",A.vat)&&v("undefined"===typeof A.retention||"number"===typeof A.retention,"".concat(ia,".retention"),"number | undefined",A.retention)&&v("undefined"===typeof A.vatKeys||Array.isArray(A.vatKeys)&&
A.vatKeys.every(function(oa){return"02"===oa||"03"===oa||"04"===oa||"05"===oa||"06"===oa||"01"===oa||"07"===oa||"08"===oa||"09"===oa||"10"===oa||"11"===oa||"12"===oa||"13"===oa||"14"===oa||"15"===oa||"51"===oa||"52"===oa||"53"===oa}),"".concat(ia,".vatKeys"),"VatKey[] | undefined",A.vatKeys)}function k(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"invoiceDescription";return(null!==A&&"object"===G(A)||"function"===typeof A)&&v("string"===typeof A.text,"".concat(ia,".text"),"string",
A.text)&&v(A.operationDate instanceof Date,"".concat(ia,".operationDate"),"Date",A.operationDate)}function e(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"invoiceDescriptionJson";return(null!==A&&"object"===G(A)||"function"===typeof A)&&v("string"===typeof A.text,"".concat(ia,".text"),"string",A.text)&&v("string"===typeof A.operationDate||A.operationDate instanceof Date,"".concat(ia,".operationDate"),"string | Date",A.operationDate)}function q(A){var ia=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:"invoiceId";return B(A)&&v(A.issuedTime instanceof Date,"".concat(ia,".issuedTime"),"Date",A.issuedTime)}function I(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"invoiceLine";return(null!==A&&"object"===G(A)||"function"===typeof A)&&v("string"===typeof A.description,"".concat(ia,".description"),"string",A.description)&&v("number"===typeof A.quantity,"".concat(ia,".quantity"),"number",A.quantity)&&v("number"===typeof A.price,"".concat(ia,".price"),"number",
A.price)&&v("undefined"===typeof A.discount||"number"===typeof A.discount,"".concat(ia,".discount"),"number | undefined",A.discount)&&v("undefined"===typeof A.amount||"number"===typeof A.amount,"".concat(ia,".amount"),"number | undefined",A.amount)&&v("undefined"===typeof A.amountWithVat||"number"===typeof A.amountWithVat,"".concat(ia,".amountWithVat"),"number | undefined",A.amountWithVat)&&v("undefined"===typeof A.vat||"number"===typeof A.vat,"".concat(ia,".vat"),"number | undefined",A.vat)&&v("undefined"===
typeof A.retention||"number"===typeof A.retention,"".concat(ia,".retention"),"number | undefined",A.retention)&&v("undefined"===typeof A.exemptionReason||"E1"===A.exemptionReason||"E2"===A.exemptionReason||"E3"===A.exemptionReason||"E4"===A.exemptionReason||"E5"===A.exemptionReason||"E6"===A.exemptionReason,"".concat(ia,".exemptionReason"),'"E1" | "E2" | "E3" | "E4" | "E5" | "E6" | undefined',A.exemptionReason)&&v("undefined"===typeof A.notExemptionType||"S1"===A.notExemptionType||"S2"===A.notExemptionType,
"".concat(ia,".notExemptionType"),'"S1" | "S2" | undefined',A.notExemptionType)&&v("undefined"===typeof A.notSubjectToVatReason||"OT"===A.notSubjectToVatReason||"RL"===A.notSubjectToVatReason,"".concat(ia,".notSubjectToVatReason"),'"OT" | "RL" | undefined',A.notSubjectToVatReason)&&v("undefined"===typeof A.merchandiseOrService||"merchandise"===A.merchandiseOrService||"service"===A.merchandiseOrService,"".concat(ia,".merchandiseOrService"),'"merchandise" | "service" | undefined',A.merchandiseOrService)&&
v("undefined"===typeof A.discountAmount||"number"===typeof A.discountAmount,"".concat(ia,".discountAmount"),"number | undefined",A.discountAmount)&&v("undefined"===typeof A.isUsingSimplifiedRegime||!1===A.isUsingSimplifiedRegime||!0===A.isUsingSimplifiedRegime,"".concat(ia,".isUsingSimplifiedRegime"),"boolean | undefined",A.isUsingSimplifiedRegime)}function g(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"issuer";return(null!==A&&"object"===G(A)||"function"===typeof A)&&v("string"===
typeof A.irsId,"".concat(ia,".irsId"),"string",A.irsId)&&v("string"===typeof A.name,"".concat(ia,".name"),"string",A.name)}function y(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"recipientIrs";return(null!==A&&"object"===G(A)||"function"===typeof A)&&v("string"===typeof A.irsId,"".concat(ia,".irsId"),"string",A.irsId)&&v("undefined"===typeof A.idType,"".concat(ia,".idType"),"undefined",A.idType)&&v("string"===typeof A.name,"".concat(ia,".name"),"string",A.name)&&v(C(A.country),
"".concat(ia,".country"),"CountryCode",A.country)&&v("string"===typeof A.postal,"".concat(ia,".postal"),"string",A.postal)&&v("undefined"===typeof A.address||"string"===typeof A.address,"".concat(ia,".address"),"string | undefined",A.address)&&v("undefined"===typeof A.vat2||!1===A.vat2||!0===A.vat2,"".concat(ia,".vat2"),"boolean | undefined",A.vat2)&&v("undefined"===typeof A.vatToVat2||null!==A.vatToVat2&&"object"===G(A.vatToVat2)||"function"===typeof A.vatToVat2,"".concat(ia,".vatToVat2"),"{ [vat: string]: number; } | undefined",
A.vatToVat2)}function J(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"recipientOther",oa;if(oa=(null!==A&&"object"===G(A)||"function"===typeof A)&&v("string"===typeof A.id,"".concat(ia,".id"),"string",A.id))oa=A.idType,oa=v("02"===oa||"03"===oa||"04"===oa||"05"===oa||"06"===oa,"".concat(ia,".idType"),"IrsIdType",A.idType);return oa&&v("string"===typeof A.name,"".concat(ia,".name"),"string",A.name)&&v(C(A.country),"".concat(ia,".country"),"CountryCode",A.country)&&v("string"===
typeof A.postal,"".concat(ia,".postal"),"string",A.postal)&&v("undefined"===typeof A.address||"string"===typeof A.address,"".concat(ia,".address"),"string | undefined",A.address)}function Q(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"vatLine";return(null!==A&&"object"===G(A)||"function"===typeof A)&&v("number"===typeof A.base,"".concat(ia,".base"),"number",A.base)&&v("number"===typeof A.rate,"".concat(ia,".rate"),"number",A.rate)&&v("undefined"===typeof A.amount||"number"===
typeof A.amount,"".concat(ia,".amount"),"number | undefined",A.amount)&&v("undefined"===typeof A.rate2||"number"===typeof A.rate2,"".concat(ia,".rate2"),"number | undefined",A.rate2)&&v("undefined"===typeof A.amount2||"number"===typeof A.amount2,"".concat(ia,".amount2"),"number | undefined",A.amount2)&&v("undefined"===typeof A.exemptionReason||"E1"===A.exemptionReason||"E2"===A.exemptionReason||"E3"===A.exemptionReason||"E4"===A.exemptionReason||"E5"===A.exemptionReason||"E6"===A.exemptionReason,
"".concat(ia,".exemptionReason"),'"E1" | "E2" | "E3" | "E4" | "E5" | "E6" | undefined',A.exemptionReason)&&v("undefined"===typeof A.notExemptionType||"S1"===A.notExemptionType||"S2"===A.notExemptionType,"".concat(ia,".notExemptionType"),'"S1" | "S2" | undefined',A.notExemptionType)&&v("undefined"===typeof A.notSubjectToVatReason||"OT"===A.notSubjectToVatReason||"RL"===A.notSubjectToVatReason,"".concat(ia,".notSubjectToVatReason"),'"OT" | "RL" | undefined',A.notSubjectToVatReason)&&v("undefined"===
typeof A.merchandiseOrService||"merchandise"===A.merchandiseOrService||"service"===A.merchandiseOrService,"".concat(ia,".merchandiseOrService"),'"merchandise" | "service" | undefined',A.merchandiseOrService)&&v("undefined"===typeof A.isUsingSimplifiedRegime||!1===A.isUsingSimplifiedRegime||!0===A.isUsingSimplifiedRegime,"".concat(ia,".isUsingSimplifiedRegime"),"boolean | undefined",A.isUsingSimplifiedRegime)}function aa(A){var ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"retentionLine";
return(null!==A&&"object"===G(A)||"function"===typeof A)&&v("number"===typeof A.base,"".concat(ia,".base"),"number",A.base)&&v("number"===typeof A.rate,"".concat(ia,".rate"),"number",A.rate)&&v("undefined"===typeof A.amount||"number"===typeof A.amount,"".concat(ia,".amount"),"number | undefined",A.amount)}function Z(A,ia){var oa;if("undefined"===typeof Symbol||null==A[Symbol.iterator]){if(Array.isArray(A)||(oa=ca(A))||ia&&A&&"number"===typeof A.length){oa&&(A=oa);var Ha=0;ia=function(){};return{s:ia,
n:function(){return Ha>=A.length?{done:!0}:{done:!1,value:A[Ha++]}},e:function(Ua){throw Ua;},f:ia}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var Ga=!0,Oa=!1,Ma;return{s:function(){oa=A[Symbol.iterator]()},n:function(){var Ua=oa.next();Ga=Ua.done;return Ua},e:function(Ua){Oa=!0;Ma=Ua},f:function(){try{if(!Ga&&null!=oa["return"])oa["return"]()}finally{if(Oa)throw Ma;}}}}function ca(A,
ia){if(A){if("string"===typeof A)return fa(A,ia);var oa=Object.prototype.toString.call(A).slice(8,-1);"Object"===oa&&A.constructor&&(oa=A.constructor.name);if("Map"===oa||"Set"===oa)return Array.from(A);if("Arguments"===oa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oa))return fa(A,ia)}}function fa(A,ia){if(null==ia||ia>A.length)ia=A.length;for(var oa=0,Ha=Array(ia);oa<ia;oa++)Ha[oa]=A[oa];return Ha}function ha(A){var ia=[],oa=[],Ha=[],Ga=[];A=Z(A);var Oa;try{for(A.s();!(Oa=A.n()).done;){var Ma=
Oa.value;Ma.notSubjectToVatReason?Ga.push(Ma):Ma.exemptionReason?ia.push(Ma):Ma.notExemptionType&&"S1"!==Ma.notExemptionType?"S2"===Ma.notExemptionType&&Ha.push(Ma):oa.push(Ma)}}catch(Ua){A.e(Ua)}finally{A.f()}return{exemptedVatLines:ia,notExemptedVatS1Lines:oa,notExemptedVatS2Lines:Ha,notSubjectToVatLines:Ga}}function pa(A){return A.reduce(function(ia,oa){return ia+oa.amount},0)}function x(A){return A.reduce(function(ia,oa){return ia+oa.base+oa.amount+oa.amount2},0)}function n(A){return A.reason&&
"R5"==A.reason?!0:!1}function w(A){if(A.recipient){if((!A.simple||A.replacesTicket||A.creditNote&&!n(A.creditNote))&&!A.recipient.address)throw Error("Invoice without address for recipients.");if(A.recipient.idType){if("02"==A.recipient.idType&&A.recipient.id.slice(0,2)!=A.recipient.country)throw Error("Country code does not match the VAT number.");if("03"==A.recipient.idType&&"ES"!=A.recipient.country)throw Error("Recipient country must be 'ES' for recipient type '03'.");}if(A.vatLines.find(function(ia){return"E5"==
ia.exemptionReason||!1})&&A.recipient.idType&&"02"!=A.recipient.idType)throw Error("Recipient code must be '02' for 'E5' exemption reason.");}else{if(!A.simple)throw Error("Invoice without recipients and without simplified invoice check.");if(A.creditNote&&!n(A.creditNote))throw Error("Invoice without recipients whit credit note reason other than R5.");if(A.replacesTicket)throw Error("Invoice without recipients for replaces ticket.");if(0<ha(A.vatLines).notExemptedVatS2Lines.length)throw Error("Invoice without recipients for non exemption type S2.");
if(A.vatLines.find(function(ia){return ia.amount2||!1}))throw Error("Invoice without recipients whit equivalence surcharge.");}}function F(A){if(!A.id||!A.id.number||!A.id.issuedTime)throw Error("Invoice number and expedition date are required.");var ia=new Date(A.id.issuedTime),oa=new Date;oa.setHours(0,0,0,0);ia.setHours(0,0,0,0);if(ia>oa)throw Error("issuedTime is not a valid date, it cannot be a future date.");if(A.id.serie&&!/^[0-9a-zA-Z-_/]+$/.test(A.id.serie))throw Error("Invoice series cannot contain special characters or accents");
if(A.simple){var Ha=0;A.vatLines.forEach(function(Ga){return Ha+=Ga.base});if(Ha>Xa)throw Error("Simplified invoice cannot exceed "+Xa+"\u20ac.");}if(!/^\d+$/.test(A.id.number))throw Error("Invoice number only support digits.");if(A.creditNote){if(!A.id.serie)throw Error("Invoice without serie for creadit note.");if("S"!=A.creditNote.style&&(A.creditNote.creditBase||A.creditNote.creditVat||A.creditNote.creditRecharge))throw Error("Credit note must be type 'S'.");}if(A.replacesTicket){if(!A.replacedTicketIds)throw Error("Missing replaced ticket Ids.");
if(A.replacedTicketIds.length>d)throw Error("Only up to 100 replaced invoices allowed");}if(A.creditNote){if(!A.creditNote.ids)throw Error("Missing credit note Ids.");if(A.creditNote.ids.length>d)throw Error("Only up to 100 rectified invoices allowed");}}function W(A){if(A.length>db)throw Error("Only up to three VAT keys allowed");var ia="02 04 09 10 14 15 16 17".split(" ").includes(A[0]);if(1<A.length&&ia)throw Error("Only up one VAT key for codes 02, 04, 09, 10, 14, 15, 16, 17");ia=!1;switch(A[0]){case "07":var oa=
"01 03 05 09 11 12 13 14 15".split(" ");if(A[1]&&!oa.includes(A[1])||A[2]&&!oa.includes(A[2]))ia=!0;break;case "05":oa="01 11 12 13 06 08".split(" ");if(A[1]&&!oa.includes(A[1])||A[2]&&!oa.includes(A[2]))ia=!0;break;case "06":oa=["11","12","13","14","15"];if(A[1]&&!oa.includes(A[1])||A[2]&&!oa.includes(A[2]))ia=!0;break;case "11":case "12":case "13":oa=["08","15"];if(A[1]&&!oa.includes(A[1])||A[2]&&!oa.includes(A[2]))ia=!0;break;case "03":case "08":if(A[1]&&"01"!=A[1]||A[2]&&"01"!=A[2])ia=!0;break;
case "01":if(A[1]&&"02"!=A[1]||A[2]&&"02"!=A[2])ia=!0;break;case "51":case "52":case "53":1<A.length&&(ia=!0)}if(ia)throw Error("Incompatible VAT keys found when first key is "+A[0]);}function P(A){W(A.vatKeys);var ia=["03","05","06","09"];if(!A.vatKeys.some(function(Ia){return ia.includes(Ia)})){var oa=x(A.vatLines);if(0!=K(oa,A.total,U))throw Error("The sum of the vat lines does not match the total invoice amount.");}if(0<A.lines.length){oa=A.lines.reduce(function(Ia,Za){return Ia+Za.amountWithVat},
0);if(0!=K(oa,A.total,U))throw Error("The sum of the amount of the lines does not match the total amount of the invoice.");var Ha=A.vatLines.reduce(function(Ia,Za){return Ia+Za.base+Za.amount+Za.amount2},0);if(0!=K(Ha,oa,U))throw Error("The sum of the amount of the lines does not match with the sum of the vat lines.");}if(A.vatLines.find(function(Ia){return"E5"==Ia.exemptionReason&&"service"==Ia.merchandiseOrService}))throw Error("If merchandiseOrService is 'service', exemption reason cannot be E5.");
oa=A.vatLines.find(function(Ia){return"E2"==Ia.exemptionReason||"E3"==Ia.exemptionReason});if(1==A.vatKeys.length&&"01"==A.vatKeys[0]&&oa)throw Error("If VAT key is unique and 01, exemption reason cannot be E2 or E3.");var Ga=[f(0),f(4),f(10),f(21)];if(A.vatLines.find(function(Ia){return!Ga.includes(Ia.rate)}))throw Error("Invalid tax rate value.");var Oa=[f(5.2),f(1.4),f(.5),f(1.75)];if(A.vatLines.find(function(Ia){return Ia.rate2&&!Oa.includes(Ia.rate2)}))throw Error("Invalid equivalence surcharge tax rate value.");
if(A.vatLines.find(function(Ia){return Ia.rate2&&(Ia.rate==f(21)&&Ia.rate2!=f(5.2)&&Ia.rate2!=f(1.75)||Ia.rate==f(10)&&Ia.rate2!=f(1.4)||Ia.rate==f(4)&&Ia.rate2!=f(.5))}))throw Error("Incompatible equivalence surcharge tax rate value.");if(1==A.vatKeys.length&&"06"!=A.vatKeys[0]){A=Z(A.vatLines);var Ma;try{for(A.s();!(Ma=A.n()).done;){var Ua=Ma.value;if(Ua.rate2){var hb=f(Ua.base)*f(Ua.rate2)/100,kb=Math.abs(hb-Ua.amount2),pb=Math.abs(1*f(Ua.base)/100);if(kb>pb||10<kb)throw Error("Amount2 cannot exceed +-10 euros with respect to the base and rate2 in some lines.");
}}}catch(Ia){A.e(Ia)}finally{A.f()}}}function O(A,ia){if(ia){var oa=["14","15"];if(!A.vatKeys.some(function(Ha){return oa.includes(Ha)})&&(A=new Date,ia=new Date(ia.operationDate),A.setHours(0,0,0,0),ia.setHours(0,0,0,0),ia>A))throw Error("operationDate is not a valid date, it cannot be a future date.");}}function L(A){var ia=ha(A.vatLines),oa=ia.notExemptedVatS1Lines;if(0<oa.length){var Ha=["03","05","09"],Ga=A.vatKeys.some(function(Ia){return Ha.includes(Ia)});if(1==A.vatKeys.length&&"03"!=A.vatKeys[0]&&
"05"!=A.vatKeys[0]&&"09"!=A.vatKeys[0]||1<A.vatKeys.length&&!Ga){if(oa.find(function(Ia){return(Ia.base&&0!=Ia.base||Ia.amount&&0!=Ia.amount)&&0==Ia.rate})&&(!A.creditNote||A.creditNote&&"I"!=A.creditNote.style))throw Error("Rate required in some lines.");Ga=A.vatKeys.includes("06");if(1==A.vatKeys.length&&"06"!=A.vatKeys[0]||1<A.vatKeys.length&&!Ga){if(oa.find(function(Ia){return 0<Ia.amount!=0<Ia.base})&&!A.simple&&(!A.creditNote||A.creditNote&&("I"!=A.creditNote.style||"R2"!=A.creditNote.reason&&
"R3"!=A.creditNote.reason)))throw Error("Amount and base must have the same sign in some lines.");Ga=Z(oa);var Oa;try{for(Ga.s();!(Oa=Ga.n()).done;){var Ma=Oa.value,Ua=f(Ma.base)*f(Ma.rate)/100,hb=Math.abs(Ua-Ma.amount),kb=Math.abs(1*f(Ma.base)/100);if((1E3>=Ma.base&&hb>kb||10<hb)&&(!A.creditNote||A.creditNote&&("I"!=A.creditNote.style||"R2"!=A.creditNote.reason&&"R3"!=A.creditNote.reason&&"R5"!=A.creditNote.reason)))throw Error("Amount cannot exceed +-10 euros with respect to the base and rate in some lines.");
}}catch(Ia){Ga.e(Ia)}finally{Ga.f()}}}}Oa=ia.notExemptedVatS2Lines;if(0<Oa.length){if(Oa.find(function(Ia){return(Ia.base&&0!=Ia.base||Ia.amount&&0!=Ia.amount)&&0==Ia.rate}))throw Error("Rate required in some lines.");if(Oa.find(function(Ia){return!Ia.amount||0==Ia.amount}))throw Error("Amount required in some lines.");if(Oa.find(function(Ia){return!Ia.rate2||0==Ia.rate2}))throw Error("Rate2 required in some lines.");if(Oa.find(function(Ia){return!Ia.amount2||0==Ia.amount2}))throw Error("Amount2 required in some lines.");
var pb="01 04 05 06 07 12".split(" ");if(!A.vatKeys.some(function(Ia){return pb.includes(Ia)}))throw Error("notExemptionType can only be S2 if vatKeys contains 01, 04, 05, 06, 07 or 12.");}if(A.vatKeys.includes("02")){if(A.recipient&&"ES"==A.recipient.country)throw Error("For exports (vatKey 02) the recipient cannot be Spanish.");if(1==A.vatKeys.length&&0<ia.notExemptedVatS1Lines.length+ia.notExemptedVatS2Lines.length)throw Error("For unique vatKey 02 there can be no not exempted vat lines.");}if(1==
A.vatKeys.length&&["03","04","07"].includes(A.vatKeys[0])&&0<ia.notSubjectToVatLines.length)throw Error("For unique vatKey 03, 04 or 07, there can be no not subject vat lines.");if(1==A.vatKeys.length&&A.vatKeys.includes("04")&&0<oa.length)throw Error("For vatKey 04 only vatType S2 is allowed.");if(1==A.vatKeys.length&&A.vatKeys.includes("07")){if(0<Oa.length)throw Error("For vatKey 07 vatType S2 is not allowed.");if(A.vatLines.find(function(Ia){return"E2"==Ia.exemptionReason||"E3"==Ia.exemptionReason||
"E4"==Ia.exemptionReason||"E5"==Ia.exemptionReason}))throw Error("For vatKey 07 exemptionReason E2, E3, E4 or E5 are not allowed.");}if(A.vatKeys.includes("08")){if(A.vatLines.find(function(Ia){return"RL"!=Ia.notSubjectToVatReason}))throw Error("For vatKey 08 only notSubjectToVatReason RL is allowed.");if(1==A.vatKeys.length&&0<ia.exemptedVatLines.length)throw Error("For vatKey 08 only notSubject is allowed.");}if(1==A.vatKeys.length&&A.vatKeys.includes("10")&&A.vatLines.find(function(Ia){return"OT"!=
Ia.notSubjectToVatReason}))throw Error("For vatKey 10 only notSubjectToVatReason OT is allowed.");if(1==A.vatKeys.length&&["11","12","13"].includes(A.vatKeys[0])&&A.vatLines.find(function(Ia){var Za=f(21);return 0!=K(Ia.rate,Za,U)}))throw Error("For unique vatKey 11, 12 or 13, only rate 21% is allowed.");if(1==A.vatKeys.length&&A.vatKeys.includes("14")){if(!A.description||new Date(A.description.operationDate)<=new Date(A.id.issuedTime))throw Error("Operation date must be after the date of issue.");
if(!A.recipient||A.recipient.idType&&!["P","Q","S","V"].includes(A.recipient.id.slice(0,1))||!["P","Q","S","V"].includes(A.recipient.irsId.slice(0,1)))throw Error("For unique vatKey 14 VAT must start with P, Q, S o V.");}if(1==A.vatKeys.length&&A.vatKeys.includes("51")){if(A.vatLines.find(function(Ia){return Ia.rate2||Ia.amount2}))throw Error("For unique vatKey 51 you must not fill in amount2 or rate2.");if(!A.vatLines.find(function(Ia){return Ia.isUsingSimplifiedRegime}))throw Error("For a single invoice vatKey 51, isUsingSimplifiedRegime must be true.");
}if(1==A.vatKeys.length&&A.vatKeys.includes("52")&&!A.vatLines.find(function(Ia){return Ia.isUsingSimplifiedRegime}))throw Error("For a single invoice vatKey 52, isUsingSimplifiedRegime must be true.");}function sa(A){if(!(A&&A.license&&A.name&&A.version&&A.developerIrsId))throw Error("Software license, name, version and Software Developer fiscal ID are required.");}function Aa(A,ia){var oa;if("undefined"===typeof Symbol||null==A[Symbol.iterator]){if(Array.isArray(A)||(oa=xa(A))||ia&&A&&"number"===
typeof A.length){oa&&(A=oa);var Ha=0;ia=function(){};return{s:ia,n:function(){return Ha>=A.length?{done:!0}:{done:!1,value:A[Ha++]}},e:function(Ua){throw Ua;},f:ia}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var Ga=!0,Oa=!1,Ma;return{s:function(){oa=A[Symbol.iterator]()},n:function(){var Ua=oa.next();Ga=Ua.done;return Ua},e:function(Ua){Oa=!0;Ma=Ua},f:function(){try{if(!Ga&&null!=oa["return"])oa["return"]()}finally{if(Oa)throw Ma;
}}}}function xa(A,ia){if(A){if("string"===typeof A)return Ea(A,ia);var oa=Object.prototype.toString.call(A).slice(8,-1);"Object"===oa&&A.constructor&&(oa=A.constructor.name);if("Map"===oa||"Set"===oa)return Array.from(A);if("Arguments"===oa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oa))return Ea(A,ia)}}function Ea(A,ia){if(null==ia||ia>A.length)ia=A.length;for(var oa=0,Ha=Array(ia);oa<ia;oa++)Ha[oa]=A[oa];return Ha}function za(A,ia){ia=Aa(ia);var oa;try{for(ia.s();!(oa=ia.n()).done;){var Ha=
oa.value,Ga,Oa;var Ma=Ha;var Ua=Array.isArray(Ma)?Ma:void 0;if(!(Oa=Ua))if(Ma=void 0,"undefined"!==typeof Symbol&&Symbol.iterator in Object(Ha)){var hb=[],kb=!0,pb=!1,Ia=void 0;try{for(var Za=Ha[Symbol.iterator]();!(kb=(Ma=Za.next()).done)&&(hb.push(Ma.value),3!==hb.length);kb=!0);}catch(Fb){pb=!0,Ia=Fb}finally{try{if(!kb&&null!=Za["return"])Za["return"]()}finally{if(pb)throw Ia;}}Oa=hb}else Oa=void 0;if(!(Ga=Oa||xa(Ha,3)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
var gb=Ga;var mb=gb[1],nb=gb[2],jb=Object(Ka.a)(A,gb[0]);jb&&(void 0===mb&&jb.parentNode?jb.parentNode.removeChild(jb):jb.textContent=nb(mb))}}catch(Fb){ia.e(Fb)}finally{ia.f()}}function c(A){return A.parentNode?(A.parentNode.removeChild(A),!0):!1}function X(A,ia,oa,Ha){var Ga=Ha?function(Ma,Ua){if(Ma in Ua)return Ua[Ma];throw Error("VAT "+Ma+" not found in "+JSON.stringify(Ua));}:function(Ma,Ua){return 0};var Oa=Ha||{};return A.map(function(Ma){var Ua=Ma.exemptionReason?0:void 0!==Ma.vat?Ma.vat:
ia;var hb=Ma.retention||oa||0;if(void 0===Ua)throw Error("Found invoice line without VAT and no default VAT defined");var kb=Ga(p(Ua),Oa),pb=f(Ma.quantity),Ia=Ma.price,Za=Ma.discount||0,gb=Ma.discountAmount||Za/100*Ia*pb,mb=Ma.amount||pb*Ia-gb,nb=Ma.amountWithVat||mb+Ua/100*mb+kb/100*mb;return{description:Ma.description,quantity:pb,price:u(Ia,1E-8),discount:f(Za),amount:f(mb),amountWithVat:f(nb),discountAmount:f(gb),vat:Ua,vat2:kb,retention:hb,exemptionReason:Ma.exemptionReason,notSubjectToVatReason:Ma.notSubjectToVatReason,
notExemptionType:Ma.notExemptionType,merchandiseOrService:Ma.merchandiseOrService,isUsingSimplifiedRegime:Ma.isUsingSimplifiedRegime||!1,raw:{price:Ia,discount:Za,amount:mb}}})}function ma(A){return A.map(function(ia){var oa;var Ha=void 0===ia.amount?f(ia.base)*f(ia.rate)/100:ia.amount;void 0===ia.amount2?"number"===typeof ia.rate2&&(oa=f(ia.base)*f(ia.rate2)/100):oa=ia.amount2;ia.notSubjectToVatReason||ia.exemptionReason||ia.notExemptionType||(ia.notExemptionType="S1");return{base:f(ia.base),rate:f(ia.rate),
amount:f(Ha),rate2:f(ia.rate2||0),amount2:f(oa||0),exemptionReason:ia.exemptionReason,notExemptionType:ia.notExemptionType,notSubjectToVatReason:ia.notSubjectToVatReason,merchandiseOrService:ia.merchandiseOrService,isUsingSimplifiedRegime:ia.isUsingSimplifiedRegime||!1}})}function ka(A){return A.map(function(ia){var oa=void 0===ia.amount?f(ia.base)*f(ia.rate)/100:ia.amount;return{base:f(ia.base),rate:f(ia.rate),amount:f(oa)}})}function na(A){return Object.values(A.reduce(function(ia,oa){var Ha=oa.amount,
Ga=oa.vat,Oa=Ga+"-"+oa.isUsingSimplifiedRegime;Ga=f(Ha*Ga/100);var Ma=oa.vat2||0,Ua=f(Ha*Ma/100);ia[Oa]?(ia[Oa].base+=Ha,ia[Oa].amount+=Ga,ia[Oa].amount2+=Ua):ia[Oa]={base:Ha,rate:oa.vat,rate2:Ma,amount:Ga,amount2:Ua,exemptionReason:oa.exemptionReason,notExemptionType:oa.notExemptionType,notSubjectToVatReason:oa.notSubjectToVatReason,merchandiseOrService:oa.merchandiseOrService,isUsingSimplifiedRegime:oa.isUsingSimplifiedRegime};return ia},{}))}function Ba(A){return Object.values(A.reduce(function(ia,
oa){var Ha=oa.amount,Ga=oa.retention,Oa=f(Ha*Ga/100);ia[Ga]?(ia[Ga].base+=Ha,ia[Ga].amount+=Oa):ia[Ga]={base:Ha,rate:oa.retention,amount:Oa};return ia},{}))}function La(A){return Object.values(A.reduce(function(ia,oa){var Ha=oa.raw.amount,Ga=oa.vat,Oa=Ga+"-"+oa.isUsingSimplifiedRegime;Ga=Ha*Ga/100;var Ma=oa.vat2||0,Ua=Ha*Ma/100;ia[Oa]?(ia[Oa].base+=Ha,ia[Oa].amount+=Ga,ia[Oa].amount2+=Ua):ia[Oa]={base:Ha,rate:oa.vat,rate2:Ma,amount:Ga,amount2:Ua,exemptionReason:oa.exemptionReason,notExemptionType:oa.notExemptionType,
notSubjectToVatReason:oa.notSubjectToVatReason,merchandiseOrService:oa.merchandiseOrService,isUsingSimplifiedRegime:oa.isUsingSimplifiedRegime};return ia},{}))}function Pa(A){return Object.values(A.reduce(function(ia,oa){var Ha=oa.raw.amount,Ga=oa.retention,Oa=Ha*Ga/100;ia[Ga]?(ia[Ga].base+=Ha,ia[Ga].amount+=Oa):ia[Ga]={base:Ha,rate:oa.retention,amount:Oa};return ia},{}))}function ab(A,ia,oa){A="\n<IDFacturaRectificadaSustituida>\n    <SerieFactura/>\n    <NumFactura/>\n    <FechaExpedicionFactura/>\n</IDFacturaRectificadaSustituida>\n".replace(/>\s+</g,
"><");A=(new DOMParser).parseFromString(A,"application/xml");za(A,[["SerieFactura",oa.serie,ua],["NumFactura",oa.number,ua],["FechaExpedicionFactura",oa.issuedTime,r]]);oa.serie||Object(Ka.b)(A,"SerieFactura").forEach(c);ia.appendChild(A.documentElement)}function Na(A,ia,oa){var Ha=A.createElement("DetalleIVA"),Ga=A.createElement("BaseImponible"),Oa=A.createElement("TipoImpositivo"),Ma=A.createElement("CuotaImpuesto");Ga.textContent=p(oa.base);Oa.textContent=p(oa.rate);Ma.textContent=p(oa.amount);
ia.appendChild(Ha);Ha.appendChild(Ga);Ha.appendChild(Oa);Ha.appendChild(Ma);oa.rate2&&(ia=A.createElement("TipoRecargoEquivalencia"),ia.textContent=p(oa.rate2),Ha.appendChild(ia));oa.amount2&&(ia=A.createElement("CuotaRecargoEquivalencia"),ia.textContent=p(oa.amount2),Ha.appendChild(ia));oa.isUsingSimplifiedRegime&&(A=A.createElement("OperacionEnRecargoDeEquivalenciaORegimenSimplificado"),A.textContent="S",Ha.appendChild(A))}function cb(A,ia,oa){var Ha=A.createElement("Sujeta"),Ga=A.createElement("Exenta"),
Oa=A.createElement("NoExenta"),Ma=A.createElement("DetalleNoExenta"),Ua=A.createElement("TipoNoExenta"),hb=A.createElement("DesgloseIVA"),kb=A.createElement("DetalleNoExenta"),pb=A.createElement("TipoNoExenta"),Ia=A.createElement("DesgloseIVA"),Za=A.createElement("NoSujeta"),gb=ha(oa),mb=gb.exemptedVatLines,nb=gb.notExemptedVatS1Lines;oa=gb.notExemptedVatS2Lines;gb=gb.notSubjectToVatLines;var jb=nb.length+oa.length;if(7<mb.length)throw Error("Exempted VAT max. occurs is 7");if(6<jb)throw Error("Not exempted VAT max. occurs is 6");
if(2<gb.length)throw Error("Not subject to VAT max. occurs is 2");if(0<mb.length||0<jb){ia.appendChild(Ha);if(0<mb.length){Ha.appendChild(Ga);mb=Aa(mb);var Fb;try{for(mb.s();!(Fb=mb.n()).done;){var yb=A,rb=Ga,ub=Fb.value,Sb=yb.createElement("DetalleExenta"),Ib=yb.createElement("CausaExencion"),gc=yb.createElement("BaseImponible");if(ub.exemptionReason)Ib.textContent=ub.exemptionReason;else throw Error("Exemption reason is required.");gc.textContent=p(ub.base);rb.appendChild(Sb);Sb.appendChild(Ib);
Sb.appendChild(gc);if(ub.isUsingSimplifiedRegime){var Gb=yb.createElement("OperacionEnRecargoDeEquivalenciaORegimenSimplificado");Gb.textContent="S";Sb.appendChild(Gb)}}}catch(sb){mb.e(sb)}finally{mb.f()}}if(0<jb){Ha.appendChild(Oa);if(0<nb.length){Oa.appendChild(Ma);Ua.textContent="S1";Ma.appendChild(Ua);Ma.appendChild(hb);Ha=Aa(nb);var Yb;try{for(Ha.s();!(Yb=Ha.n()).done;)Na(A,hb,Yb.value)}catch(sb){Ha.e(sb)}finally{Ha.f()}}if(0<oa.length){Oa.appendChild(kb);pb.textContent="S2";kb.appendChild(pb);
kb.appendChild(Ia);Oa=Aa(oa);var Nb;try{for(Oa.s();!(Nb=Oa.n()).done;)Na(A,Ia,Nb.value)}catch(sb){Oa.e(sb)}finally{Oa.f()}}}}if(0<gb.length){ia.appendChild(Za);ia=Aa(gb);var rc;try{for(ia.s();!(rc=ia.n()).done;){Ia=A;Nb=Za;var Bb=rc.value,Tb=Ia.createElement("DetalleNoSujeta"),vb=Ia.createElement("Causa"),hc=Ia.createElement("Importe");if(Bb.notSubjectToVatReason)vb.textContent=Bb.notSubjectToVatReason;else throw Error("Not subject to VAT reason is required.");hc.textContent=p(Bb.base);Nb.appendChild(Tb);
Tb.appendChild(vb);Tb.appendChild(hc)}}catch(sb){ia.e(sb)}finally{ia.f()}}}function da(A,ia,oa){oa=oa||{};var Ha=(new DOMParser).parseFromString(lb,"application/xml");if(!A.issuer||!A.issuer.irsId||!A.issuer.name)throw Error("Issuer ID and fiscal name are required.");if(!A.id||!A.id.number||!A.id.issuedTime)throw Error("Invoice number and expedition date are required.");sa(ia);A=[["Emisor>NIF",A.issuer.irsId,ra],["ApellidosNombreRazonSocial",A.issuer.name,T],["CabeceraFactura>SerieFactura",A.id.serie,
ua],["CabeceraFactura>NumFactura",A.id.number,ua],["CabeceraFactura>FechaExpedicionFactura",A.id.issuedTime,r],["Software>LicenciaTBAI",ia.license,ua],["Software>Nombre",ia.name,T],["Software>Version",ia.version,ua],["EntidadDesarrolladora>NIF",ia.developerIrsId,ra]];oa.deviceId?A=A.concat([["NumSerieDispositivo",oa.deviceId,qa]]):Object(Ka.b)(Ha,"NumSerieDispositivo").forEach(c);za(Ha,A);return Ha}function la(A,ia,oa,Ha){var Ga=A.lines||[],Oa=A.vat;var Ma=A.retention;var Ua=A.recipient&&y(A.recipient)&&
A.recipient.vat2?A.recipient.vatToVat2?A.recipient.vatToVat2:$a:void 0;Oa=X(Ga,Oa,Ma,Ua);Ha=Ha||{};sa(oa);if(A.lines){var hb=A.description||{text:"/",operationDate:new Date(A.id.issuedTime)};Ua=A.vatLines?ma(A.vatLines):Ha.roundTaxGlobally?ma(La(Oa)):ma(na(Oa));Ma=A.retentionLines?ka(A.retentionLines):Ha.roundTaxGlobally?ka(Pa(Oa)):ka(Ba(Oa))}else if(A.vatLines&&A.description)Ua=ma(A.vatLines),hb=A.description,Ma=A.retentionLines?ka(A.retentionLines):[];else throw Error("Either lines or description + vat details must be provided.");
if(void 0!==A.retentionAmount&&0<Ma.length)throw Error("You cannot set Retention Amount and Retention rates (IRPF) at the same time!");Ga=Ua;var kb=void 0!==A.total?A.total:x(Ga);var pb=A.retentionAmount||pa(Ma);Ma={issuer:A.issuer,recipient:A.recipient,id:A.id,replacesTicket:A.replacesTicket||!1,replacedTicketIds:A.replacedTicketIds,creditNote:A.creditNote,simple:A.simple||!1,description:A.description,vatLines:Ga,retentionLines:Ma,lines:Oa,total:kb,retentionAmount:pb,vat:A.vat,retention:A.retention,
vatKeys:A.vatKeys||["01"]};if(!Ma.issuer||!Ma.issuer.irsId||!Ma.issuer.name)throw Error("Issuer ID and fiscal name are required.");O(Ma,hb);w(Ma);F(Ma);P(Ma);L(Ma);Ga=(new DOMParser).parseFromString(Va,"application/xml");oa=[["Emisor>NIF",A.issuer.irsId,ra],["Emisor>ApellidosNombreRazonSocial",A.issuer.name,T],["CabeceraFactura>SerieFactura",A.id.serie,ua],["CabeceraFactura>NumFactura",A.id.number,ua],["CabeceraFactura>FechaExpedicionFactura",A.id.issuedTime,r],["CabeceraFactura>HoraExpedicionFactura",
A.id.issuedTime,b],["FechaOperacion",hb.operationDate,r],["DescripcionFactura",hb.text,ba],["ImporteTotalFactura",Ma.total,p],["RetencionSoportada",Ma.retentionAmount,p],["Software>LicenciaTBAI",oa.license,ua],["Software>Nombre",oa.name,T],["Software>Version",oa.version,ua],["EntidadDesarrolladora>NIF",oa.developerIrsId,ra]];ia?oa=oa.concat([["SerieFacturaAnterior",ia.serie,ua],["NumFacturaAnterior",ia.number,ua],["FechaExpedicionFacturaAnterior",ia.issuedTime,r],["SignatureValueFirmaFacturaAnterior",
ia.hash,m]]):Object(Ka.b)(Ga,"EncadenamientoFacturaAnterior").forEach(c);hb=A.lines||[];ia=A.vatLines||[];if(A.recipient&&"ES"!=A.recipient.country){hb=Aa(hb);var Ia;try{for(hb.s();!(Ia=hb.n()).done;)if(!Ia.value.merchandiseOrService)throw Error("merchandiseOrService is required for foreign receivers");}catch(vb){hb.e(vb)}finally{hb.f()}Ia=Aa(ia);var Za;try{for(Ia.s();!(Za=Ia.n()).done;)if(!Za.value.merchandiseOrService)throw Error("merchandiseOrService is required for foreign receivers");}catch(vb){Ia.e(vb)}finally{Ia.f()}}if(Za=
A.recipient)if(Za.idType){Ia="\n<IDDestinatario>\n    <IDOtro>\n        <CodigoPais/>\n        <IDType/>\n        <ID/>\n    </IDOtro>\n    <ApellidosNombreRazonSocial/>\n    <CodigoPostal/>\n    <Direccion/>\n</IDDestinatario>\n".replace(/>\s+</g,"><");Ia=(new DOMParser).parseFromString(Ia,"application/xml");za(Ia,[["IDOtro>CodigoPais",Za.country,ea],["IDOtro>IDType",Za.idType,ea],["IDOtro>ID",Za.id,ua],["ApellidosNombreRazonSocial",Za.name,T],["CodigoPostal",Za.postal,ua],["Direccion",Za.address,
ba]]);Za.postal||Object(Ka.b)(Ia,"CodigoPostal").forEach(c);Za.address||Object(Ka.b)(Ia,"Direccion").forEach(c);Za=Object(Ka.a)(Ga,"Destinatarios");if(!Za)throw Error("Missing Destinatarios element");Za.appendChild(Ia.documentElement)}else{Ia="\n<IDDestinatario>\n    <NIF/>\n    <ApellidosNombreRazonSocial/>\n    <CodigoPostal/>\n    <Direccion/>\n</IDDestinatario>\n".replace(/>\s+</g,"><");Ia=(new DOMParser).parseFromString(Ia,"application/xml");za(Ia,[["NIF",Za.irsId,ra],["ApellidosNombreRazonSocial",
Za.name,T],["CodigoPostal",Za.postal,wa],["Direccion",Za.address,ba]]);Za.postal||Object(Ka.b)(Ia,"CodigoPostal").forEach(c);Za.address||Object(Ka.b)(Ia,"Direccion").forEach(c);Za=Object(Ka.a)(Ga,"Destinatarios");if(!Za)throw Error("Missing Destinatarios element");Za.appendChild(Ia.documentElement)}else Object(Ka.b)(Ga,"Destinatarios").forEach(c);A.simple||Object(Ka.b)(Ga,"FacturaSimplificada").forEach(c);Ha.deviceId?oa=oa.concat([["NumSerieDispositivo",Ha.deviceId,qa]]):Object(Ka.b)(Ga,"NumSerieDispositivo").forEach(c);
za(Ga,oa);if(Za=Ha=Object(Ka.a)(Ga,"TipoDesglose"))Za=(Za=A.recipient)&&"ES"==Za.country||!Za?!0:!1;if(Za){var gb=Ua,mb=Ga.createElement("DesgloseFactura");Ha.appendChild(mb);cb(Ga,mb,gb)}else if(Ha){hb=Ua;Ua=[];Za=[];Ia=Ga.createElement("DesgloseTipoOperacion");ia=Ga.createElement("PrestacionServicios");oa=Ga.createElement("Entrega");Ha.appendChild(Ia);Ha=Aa(hb);try{for(Ha.s();!(gb=Ha.n()).done;)if(mb=gb.value,"merchandise"===mb.merchandiseOrService)Za.push(mb);else if("service"===mb.merchandiseOrService)Ua.push(mb);
else throw Error("You must set merchandise or service for non spanish customers VAT lines.");}catch(vb){Ha.e(vb)}finally{Ha.f()}0<Ua.length&&(Ia.appendChild(ia),cb(Ga,ia,Ua));0<Za.length&&(Ia.appendChild(oa),cb(Ga,oa,Za))}else throw Error("TipoDesglose XML node is required.");A.replacesTicket||A.creditNote||Object(Ka.b)(Ga,"FacturasRectificadasSustituidas").forEach(c);if(!A.replacesTicket)Object(Ka.b)(Ga,"FacturaEmitidaSustitucionSimplificada").forEach(c);else if(A.replacedTicketIds){gb=Object(Ka.a)(Ga,
"FacturasRectificadasSustituidas");mb=Aa(A.replacedTicketIds);var nb;try{for(mb.s();!(nb=mb.n()).done;)ab(Ga,gb,nb.value)}catch(vb){mb.e(vb)}finally{mb.f()}}if(A=A.creditNote){nb="\n<FacturaRectificativa>\n    <Codigo/>\n    <Tipo/>\n    <ImporteRectificacionSustitutiva>\n        <BaseRectificada/>\n        <CuotaRectificada/>\n        <CuotaRecargoRectificada/>\n    </ImporteRectificacionSustitutiva>\n</FacturaRectificativa>\n".replace(/>\s+</g,"><");nb=(new DOMParser).parseFromString(nb,"application/xml");
za(nb,[["Codigo",A.reason,V],["Tipo",A.style,V],["ImporteRectificacionSustitutiva>BaseRectificada",A.creditBase,p],["ImporteRectificacionSustitutiva>CuotaRectificada",A.creditVat,p],["ImporteRectificacionSustitutiva>CuotaRecargoRectificada",A.creditRecharge,p]]);A.creditRecharge||Object(Ka.b)(nb,"CuotaRecargoRectificada").forEach(c);"I"==A.style&&Object(Ka.b)(nb,"ImporteRectificacionSustitutiva").forEach(c);gb=Object(Ka.a)(Ga,"CabeceraFactura");if(!gb)throw Error("Missing CabeceraFactura element");
mb=Object(Ka.a)(Ga,"FacturaRectificativa");if(!mb)throw Error("Missing FacturaRectificativa element");gb.replaceChild(nb.documentElement,mb);nb=Object(Ka.a)(Ga,"FacturasRectificadasSustituidas");A=Aa(A.ids);var jb;try{for(A.s();!(jb=A.n()).done;)ab(Ga,nb,jb.value)}catch(vb){A.e(vb)}finally{A.f()}}else Object(Ka.b)(Ga,"FacturaRectificativa").forEach(c);if(Oa.length>Fa)throw Error("Only up to 1000 invoice lines allowed");if(0<Oa.length){jb=Object(Ka.a)(Ga,"DetallesFactura");if(!jb)throw Error("Missing DetallesFactura element");
Oa=Aa(Oa);var Fb;try{for(Oa.s();!(Fb=Oa.n()).done;){A=void 0;nb=Ga;gb=jb;var yb=Fb.value,rb=nb.createElement("IDDetalleFactura"),ub=nb.createElement("DescripcionDetalle"),Sb=nb.createElement("Cantidad"),Ib=nb.createElement("ImporteUnitario"),gc=nb.createElement("Descuento"),Gb=nb.createElement("ImporteTotal");ub.textContent=ba(yb.description);Sb.textContent=p(yb.quantity);var Yb=yb.price;if("number"===typeof Yb)A=u(Yb,1E-8).toFixed(8);else throw Error("Number expected and ".concat(Yb," found."));
Ib.textContent=A;gc.textContent=p(yb.discountAmount);Gb.textContent=p(yb.amountWithVat);gb.appendChild(rb);rb.appendChild(ub);rb.appendChild(Sb);rb.appendChild(Ib);rb.appendChild(gc);rb.appendChild(Gb)}}catch(vb){Oa.e(vb)}finally{Oa.f()}}else Object(Ka.b)(Ga,"DetallesFactura").forEach(c);yb=Ma.vatKeys;Fb=Object(Ka.a)(Ga,"Claves");if(!Fb)throw Error("Missing Claves element");yb=Aa(yb);var Nb;try{for(yb.s();!(Nb=yb.n()).done;){rb=Ga;ub=Fb;var rc=Nb.value,Bb=rb.createElement("IDClave"),Tb=rb.createElement("ClaveRegimenIvaOpTrascendencia");
Tb.textContent=rc;ub.appendChild(Bb);Bb.appendChild(Tb)}}catch(vb){yb.e(vb)}finally{yb.f()}return Ga}function va(A,ia,oa){A=da(A,ia,oa);return(new XMLSerializer).serializeToString(A)}function Da(A,ia,oa,Ha){A=la(A,ia,oa,Ha);return(new XMLSerializer).serializeToString(A)}function Wa(A){if(!B(A))return!1;var ia=new Date(A.issuedTime);if(isNaN(ia.getDate()))return console.error("issuedTime is not a valid date: ",A.issuedTime),!1;A.issuedTime=ia;return q(A)}function ib(A){if(A.id&&!Wa(A.id))return!1;
if(A.description){if(!e(A.description))return!1;var ia=new Date(A.description.operationDate);if(isNaN(ia.getDate()))return console.error("operationDate is not a valid date: ",A.description.operationDate),!1;A.description.operationDate=ia}if(A.replacesTicket&&A.replacedTicketIds){if(A.simple)return console.error("Invoice can not have both simple and replacesTicket"),!1;if(A.creditNote)return console.error("Invoice can not have both creditNote and replacesTicket"),!1;if(!A.replacedTicketIds.every(Wa))return!1}else if(A.replacesTicket||
A.replacedTicketIds)return console.error("replacesTicket or replacedTicketIds expected"),!1;if(ia=A.creditNote){if(!ia.ids.every(Wa))return!1;if("S"==ia.style){if(!ia.creditBase)return console.error("creditBase expected"),!1;if(!ia.creditVat)return console.error("creditVat expected"),!1}}return S(A)}E.r(H);E.d(H,"getTbaiId",function(){return fb.d});E.d(H,"getTbaiChainInfo",function(){return fb.c});E.d(H,"Irs",function(){return fb.a});E.d(H,"getTbaiUrlFromBaseURL",function(){return fb.f});E.d(H,"getTbaiUrl",
function(){return fb.e});E.d(H,"TbaiSigner",function(){return fb.b});E.d(H,"InvoiceId",function(){return Qa.InvoiceId});E.d(H,"PreviousInvoiceId",function(){return Qa.PreviousInvoiceId});E.d(H,"cancelInvoiceToXmlDocument",function(){return da});E.d(H,"toXmlDocument",function(){return la});E.d(H,"cancelInvoiceToXml",function(){return va});E.d(H,"toXml",function(){return Da});E.d(H,"isInvoice",function(){return ib});var fb=E(44),Qa=E(42);E(45);var Ka=E(9),db=3,Xa=3E3,d=100,U=.01,ea=l(2),ua=l(20),qa=
l(30),m=function(A){return function(ia){return V(ia).substr(0,A)}}(100),T=l(120),ba=l(250),ra=h(/^(([a-z|A-Z]{1}\d{7}[a-z|A-Z]{1})|(\d{8}[a-z|A-Z]{1})|([a-z|A-Z]{1}\d{8}))$/),wa=h(/^\d{5}$/),Fa=1E3,$a={"21.00":5.2,"10.00":1.4,"4.00":.5},lb='\n<tbai:AnulaTicketBai xmlns:tbai="urn:ticketbai:anulacion">\n    <Cabecera>\n        <IDVersionTBAI>1.2</IDVersionTBAI>\n    </Cabecera>\n    <IDFactura>\n        <Emisor>\n            <NIF>????</NIF>\n            <ApellidosNombreRazonSocial>????</ApellidosNombreRazonSocial>\n        </Emisor>\n        <CabeceraFactura>\n            <SerieFactura>????</SerieFactura>\n            <NumFactura>????</NumFactura>\n            <FechaExpedicionFactura>????</FechaExpedicionFactura>\n        </CabeceraFactura>\n    </IDFactura>\n    <HuellaTBAI>\n        <Software>\n            <LicenciaTBAI>????</LicenciaTBAI>\n            <EntidadDesarrolladora>\n                <NIF>????</NIF>\n            </EntidadDesarrolladora>\n            <Nombre>????</Nombre>\n            <Version>????</Version>\n        </Software>\n        <NumSerieDispositivo>????</NumSerieDispositivo>\n    </HuellaTBAI>\n</tbai:AnulaTicketBai>'.replace(/>\s+</g,
"><").replace(/\s*xmlns/g," xmlns"),Va='\n<tbai:TicketBai xmlns:tbai="urn:ticketbai:emision">\n    <Cabecera>\n        <IDVersionTBAI>1.2</IDVersionTBAI>\n    </Cabecera>\n    <Sujetos>\n        <Emisor>\n            <NIF>????</NIF>\n            <ApellidosNombreRazonSocial>????</ApellidosNombreRazonSocial>\n        </Emisor>\n        <Destinatarios/>\n    </Sujetos>\n    <Factura>\n        <CabeceraFactura>\n            <SerieFactura>????</SerieFactura>\n            <NumFactura>????</NumFactura>\n            <FechaExpedicionFactura>????</FechaExpedicionFactura>\n            <HoraExpedicionFactura>????</HoraExpedicionFactura>\n            <FacturaSimplificada>S</FacturaSimplificada>\n            <FacturaEmitidaSustitucionSimplificada>S</FacturaEmitidaSustitucionSimplificada>\n            <FacturaRectificativa/>\n            <FacturasRectificadasSustituidas/>\n        </CabeceraFactura>\n        <DatosFactura>\n            <FechaOperacion>????</FechaOperacion>\n            <DescripcionFactura>????</DescripcionFactura>\n            <DetallesFactura></DetallesFactura>\n            <ImporteTotalFactura>????</ImporteTotalFactura>\n            <RetencionSoportada>????</RetencionSoportada>\n            <Claves></Claves>\n        </DatosFactura>\n        <TipoDesglose/>\n    </Factura>\n    <HuellaTBAI>\n        <EncadenamientoFacturaAnterior>\n            <SerieFacturaAnterior>????</SerieFacturaAnterior>\n            <NumFacturaAnterior>????</NumFacturaAnterior>\n            <FechaExpedicionFacturaAnterior>????</FechaExpedicionFacturaAnterior>\n            <SignatureValueFirmaFacturaAnterior>????</SignatureValueFirmaFacturaAnterior>\n        </EncadenamientoFacturaAnterior>\n        <Software>\n            <LicenciaTBAI>????</LicenciaTBAI>\n            <EntidadDesarrolladora>\n                <NIF>????</NIF>\n            </EntidadDesarrolladora>\n            <Nombre>????</Nombre>\n            <Version>????</Version>\n        </Software>\n        <NumSerieDispositivo>????</NumSerieDispositivo>\n    </HuellaTBAI>\n</tbai:TicketBai>'.replace(/>\s+</g,
"><").replace(/\s*xmlns/g," xmlns")}])});}).call(this || window)
